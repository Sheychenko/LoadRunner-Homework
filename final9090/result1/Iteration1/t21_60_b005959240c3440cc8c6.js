/*! v:1183758 b:default c:4451 */
try{var cnc=function(i){if(!i||!i.toString)return!1;const e=i.toString();return/\[native code\]/.test(e)||/\/\* source code not available \*\//.test(e)};cnc(Function.prototype.bind)?Function.prototype.__pbind=Function.prototype.bind:Function.prototype.__pbind=function(i,...e){let t=this;return function(...n){return t.apply(i,[...e,...n])}},cnc(Array.prototype.reduce)?Object.defineProperty&&Object.defineProperty(Array.prototype,"__preduce",{enumerable:!1,iterable:!1,value:Array.prototype.reduce}):Object.defineProperty(Array.prototype,"__preduce",{enumerable:!1,iterable:!1,value:function(i){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof i)throw new TypeError(i+" is not a function");var e,t=Object(this),n=t.length>>>0,l=0;if(arguments.length>=2)e=arguments[1];else{for(;l<n&&!(l in t);)l++;if(l>=n)throw new TypeError("Reduce of empty array with no initial value");e=t[l++]}for(;l<n;l++)l in t&&(e=i(e,t[l],l,t));return e}})}catch(i){}(self["pcode_1183758_default_5FxCQYEIlk"]=self["pcode_1183758_default_5FxCQYEIlk"]||[]).push([[4451],{4451:function(i,e,t){t.r(e),t.d(e,{VisibilitySensor:function(){return D}});var n=t(8853),l=t(587),r=t(14572),a=t(4765),o=t(31310),s=t(2076),c=t(87029);const u=(i,e,t)=>{const n=[];for(let l=0;l<i.length;l++)n[l]=e.call(t,i[l],l,i);return n};var d=t(45589),h=t(36526);function b(i,e,t){const n=function(i){const e={};return(0,d.E)(i,(([i,t])=>{e[i]=t})),e}(u((l=e,"function"==typeof Object.entries?Object.entries(l):u((0,h.Z)(l),(i=>[i,l[i]]))),(([i,e])=>[y(String(i)),e])));var l;return(0,c.A_)(i,n,t)}const y=i=>i.replace(/[A-Z]/g,(i=>`-${i.toLowerCase()}`));var g=t(82553),p=t(92139),m=t(61973),f=t(28214);const V=(0,m.G)([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],(i=>null!==navigator.userAgent.match(i)));function v(i){var e,t,n,l,r,a;const o=i.ownerDocument,s=o.defaultView,c=o.documentElement,u=i.getBoundingClientRect();return{winWidth:V?Math.max(c.clientWidth,null!==(e=null==s?void 0:s.innerWidth)&&void 0!==e?e:0):null!==(n=null!==(t=null==s?void 0:s.innerWidth)&&void 0!==t?t:c.clientWidth)&&void 0!==n?n:o.body.clientWidth,winHeight:V?Math.max(c.clientHeight,null!==(l=null==s?void 0:s.innerHeight)&&void 0!==l?l:0):null!==(a=null!==(r=null==s?void 0:s.innerHeight)&&void 0!==r?r:c.clientHeight)&&void 0!==a?a:o.body.clientHeight,left:u.left,top:u.top,width:u.width,height:u.height}}function w({width:i,height:e,top:t,left:n,winWidth:l,winHeight:r}){const a=n+i,o=t+e,s=(0,p.clamp)(n,0,l),c=(0,p.clamp)(t,0,r);return{winWidth:l,winHeight:r,left:s,top:c,width:(0,p.clamp)(a,s,l)-s,height:(0,p.clamp)(o,c,r)-c}}function S(i,e){return i.width*i.height/(e.width*e.height)}const O=i=>"hidden"in i?"hidden":"webkitHidden"in i?"webkitHidden":void 0;function H(i,e=!0){const t=O(i);return t?!i[t]:e}var E=t(98257),k=t(94093);class D extends l.V{constructor(i,{considerDocumentVisibility:e=!0,numberOfMeasurementSteps:t=2,enableTrackVisibility:l=!1}={}){super(),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"totalVisibilityValueSignal",{enumerable:!0,configurable:!0,writable:!0,value:new a.ValueSignal(!1)}),Object.defineProperty(this,"totalVisibilityRatioValueSignal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"elementVisibilityRatioValueSignal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentVisibilityValueSignal",{enumerable:!0,configurable:!0,writable:!0,value:new a.ValueSignal(!0)}),Object.defineProperty(this,"isElementReachableByTrackVisibilityValueSignal",{enumerable:!0,configurable:!0,writable:!0,value:new a.ValueSignal(!0)}),Object.defineProperty(this,"recalculateVisibility",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.isDestroyed||!(0,n.y)(this.element))return;const i=function(i){const e=function(i){return[v(i),...u((0,f.A)(i),v)]}(i);let t=w(e[0]),n=S(t,e[0]);for(let i=1;i<e.length;i++)t=w((l=t,{winWidth:(r=e[i]).winWidth,winHeight:r.winHeight,left:l.left+r.left,top:l.top+r.top,width:l.width,height:l.height})),n=S(t,e[0]);var l,r;return n}(this.element);this.elementVisibilityRatioValueSignal.dispatch(i)}});const o=Math.max(t,2),s=i.ownerDocument.defaultView;this.elementVisibilityRatioValueSignal=new a.ValueSignal(0);const c=s.IntersectionObserver;Boolean(c)?this.startIntersectionObserver(c,o):this.startVisibilityCheckInterval(s),l&&Boolean(c)&&(i=>"IntersectionObserverEntry"in i&&"isVisible"in i.IntersectionObserverEntry.prototype)(s)&&this.startCheckVisibilityWithTrackVisibility(s),e&&this.startObservingDocumentVisibility(s);const{valueSignal:d,teardown:h}=(0,r.combineValueSignalsIntoNewOne)([this.elementVisibilityRatioValueSignal,this.documentVisibilityValueSignal,this.isElementReachableByTrackVisibilityValueSignal],((i,e,t)=>t&&e?i:0));d.add((i=>{this.totalVisibilityValueSignal.dispatch(i>=.5)})),this.totalVisibilityRatioValueSignal=d,this.addDestroyHandler((()=>{this.totalVisibilityValueSignal.removeAll(),h(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll(),this.isElementReachableByTrackVisibilityValueSignal.removeAll()}))}startIntersectionObserver(i,e){const t=[.5],n=1/e;for(let i=1;i<e;i++)t.push(i*n);const l=new i((i=>{const e=i[i.length-1],{intersectionRatio:t}=e;this.elementVisibilityRatioValueSignal.dispatch(t)}),{threshold:t});l.observe(this.element),this.addDestroyHandler((()=>{l.disconnect()}))}startVisibilityCheckInterval(i){const e=(0,g.X)(this.recalculateVisibility);this.addDestroyHandler(e);const t=i.setTimeout(this.recalculateVisibility,0);this.addDestroyHandler((()=>{i.clearTimeout(t)}))}startCheckVisibilityWithTrackVisibility(i){const{element:e}=this,{teardown:t,visualVisibilitySignal:n}=(({element:i,win:e})=>{const t=new a.ValueSignal(!0),n=(i=>{const e=i.createElement("div");return b(e,{all:"initial",minWidth:"initial",minHeight:"initial",maxWidth:"initial",maxHeight:"initial",transform:"initial",padding:"initial",margin:"initial",border:"initial",outline:"initial"},!0),b(e,{pointerEvents:"none",width:"4px",height:"4px",position:"absolute",top:"50%",left:"50%",marginTop:"-1px",marginLeft:"-1px",zIndex:"2147483647"},!0),s.N.isDebugEnabled&&(e.dataset.isVisible="undefined"),e})(i.ownerDocument);i.appendChild(n);const l=new e.IntersectionObserver((i=>{const e=i[i.length-1],{isVisible:l=!0}=e;t.dispatch(l),s.N.isDebugEnabled&&(n.dataset.isVisible=String(l))}),{trackVisibility:!0,delay:100});return l.observe(n),{teardown:()=>{l.disconnect(),t.removeAll(),(0,o.L)(n)},visualVisibilitySignal:t,markerElement:n}})({element:e,win:i});this.addDestroyHandler(t),n.add(this.isElementReachableByTrackVisibilityValueSignal)}startObservingDocumentVisibility(i){const e=i.setTimeout((()=>{const e=i.document,t=H(e);this.documentVisibilityValueSignal.dispatch(t);const n=function(i,e){const t=function(i){const e=O(i);if(e)return e.replace(/hidden/i,"visibilitychange")}(i);return t?(0,E.addElementEventListener)({element:i,eventName:t,listener:()=>{e(H(i))}}):k.Z}(e,(i=>{this.documentVisibilityValueSignal.dispatch(i)}));this.addDestroyHandler(n)}),0);this.addDestroyHandler((()=>{i.clearTimeout(e)}))}}}}]);