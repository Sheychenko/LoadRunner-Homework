/*! For license information please see 5bd45b6f976a30645a5a-33.js.LICENSE */
webpackJsonp([33],Array(137).concat([function(e,t,n){"use strict";var r,i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FoldersDisabledMoveInto=t.ReplyLaterDisabledFolders=t.SenderInfoDisabledFolders=t.ThreadSidebarDisabledFolders=t.LabelDisabledFolders=t.ClearEnabledFolders=t.SpecialHelpFolders=t.SpecialBarFolders=t.DragSpecialFolders=t.AttachmentWidgetsExcludeFoldersMax=t.AttachmentWidgetsExcludeFoldersMedium=t.AttachmentWidgetsExcludeFoldersLite=t.ThreadsDisabledFolders=t.SearchDisabledFolders=t.FiltersDisabledFolders=t.SilentFolders=t.SpamDisabledFoldersShort=t.SpamDisabledFolders=t.PinDisabledExtendedFolders=t.PinDisabledFolders=t.QuickReplyDisabledFolders=t.ReplyDisabledFolders=t.OutcomingFolders=t.LOMDisabledFolders=t.UnsubscribeDisabledAltFolders=t.UnsubscribeDisabledFolders=t.RecipientsSpecialFolders=t.InternalFolders=t.NotIncoming=t.UnreadHiddenFoldersShort=t.UnreadHiddenFolders=t.DraftTemplateLikeFoldersShort=t.DraftLikeFoldersShort=t.DraftLikeFolders=t.HiddenWhenEmptyFolders=t.SystemFolders=t.WellKnownFolderSymbol=void 0,function(e){e.ARCHIVE="archive",e.DRAFT="draft",e.INBOX="inbox",e.OUTBOX="outbox",e.REPLY_LATER="reply_later",e.RESTORED="restored",e.SENT="sent",e.SPAM="spam",e.TEMPLATE="template",e.TRASH="trash"}(r=t.WellKnownFolderSymbol||(t.WellKnownFolderSymbol={})),t.SystemFolders=Object.values(r),t.HiddenWhenEmptyFolders=[r.OUTBOX,r.REPLY_LATER,r.RESTORED],t.DraftLikeFolders=[r.DRAFT,r.OUTBOX,r.TEMPLATE],t.DraftLikeFoldersShort=[r.DRAFT,r.OUTBOX],t.DraftTemplateLikeFoldersShort=[r.DRAFT,r.TEMPLATE],t.UnreadHiddenFolders=[r.SPAM,r.SENT,r.TRASH,r.DRAFT,r.TEMPLATE,r.OUTBOX],t.UnreadHiddenFoldersShort=[r.SPAM,r.TRASH],t.NotIncoming=[r.DRAFT,r.OUTBOX,r.SENT,r.SPAM,r.TRASH,r.TEMPLATE,r.ARCHIVE],t.InternalFolders=[r.DRAFT,r.OUTBOX,r.TEMPLATE,r.SENT],t.RecipientsSpecialFolders=[r.DRAFT,r.SENT],t.UnsubscribeDisabledFolders=[r.SENT,r.DRAFT,r.TEMPLATE],t.UnsubscribeDisabledAltFolders=[r.SENT,r.DRAFT,r.SPAM],t.LOMDisabledFolders=[r.TRASH,r.SPAM,r.DRAFT,r.TEMPLATE],t.OutcomingFolders=[r.SENT,r.OUTBOX],t.ReplyDisabledFolders=[r.SPAM,r.TRASH,r.DRAFT,r.SENT],t.QuickReplyDisabledFolders=[r.SPAM,r.TRASH,r.DRAFT],t.PinDisabledFolders=[r.SPAM,r.TRASH,r.REPLY_LATER],t.PinDisabledExtendedFolders=[r.TRASH,r.SPAM,r.REPLY_LATER,r.DRAFT,r.TEMPLATE],t.SpamDisabledFolders=[r.SPAM,r.DRAFT,r.OUTBOX,r.TEMPLATE,r.SENT],t.SpamDisabledFoldersShort=[r.DRAFT,r.TEMPLATE,r.SENT],t.SilentFolders=[r.DRAFT,r.OUTBOX,r.SENT,r.SPAM,r.TEMPLATE,r.TRASH,r.RESTORED],t.FiltersDisabledFolders=[r.OUTBOX,r.TRASH,r.RESTORED,r.REPLY_LATER],t.SearchDisabledFolders=[r.OUTBOX,r.SPAM],t.ThreadsDisabledFolders=[r.ARCHIVE,r.DRAFT,r.SPAM,r.TEMPLATE,r.TRASH],t.AttachmentWidgetsExcludeFoldersLite=[r.SPAM,r.TRASH],t.AttachmentWidgetsExcludeFoldersMedium=o(t.AttachmentWidgetsExcludeFoldersLite,[r.TEMPLATE]),t.AttachmentWidgetsExcludeFoldersMax=o(t.AttachmentWidgetsExcludeFoldersMedium,[r.DRAFT,r.SENT]),t.DragSpecialFolders=[r.SPAM,r.TRASH],t.SpecialBarFolders=[r.SPAM,r.TRASH,r.TEMPLATE],t.SpecialHelpFolders=[r.SPAM,r.TRASH],t.ClearEnabledFolders=[r.SPAM,r.TRASH],t.LabelDisabledFolders=[r.SPAM,r.TRASH],t.ThreadSidebarDisabledFolders=[r.SPAM,r.TRASH],t.SenderInfoDisabledFolders=[r.SPAM,r.TRASH],t.ReplyLaterDisabledFolders=[r.SPAM,r.TRASH,r.RESTORED],t.FoldersDisabledMoveInto=[r.REPLY_LATER,r.OUTBOX]},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerType=void 0,function(e){e.REPLY_LATER="reply_later"}(t.StickerType||(t.StickerType={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){var t=e.keys().reduce(function(t,n){var r=e(n),i=r.viewBox.split(" ").slice(2),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(i,2),a=o[0],s=o[1],l=r.id.slice(0,-"-usage".length);return"".concat(t," .").concat(l," { width: ").concat(a,"px; height: ").concat(s,"px; }\n")},""),n=document.getElementById("icon-styles");if(!n)return;n.innerHTML+=t}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3734),i=(n.n(r),n(178)),o=n(3735),a=n(3736),s=n(349);n.n(s);Jane.module("mail.js",function(){n(3737),n(3738),n(3739),n(3740),n(3741),n(3745),n(3746),n(3750),n(3751),n(3752),n(3756),n(3757),n(3758),n(3759),n(3761),n(3762),n(3763),n(3764),n(3765),n(3766),n(3767),n(3779),n(3780),n(3781),n(3782),n(3783),n(3784),n(3785),n(3786),n(3787),n(3788),n(3794),n(3795),n(3796),n(3797),n(3804),n(3805),n(3806),n(3808),n(3809),n(3810),n(3841),n(4109),Object(s.hasFeature)(s.Features.REACT_LAYOUT)?n(4257):n(4258),n(4259),n(4261),n(4262),n(4263),n(4336),n(4339),n(4340),n(4341),n(4342),n(4343),n(4344),n(1135),Daria.CompactMode=new o.a,Daria.MessagesLogger=new a.a,Object(i.a)(n(4346)),n(4876)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(518),c=(n.n(l),n(1742)),u=n.n(c),d=n(1195);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=e.split("/");if(1===t.length)throw new Error('Invalid key: "'.concat(e,'"'));return{keyset:t[0],loc:t.slice(1).join("/")}}var b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=g(this,(e=m(t)).call.apply(e,[this].concat(i)))).renderChilds=function(e){var t=e.lang,r=n.props,i=r.loc?v(r.loc):{};i.lang=t;var a=Object.keys(r).reduce(function(e,n){switch(n){case"loc":return e;case"params":return Object.assign(i,r[n]),e;case"tag":case"children":return i[n]=r[n],e}if(/^loc-/.test(n)){var o=v(r[n]),a=n.slice(4);e[a]=Object(l.getKey)(t,o.keyset,o.loc,r["params-"+a])}else/^params-/.test(n)||(e[n]=r[n]);return e},{}),s=i.tag||"span";return i.loc?(Object.keys(a).length&&(i.tag=function(e){return o.a.createElement(s,a,e.children)}),u()(i)):o.a.createElement(s,a,r.children)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"render",value:function(){return function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.a.Consumer,{},void 0,this.renderChilds)}}]),t}();b.contextType=d.a,b.propTypes={loc:s.a.string,params:s.a.object,children:s.a.node},t.default=b},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isSharedMailboxes",function(){return a}),n.d(t,"isSharedMailboxesEnabled",function(){return s}),n.d(t,"addMailboxUidParamsRewrite",function(){return l}),n.d(t,"getMailboxSettingsModelName",function(){return c}),n.d(t,"getAddressInformationModelName",function(){return u});var r=n(71),i=n(349),o=(n.n(i),n(843));n.n(o);n.d(t,"getMailboxUid",function(){return r.a});var a=function(){return Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)},s=function(){return Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)&&ns.Model.get("settings").getSign("show_shared_mailboxes")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a())return e;var t=Object(r.a)();return!t||"mailboxUid"in e?e:Object.assign({},e,{mailboxUid:t})},c=function(e){return a()&&o.MailboxSettings[e]?"mailbox-settings":"settings"},u=function(){return a()?"address-information":"account-information"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getGeneralThemesBridge",function(){return i}),n.d(t,"getDatasyncClient",function(){return o}),n.d(t,"getStatuslineBridge",function(){return a}),n.d(t,"getStatuslineComponents",function(){return s}),n.d(t,"getStatuslineRoot",function(){return l}),n.d(t,"getStatusline",function(){return c}),n.d(t,"getLeftColumn",function(){return u}),n.d(t,"getLeftFooter",function(){return d}),n.d(t,"getMainButtons",function(){return f}),n.d(t,"getFocusBridge",function(){return p}),n.d(t,"getSearchStoreBridge",function(){return g}),n.d(t,"getExternalEmailsBridge",function(){return m}),n.d(t,"getDndBridge",function(){return h}),n.d(t,"getPsSettingsDatasyncService",function(){return v}),n.d(t,"getPsSettingsDatasyncSnapshot",function(){return b}),n.d(t,"getMidgets",function(){return _}),n.d(t,"getShortcutsBridge",function(){return y}),n.d(t,"getPromoOnboardingGreetings",function(){return S}),n.d(t,"getYagptNeurofilterBannerPortal",function(){return w}),n.d(t,"getSetupLeft",function(){return O}),n.d(t,"getVideoBgSwitch",function(){return M}),n.d(t,"getThemeCard",function(){return x}),n.d(t,"getPromozavrBridge",function(){return E}),n.d(t,"getTuningPopupBridge",function(){return T}),n.d(t,"getSetupIndex",function(){return D}),n.d(t,"getPddRestrictNotificationsModel",function(){return C}),n.d(t,"getDisableAdPopupBridge",function(){return P}),n.d(t,"getContactCardPopupModel",function(){return k}),n.d(t,"getXivaServicesFromBridge",function(){return A}),n.d(t,"getMessageViewerLoader",function(){return I}),n.d(t,"getMessageViewerBridge",function(){return j}),n.d(t,"getMessageThreadLoader",function(){return R}),n.d(t,"getNotificationCenterLoader",function(){return F}),n.d(t,"getSetupUrls",function(){return L}),n.d(t,"getEmlViewerLoader",function(){return B}),n.d(t,"getContactSummaryLoader",function(){return N}),n.d(t,"getSetupCollectorsLoader",function(){return U}),n.d(t,"getMainToolbarLoader",function(){return H}),n.d(t,"setHeaderSearchFolded",function(){return W}),n.d(t,"setHeaderContactsSearchFolded",function(){return V}),n.d(t,"getCompactHeader",function(){return z}),n.d(t,"getMessagesListLoader",function(){return $}),n.d(t,"getSupportChat",function(){return q}),n.d(t,"getSupportChatModel",function(){return G}),n.d(t,"getLayoutResizeModel",function(){return K}),n.d(t,"toggleCompactLeftColumn",function(){return Y}),n.d(t,"callHamonChangeInboxGptSideEffect",function(){return X}),n.d(t,"getXivaBridge",function(){return J}),n.d(t,"getSupportWidgetData",function(){return Q}),n.d(t,"showInboxGPTOnboarding",function(){return Z}),n.d(t,"tracingAddProvider",function(){return ee}),n.d(t,"addHttpRequestToDebugData",function(){return te}),n.d(t,"getTabOrFolderCheckedBridge",function(){return ne}),n.d(t,"getLizaUxFeedbackController",function(){return re}),n.d(t,"setComposeExpanded",function(){return ie});var r=function(e){return window.ReactClientBridge&&window.ReactClientBridge.Exposed&&window.ReactClientBridge.Exposed[e]},i=function(){return r("GeneralThemesBridge")},o=function(){return r("PsSettingsDatasyncClient")},a=function(){return r("StatuslineBridge")},s=function(){return r("Statusline")||{}},l=function(){return r("StatuslineRoot")},c=function(){return r("Statusline")},u=function(){return r("LeftColumn")},d=function(){return r("LeftFooter")},f=function(){return r("MainButtons")},p=function(){return r("FocusBridge")},g=function(){return r("SearchStoreBridge")},m=function(){return r("ExternalEmailsBridge")},h=function(){return r("DndBridge")},v=function(){return r("PsSettingsDatasyncService")},b=function(){return r("PsSettingsDatasyncSnapshot")},_=function(){return r("Midgets")},y=function(){return r("ShortcutsBridge")},S=function(){return r("PromoOnboardingGreetings")},w=function(){return r("YagptNeurofilterBannerPortal")},O=function(){return r("SetupLeft")},M=function(){return r("VideoBgSwitch")},x=function(){return r("ThemeCard")},E=function(){return r("PromozavrBridge")},T=function(){return r("TuningPayBridge")},D=function(){return r("SetupIndex")},C=function(){return r("PddRestrictNotificationsModel")},P=function(){return r("DisableAdPopupBridge")},k=function(){return r("ContactCardPopupModel")},A=function(){return r("getXivaServices")},I=function(){return r("messageViewerLoader")},j=function(){return r("MessageViewerBridge")},R=function(){return r("messageThreadLoader")},F=function(){return r("notificationCenterLoader")},L=function(){return r("SetupUrls")},B=function(){return r("emlViewerLoader")},N=function(){return r("contactSummaryLoader")},U=function(){return r("setupCollectorsLoader")},H=function(){return r("mainToolbarLoader")},W=function(e){return r("setHeaderSearchFolded")(e)},V=function(e){return r("setHeaderContactsSearchFolded")(e)},z=function(){return r("CompactHeader")},$=function(){return r("messagesListLoader")},q=function(){return r("SupportChat")},G=function(){return r("SupportChatModel")},K=function(){return r("LayoutResizeModel")},Y=function(){return r("toggleCompactLeftColumn")()},X=function(e,t){return r("callHamonChangeInboxGptSideEffect")(e,t)},J=function(){return r("XivaBridge")},Q=function(e,t){return r("SupportWidget")(e,t)},Z=function(){return r("showInboxGPTOnboarding")()},ee=function(){return r("tracingAdd")()},te=function(e){return r("addHttpRequestToDebugData")(e)},ne=function(){return r("TabOrFolderCheckedBridge")},re=function(){return r("LizaUxFeedbackController")},ie=function(e){return r("setComposeExpanded")(e)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Features=t.getFeatureParams=t.hasFeature=void 0;var r=n(400);Object.defineProperty(t,"Features",{enumerable:!0,get:function(){return r.Features}});var i=n(16);Object.defineProperty(t,"hasFeature",{enumerable:!0,get:function(){return i.hasFeature}}),t.getFeatureParams=function(e){return window.Daria.getFeatureParams(e)||null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return Daria.now()},t.promoNow=function(){return Daria.promoNow()},t.promoNowDate=function(){return new Date(Daria.promoNow())},t.isDev=function(){return Daria.isDevEnv()},t.isPDD=function(){return Boolean(Daria.Config.pddDomain)},t.isB2BUser=function(){var e=ns.Model.get("account-information"),t=e&&e.getData();return Boolean(t&&t.isB2BUser)},t.isCorp=s,t.isPriorityTab=function(){return Daria.isPriorityTab()},t.isParamsForSearch=function(e){return Daria.Page.isParamsForSearch(e)},t.areSettingsUnavailable=function(){return Daria.Config.NO_SETTINGS},t.getLocale=function(){return Daria.Config.locale},t.getTranslations=function(){return Daria.tanker},t.getSuid=function(){return Daria.suid},t.getYandexUid=function(){return Daria.Config.yandexuid},t.getCkey=function(){return Daria.ckey},t.setCkey=function(e){Daria.ckey=e},t.getUid=function(){return Daria.uid},t.getConnectionId=function(){return Daria.Config.connection_id},t.getConfig=function(){return Daria.Config},t.getUrlParams=function(){return Daria.urlParams},t.shouldShowCheckboxInsideUserpic=function(){return Daria.UISettings.shouldShowCheckboxInsideUserpic()},t.getKeyCodes=function(e){return e?Jane.Common.keyCode[e]:Jane.Common.keyCode},t.toggleSearchAppMode=function(e){Daria.toggleSearchAppMode(e)},t.toggleVerticalScrollBar=function(e){Daria.toggleVerticalScrollBar(e)},t.toggleAdvancedSearchAppMode=function(e){Daria.toggleAdvancedSearchAppMode(e)},t.toolbarRestruct=function(){ns.events.trigger("daria:vToolbarButton:restruct")},t.changeRightColumSize=function(){ns.events.atrigger("daria:vApp:changeRightColumSize")},t.logMetric=function(e){var t;return(t=Jane).c.apply(t,a(e))},t.logGroupedMetric=function(e){var t;return(t=Jane.Metrika).groupedCount.apply(t,a(e))},t.freezeShortcuts=function(){Daria.Shortcuts.freeze()},t.unfreezeShortcuts=function(){Daria.Shortcuts.unfreeze()},t.updatePageClasses=function(e){ns.Model.get("app-state").updatePageClasses(e)},t.runAction=function(e,t,n,r){return ns.action.run(e,t,n,r)},t.parseQuery=function(e){return Daria.parseQuery(e)},t.getRetpath=function(){return Daria.addParamsToLocation(null,null,!0,null)},t.emitSuggestOpened=function(e){ns.events.trigger("daria:suggest:open",e)},t.getYandexDomain=function(){return Daria.Config["yandex-domain"]},t.getFreshCount=function(){return ns.Model.get("user-dropdown-data").getSumOfFresh()},t.getFolderBySymbol=function(e){return ns.Model.get("folders").getFolderBySymbol(e)},t.hasProSubscription=function(){return Daria.Config.hasProSubscription},t.hasPlus=function(){return Daria.Config.haveYandexPlus},t.getDariaLocalStorage=function(){return Daria.LS},t.getLinkToMailPro=function(e){var t="".concat(i.linkYandex360,"?uid=").concat(Daria.uid);e&&(t+="&from=".concat(e));return t},t.getLinkToBeautifulEmail=function(){return"#setup/beautiful-email"},t.getLinkToSearchInDeleted=function(){return"#search?deleted=yes"},t.getLinkToTelemost=function(){return"".concat(Daria.Config["telemost-url"],"/?source=tab-mail")},t.hasSid=function(e){return Daria.hasSid(e)},t.getLinkToB2b=function(e){if("disk"===e)return"https://business.yandex.ru/disk/promo?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=disk";return"https://business.yandex.ru/mail?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=mail"},t.hasFixedToolbar=function(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))},t.is2Pane=function(){return Daria.is2pane()},t.is3Pane=function(){return Daria.is3pane()},t.is3pv=function(){return Daria.is3pv()},t.isMessageOpenedInList=function(){return Daria.isMessageOpenedInList()},t.getPaneLayoutType=function(){return Daria.Config.layout},t.isWorkspace=function(){return Daria.Config.isWS},t.setUpdateNeeded=function(e){Jane.Services.setUpdateNeeded(e)},t.getTld=function(){return Daria.Config.TLD},t.emitUnsubscribePopupShow=function(e){ns.events.trigger("daria:unsubscribe-popup:show",e)},t.openMessageViewer=function(e,t,n,r){Daria.ImageViewer.open("",e,t,n,r)},t.getCompactMode=function(){return Daria.CompactMode},t.getRegionAutocompleter=function(){return Daria.Autocompleter.getRegion()},t.getDiskSK=function(){return ns.Model.get("disk-editor-secret-key").get(".key")},t.hasDisk=function(){return Daria.Config.hasDisk&&!Daria.IS_CORP},t.hasMidgets=function(){return Object(r.hasFeature)(r.Features.WEB_MIDGETS)&&!s()},t.getSocialavatarsUrl=function(){return Daria.Config.socialavatarsUrl},t.showInboxGPT=function(){return"ru"===Daria.Config.TLD&&Daria.is2pane()&&ns.Model.get("settings").isSet(o.Settings.MAIL_INBOXGPT_ALLOWED)},t.showDisableAdCheckbox=function(){return Object(r.hasFeature)(r.Features.WEB_MAIL_ADV_CLOSE_BUTTON)&&!Daria.Config.hasProSubscription&&"com"!==Daria.Config.TLD};var r=n(349),i=(n.n(r),n(447)),o=n(396);n.n(o);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(){return Daria.IS_CORP}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.i18nSafeText=function(e,t,n){try{return i(e,n)}catch(e){return t}};var r=n(518).getKey;function i(e,t){var n=!1,i=null;try{var o=e.indexOf("/");if(-1===o)n=!0;else{var a=e.substring(0,o),s=e.slice(o+1);i=r(Daria.locale,a,s,t)}}catch(e){n=!0}if(n)throw new Error('Invalid key: "'.concat(e,'"'));return i}},,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hideStatusline=t.showStatuslineComponent=t.showSuccessMessage=t.showErrorMessage=void 0;var o=i(n(135)),a=n(359),s=n(347);t.showErrorMessage=function(e,t){var n=s.getStatuslineBridge(),i=s.getStatuslineComponents().BasicErrorMessage;n&&n.show({name:e,renderContent:function(e){return o.default.createElement(i,r({},e,{text:t}))}})};t.showSuccessMessage=function(e,t){var n=s.getStatuslineBridge(),i=s.getStatuslineComponents().BasicTextMessage;n&&n.show({name:e,renderContent:function(e){return o.default.createElement(i,r({},e,{text:t}))}})};t.showStatuslineComponent=function(e){var t=s.getStatuslineBridge(),n=s.getStatuslineComponents(),i=n.BasicTextMessage,l=n.CannotLoadData,c=n.ConfirmMops,u=n.ConfirmNotSpam,d=n.DeleteOrUnsubscribe,f=n.DeleteOrUnsubscribeOld,p=n.EmailAddedToBlacklist,g=n.FilterApply,m=n.FilterCreate,h=n.FilterWasCreated,v=n.MarkReadOrUnsubscribe,b=n.MessagesNotSpam,_=n.MessageSent,y=n.MessageSentDelayed,S=n.MultipleEmailsSelected,w=n.SettingsSaved,O=n.SignatureAdded,M=n.SignatureDeleted,x=n.SignatureUpdated,E=n.SpamOrDelete,T=n.SpamOrUnsubscribe,D=n.TemplateUpdated,C=n.TimelineLoadingError,P=n.UndoNotSpam,k=n.UnsubscribeSuccess;if(t)switch(e.name){case a.StatuslineName.CannotLoadData:t.show({name:e.name,renderContent:function(e){return o.default.createElement(l,r({},e))}});break;case a.StatuslineName.ConfirmMops:t.show({name:e.name,renderContent:function(t){return o.default.createElement(c,r({},t,e))}});break;case a.StatuslineName.ConfirmNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(u,r({},t,e))}});break;case a.StatuslineName.DeleteOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(d,r({},t,e))}});break;case a.StatuslineName.DeleteOrUnsubscribeOld:t.show({name:e.name,renderContent:function(t){return o.default.createElement(f,r({},t,e))}});break;case a.StatuslineName.EmailAddedToBlacklist:t.show({name:e.name,renderContent:function(t){return o.default.createElement(p,r({},t,{email:e.email}))}});break;case a.StatuslineName.FilterApply:t.show({name:e.name,renderContent:function(t){return o.default.createElement(g,r({},t,e))}});break;case a.StatuslineName.FilterCreate:t.show({name:e.name,renderContent:function(t){return o.default.createElement(m,r({},t,e))}});break;case a.StatuslineName.FilterWasCreated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(h,r({},t,{filterId:e.filterId}))}});break;case a.StatuslineName.MarkReadOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(v,r({},t,e))}});break;case a.StatuslineName.MessagesNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(b,r({},t,{count:e.count}))}});break;case a.StatuslineName.MessageSent:t.show({name:e.name,renderContent:function(t){return o.default.createElement(_,r({},t,e))}});break;case a.StatuslineName.MessageSentDelayed:t.show({name:e.name,renderContent:function(t){return o.default.createElement(y,r({},t,e))}});break;case a.StatuslineName.MultipleEmailsSelected:t.show({name:e.name,renderContent:function(t){return o.default.createElement(S,r({},t,e))}});break;case a.StatuslineName.SettingsSaved:t.show({name:e.name,renderContent:function(t){return o.default.createElement(w,r({},t,e))}});break;case a.StatuslineName.SignatureAdded:t.show({name:e.name,renderContent:function(t){return o.default.createElement(O,r({},t,e))}});break;case a.StatuslineName.SignatureDeleted:t.show({name:e.name,renderContent:function(t){return o.default.createElement(M,r({},t,e))}});break;case a.StatuslineName.SignatureUpdated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(x,r({},t,e))}});break;case a.StatuslineName.SpamOrDelete:t.show({name:e.name,renderContent:function(t){return o.default.createElement(E,r({},t,e))}});break;case a.StatuslineName.SpamOrUnsubscribe:t.show({name:e.name,renderContent:function(t){return o.default.createElement(T,r({},t,e))}});break;case a.StatuslineName.TemplateUpdated:t.show({name:e.name,renderContent:function(t){return o.default.createElement(D,r({},t,{text:e.text}))}});break;case a.StatuslineName.TimelineLoadingError:t.show({name:e.name,renderContent:function(e){return o.default.createElement(C,r({},e))}});break;case a.StatuslineName.UndoNotSpam:t.show({name:e.name,renderContent:function(t){return o.default.createElement(P,r({},t,e))}});break;case a.StatuslineName.UnsubscribeSuccess:t.show({name:e.name,renderContent:function(t){return o.default.createElement(k,r({},t,{count:e.count}))}});break;default:t.show({name:e.name,renderContent:function(t){return o.default.createElement(i,r({},t,{text:e.text}))}})}};t.hideStatusline=function(e){var t=s.getStatuslineBridge();t&&t.hide(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatuslineName=void 0,function(e){e.AbookContactAdded="AbookContactAdded",e.AbookContactsAddedToGroup="AbookContactsAddedToGroup",e.AbookContactRemoved="AbookContactRemoved",e.AbookChangesSaved="AbookChangesSaved",e.AbookAddPersonFailed="AbookAddPersonFailed",e.AbookFailed="AbookFailed",e.AbookGroupCreationFailed="AbookGroupCreationFailed",e.BeautifulEmailAuthFailed="BeautifulEmailAuthFailed",e.BeautifulEmailChangeLoginOk="BeautifulEmailChangeLoginOk",e.BeautifulEmailChangeLoginError="BeautifulEmailChangeLoginError",e.BeautifulEmailCancelSubscriptionOk="BeautifulEmailCancelSubscriptionOk",e.BeautifulEmailCancelSubscriptionError="BeautifulEmailCancelSubscriptionError",e.CancelSendFailed="CancelSendFailed",e.CannotClearFolder="CannotClearFolder",e.CannotCreateFilter="CannotCreateFilter",e.CannotForwardSpam="CannotForwardSpam",e.CannotLoadData="CannotLoadData",e.ConfirmMops="ConfirmMops",e.ConfirmNotSpam="ConfirmNotSpam",e.DeleteOrUnsubscribe="DeleteOrUnsubscribe",e.DeleteOrUnsubscribeOld="DeleteOrUnsubscribeOld",e.DraftRemoved="DraftRemoved",e.DraftSaveError="DraftSaveError",e.EmailAddedToBlacklist="EmailAddedToBlacklist",e.EmptyFolderError="EmptyFolderError",e.MailEventCreateError="MailEventCreateError",e.FilterApplied="FilterApplied",e.FilterApply="FilterApply",e.FiltersBlacklistAddSelfForbidden="FiltersBlacklistAddSelfForbidden",e.FiltersWhitelistAddSelfForbidden="FiltersWhitelistAddSelfForbidden",e.FiltersBlackWhiteListAlreadyExist="FiltersBlackWhiteListAlreadyExist",e.FiltersBlackWhiteListAddError="FiltersBlackWhiteListAddError",e.FilterCreate="FilterCreate",e.FilterWasCreated="FilterWasCreated",e.FiltersListsAddError="FiltersListsAddError",e.FolderDelete="FolderDelete",e.FoldersMoveError="FoldersMoveError",e.HiddenTrashToggleFailed="HiddenTrashToggleFailed",e.LabelDelete="LabelDelete",e.MarkReadOrUnsubscribe="MarkReadOrUnsubscribe",e.MultipleEmailsSelected="MultipleEmailsSelected",e.MessagesDeleteFromTrash="MessagesDeleteFromTrash",e.MessagesLabel="MessagesLabel",e.MessagesMoved="MessagesMoved",e.MessagesMovedArchive="MessagesMovedArchive",e.MessagesNotSpam="MessagesNotSpam",e.MessagesNotSpamAsync="MessagesNotSpamAsync",e.MessagesPinned="MessagesPinned",e.MessagesRemoved="MessagesRemoved",e.MessageSendingFailed="MessageSendingFailed",e.MessageSent="MessageSent",e.MessageSentDelayed="MessageSentDelayed",e.MessagesUnlabel="MessagesUnlabel",e.MessagesUnpinned="MessagesUnpinned",e.ModificationOperationsError="ModificationOperationsError",e.NoActionError="NoActionError",e.ReplyLaterCreateError="ReplyLaterCreateError",e.ReplyLaterCreateSuccess="ReplyLaterCreateSuccess",e.ReplyLaterRemoveError="ReplyLaterRemoveError",e.ReplyLaterRemoveSuccess="ReplyLaterRemoveSuccess",e.ReplyToOnlyOneEmailError="ReplyToOnlyOneEmailError",e.SendOnNoAddressError="SendOnNoAddressError",e.SetupError="SetupError",e.SettingsSaved="SettingsSaved",e.SpamOrDelete="SpamOrDelete",e.SpamOrUnsubscribe="SpamOrUnsubscribe",e.SignatureMaxCountLimitExceeded="SignatureMaxCountExceeded",e.SignatureMaxLengthLimitExceeded="SignatureMaxLengthLimitExceeded",e.SignatureAdded="SignatureAdded",e.SignatureAppended="SignatureAppended",e.SignatureAppendError="SignatureAppendError",e.SignatureDeleted="SignatureDeleted",e.SignatureUpdated="SignatureUpdated",e.TemplateCreated="TemplateCreated",e.TemplateMissingError="TemplateMissingError",e.TemplateNotFound="TemplateNotFound",e.TemplateUpdated="TemplateUpdated",e.TimelineLoadingError="TimelineLoadingError",e.TooBigAttachment="TooBigAttachment",e.TranslationError="TranslationError",e.UndoNotSpam="UndoNotSpam",e.UnsubscribeModalError="UnsubscribeModalError",e.UnsubscribeSuccess="UnsubscribeSuccess",e.CollectorCreated="CollectorCreated",e.InboxGPTEnabled="InboxGPTEnabled",e.InboxGPTDeletedSuccess="InboxGPTDeletedSuccess",e.InboxGPTDeletedBad="InboxGPTDeletedBad",e.InboxGPTDeletedGarbage="InboxGPTDeletedGarbage",e.InboxGPTCodeCopyToClipboard="InboxGPTCodeCopyToClipboard",e.MailToEventCreateEvent="MailToEventCreateEvent"}(t.StatuslineName||(t.StatuslineName={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(415);n.d(t,"default",function(){return r.a})},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return l});var r="compose-scenario",i="compose-react-scenario",o="message-view-scenario",a="search-scenario",s="suggest-scenario",l={}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(518),l=(n.n(s),n(1195));var c=function(e){var t={lang:e.lang,t:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.getKey.apply(void 0,[e.lang].concat(n))}};return function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.a.Provider,{value:t},void 0,e.children)};c.propTypes={children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]).isRequired,lang:a.a.string},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCodes=void 0,t.KeyCodes={TAB:9,ENTER:13,SHIFT:16,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,CTRL:17,HOME:36,END:35,META:[91,93,224],BACKSPACE:8,J:74,K:75,N:78,P:80,S:83,V:86},t.default=t.KeyCodes},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getContactsStore",function(){return w}),n.d(t,"getFoldersStore",function(){return O}),n.d(t,"getLabelsStore",function(){return M}),n.d(t,"getRouterStore",function(){return x}),n.d(t,"getSearchStore",function(){return E}),n.d(t,"getSettingsStore",function(){return T}),n.d(t,"getSettingsSelectorStore",function(){return D}),n.d(t,"getThemesSelectorStore",function(){return C}),n.d(t,"getAccountInformationStore",function(){return P}),n.d(t,"getHeadUserStateStore",function(){return k}),n.d(t,"getUserDropdownDataStore",function(){return A}),n.d(t,"getContactSuggestStore",function(){return I}),n.d(t,"getServicesPopupStore",function(){return j}),n.d(t,"getVisualStore",function(){return R}),n.d(t,"getTabsStore",function(){return F}),n.d(t,"getMailSettingsPopupStore",function(){return L});var r=n(435),i=n.n(r),o=n(1187),a=n(1188),s=n(841),l=n(740),c=n(1189),u=n(844),d=n(1733),f=n.n(d),p=n(741),g=n(624),m=n(1191),h=n(1192),v=n(743),b=n(1736),_=n(1737),y=(n.n(_),n(1193)),S=n(1738),w=i()(function(){return new a.a}),O=i()(function(){return new l.a}),M=i()(function(){return new u.a}),x=i()(function(){return new p.a}),E=i()(function(){return new g.a}),T=i()(function(){return new v.c}),D=i()(function(){return new h.a}),C=i()(function(){return new b.a}),P=i()(function(){return new o.a}),k=i()(function(){return new c.a}),A=i()(function(){return new y.a}),I=i()(function(){return new s.a}),j=i()(function(){return new m.a}),R=i()(function(){return new S.a}),F=_.TabsStore.instance,L=i()(function(){return new f.a})},function(e,t,n){e.exports=n.p+"_/d6db9b2a3473c3a8123e980333e3230f-b-mail-icon_error.png"},,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3376),t),i(n(3377),t),i(n(3378),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return l});var r,i=n(341),o=n(136),a=(n.n(o),n(414));function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=(function(e,t,n,r,i){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modelSubscriptions={}}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"_addModelSubscription",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.data=e},onDestroyed:function(){t.data={}}},i=a.default.get(e,n),o=i.key;return o in this._modelSubscriptions?this._modelSubscriptions[o]:(this._modelSubscriptions[o]=this._createModelSubscription(i,r),this._modelSubscriptions[o])}},{key:"_requestModelData",value:function(e,t){return a.default.request(e,t).then(function(e){return e},function(){return{}})}},{key:"_createModelSubscription",value:function(e,t){var n,r,a=this,s=e.key,l={};for(var c in t)switch(c){case"onChanged":n=function(){t.onChanged(e.getData()||void 0,e.getError()||void 0)},r=Object(o.debounce)(Object(i.action)(n),0),l["ns-model-changed"]=r,e.on("ns-model-changed",r),n();break;case"onDestroyed":n=Object(i.action)(t.onDestroyed),l["ns-model-destroyed"]=n,e.on("ns-model-destroyed",n);break;default:throw new Error('unknown handler "'.concat(c,'" for model subscription'))}return function(){for(var t in l)e.off(t,l[t]);delete a._modelSubscriptions[s]}}},{key:"_isNotEmpty",value:function(e){return e&&Object.keys(e).length>0}}]),e}()).prototype,"_addModelSubscription",[i.action],Object.getOwnPropertyDescriptor(r.prototype,"_addModelSubscription"),r.prototype),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getMessagesListDate",function(){return a}),n.d(t,"getDateInHumanFormat",function(){return s}),n.d(t,"getTimeInHumanFormat",function(){return l}),t.getDateFromCompactFormat=function(e){if(!e||8!==e.length)return null;var t=new Date(e.substring(0,4),e.substring(4,6)-1,e.substring(6,8)),n=t.getDate();return isNaN(n)?null:t},t.getDateInNumericFormat=function(e){return Jane.Date.format("%Date_dmY__dot",e)},t.getDateInNumericFormatDashed=function(e){return Jane.Date.format("%Date_Ymd__minus",e)},t.getDateInUnseparatedNumericFormat=function(e){return Jane.Date.format("%Date_Ymd",e)},t.getDateComponentOfDatetime=function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.getShortDateTimeInHumanFormat=function(e){return Jane.Date.format("%Date_dB_in_HM",e)},t.getShortMonthDateTimeInHumanFormat=function(e){return Jane.Date.format("%Date_df_in_HM",e)},t.getShortDate=function(e){return Jane.Date.format("%Date_dB",e)},t.getShortTime=function(e){return Jane.Date.format("%Date_HM__colon",e)},t.parseDate=function(e){if(!e)return null;var t,n,r,i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(e);if(i)t=parseInt(i[1],10),n=parseInt(i[2],10),r=parseInt(i[3],10);else{if(null===(i=/^(\d\d)\.(\d\d)\.(\d\d)$/.exec(e)))return null;t=parseInt(i[3],10)+o,n=parseInt(i[2],10),r=parseInt(i[1],10)}return new Date(t,n-1,r)},t.promoNow=function(){return Daria.promoNow()},t.passportNow=c,t.passportPromoNow=function(){0===Daria._debugClientPromoTimestamp&&(Daria._debugClientPromoTimestamp=i()(Daria.urlParams.debugClientPromoDate));return Daria._debugClientPromoTimestamp||c()},t.getPassportDate=function(e){return Daria.getPassportDate(e)};var r=n(742),i=n.n(r),o=2e3,a=function(e){return Daria.MessageTime.getFormattedTime(1e3*e).list},s=function(e){return Jane.Date.toHumanFormat(e)},l=function(e){return Jane.Date.format("%Date_HM__colon",e)};function c(){return Daria.passportNow()}},,function(e,t,n){"use strict";var r=n(1253);t.a=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNsEventListener=t.addEventListener=void 0;var r=n(521);Object.defineProperty(t,"addEventListener",{enumerable:!0,get:function(){return r.addEventListener}});var i=n(491);Object.defineProperty(t,"addNsEventListener",{enumerable:!0,get:function(){return i.addNsEventListener}}),t.default=r.Disposer},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.LayoutTypes=void 0,function(e){e[e.Pane2=0]="Pane2",e[e.Pane3=2]="Pane3",e[e.Pane3Horizontal=1]="Pane3Horizontal"}(t.LayoutTypes||(t.LayoutTypes={})),function(e){e.BACKUP_ENABLED="mail_b2c_can_use_backup",e.BACKUP_EXISTS="mail_b2c_backup_enabled",e.PROMOTRON_LAST_TS="promotron_last_show_ts",e.CAN_USE_OPT_IN_SUBSCRIPTIONS="mail_b2c_can_use_opt_in_subs",e.OPT_IN_SUBSCRIPTIONS_ENABLED="opt_in_subs_enabled",e.OPT_IN_SUBSCRIPTIONS_ENABLED_AT="opt_in_subs_enabled_at",e.OPT_IN_SUBSCRIPTIONS_REVIEWED_AT="opt_in_subs_reviewed_at",e.DISABLE_INBOX_ATTACHMENTS="disable_inboxattachs",e.NO_B2C_TARIFF_PROMO="ro_no_b2c_tariff_promo",e.NO_YANDEX_JOBS="ro_no_yandex_jobs",e.MESSAGES_AVATARS="messages_avatars",e.SHOW_CHECKBOX_INSIDE_AVATARS="show_checkbox_inside_userpic",e.OPEN_MESSAGE_IN_LIST="open-message-list",e.LAYOUT="layout",e.MINIFIED_HEADER="liza_minified_header",e.WITH_BIGGER_TEXT="with_bigger_text",e.MINIFIED_MAIL_LIST="liza_minified",e.SHOW_FOLDERS_TABS="show_folders_tabs",e.FOLDER_THREAD_VIEW="folder_thread_view",e.COMPACT="compact",e.EXPANDED_LEFT_COLUMN="size-aside-expanded",e.SIZE_LAYOUT_LEFT="size-layout-left",e.SIZE_FIRST_PANE_3PH="size-first-pane-3ph",e.SIZE_FIRST_PANE_3PV="size-first-pane-3pv",e.COLOR_SCHEME="color_scheme",e.DISABLE_INBOX_ATTACH="disable_inboxattachs",e.HIDE_EMPTY_FOLDERS="hide_empty_folders",e.SHOW_SIDEBAR_WITH_WIDGETS="show_sidebar_with_widgets",e.TIMELINE_ENABLED="timeline_enable",e.TIMELINE_IS_OPEN="timeline-is-open",e.COLORFUL_THEME_SKIN="colorful-theme-skin",e.SEASONS_MODIFIER="seasons-modifier",e.SELECTED_SCOPE="currentScope",e.DISABLE_PROMO="disable_promo",e.GEO_ID="geoid",e.SHOW_PRIORITY_STUFF="show_priority_stuff",e.PRIORITY_MAIL="priority_mail",e.OVERRIDEN_THEME="overriden_theme",e.EMPTY_SUBJECT_POPUP_DISABLED="empty_subject_popup_disabled",e.HIDDEN_TRASH_ENABLED="hidden_trash_enabled",e.OPENED_FOLDERS="opened_folders",e.HAS_INBOX_MESSAGE="has_inbox_message",e.TRANSLATE_RECENT="translateRecent",e.MAIL_INBOXGPT_ALLOWED="mail_inboxgpt_allowed",e.MAIL_INBOXGPT_ENABLED="mail_inboxgpt_enabled",e.INBOX_GPT_EXPANDED="inboxGptExpanded",e.INBOX_GPT_PROMO_ALREADY_SHOWED="inboxGptPromoShowed",e.INBOX_GPT_ONBOARDING_ALREADY_SHOWED="inboxGptOnboardingShowed",e.LOCK_DEFAULT_EMAIL="lock_employees_default_mail_domain",e.MIGRATION_INVITE_CLOSED="migration_invite_closed",e.SHOW_SHARED_MAILBOXES="show_shared_mailboxes"}(t.Settings||(t.Settings={}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3375);n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Features=void 0,function(e){e.SETTINGS_OVERRIDE="settings-override",e.DISABLE_ADV="disable-adv",e.PARTLY_DISABLE_ADV="partly-disable-adv",e.WEB_AUTOTESTS_MUTE_AD="web-autotests-mute-ad",e.WEB_ADS="web_ads",e.WEB_ADS_PARAMS="web_ads_params",e.WEB_ADLOADER_COOKIE_CACHE_TTL="web_adloader_cookie_cache_ttl",e.WEB_MOBILE_COMPOSE="web-mobile-compose",e.WEB_UX_FEEDBACK="web-ux-feedback",e.WEB_PROMOTRON_BANNER="web-promotron-banner",e.WEB_NEW_HORIZONTAL_SCROLL="web-new-horizontal-scroll",e.WEB_CES="web-ces",e.WEB_CONTACTS_EXTENDED_FIELDS="web-contacts-extended-fields",e.WEB_REACT_ABOOK_LIST="web-react-abook-list",e.WEB_ALLOW_COPY_RECIPIENTS="web-allow-copy-recipients",e.WEB_CHANGE_PARSE_CONTACT="web-change-parse-contact",e.WEB_REACT_TOOLBAR="web-react-toolbar",e.WEB_REACT_MESSAGE_THREAD="web-react-message-thread",e.WEB_UNIVERSAL_THREAD_LOGIC="web-universal-thread-logic",e.REACT_LAYOUT="react-layout",e.WEB_AI_MAIL_PROMO="web_ai_mail_promo",e.WEB_AI_MAIL_OPT_OUT="web_ai_mail_opt_out",e.WEB_AI_NEW_ONBOARDING_FOR_B2B="web_ai_new_onboarding_for_b2b",e.THEMED_SETTINGS_ICONS="themed-settings-icons",e.REACT_CLIENT_HEADER="react-client-header",e.WEB_REACT_MESSAGES_LIST="web-react-messages-list",e.WEB_EDITOR_SORT_ATTRIBUTES="web-editor-sort-attributes",e.WEB_NEW_USER_BLOCK="web-new-user-block",e.GMAIL_APP_PASSWORDS="gmail-app-passwords",e.UX_FEEDBACK_PREVENT_RERUNS="ux-feedback-prevent-reruns",e.WEB_MIDGETS="web-midgets",e.WEB_DARK_COMPOSE="web-dark-compose",e.WEB_DARK_MESSAGE_VIEWER="web-dark-message-viewer",e.MESSAGE_VIEWER_CALENDAR_BAR="message-viewer-calendar-bar",e.WEB_SMART_DISPLAY_NAME="web-smart-display-name",e.WEB_REACT_MESSAGE_VIEWER="web-react-message-viewer",e.WEB_NEW_API_FOLDERS="web-new-api-folders",e.WEB_TUNING_PAY_POPUP="web-tuning-pay-popup",e.WEB_MAIL_PDD_DOMAIN_NOTIFICATION="web-mail-pdd-domain-notification",e.WEB_MAIL_ADV_CLOSE_BUTTON="web-mail-adv-close-button",e.WEB_MAIL_DISABLE_ADV_NEW_OFFER="disable_adv_popup_with_new_offer",e.CACHING_SERVICE_WORKER="caching-service-worker",e.SAVE_TO_DISK_BUTTON="save-to-disk-button",e.WEB_ADS_TURN_OFF="web-ads-turn-off",e.WEB_B2C_DOMAIN_MORE_LANDING="web-b2c-domain-more-landing",e.WEB_ENABLE_MAIL360_PROMO_TRIAL="web-enable-mail360-promo-trial",e.WEB_TOOLBAR_NO_BUTTONS="web-toolbar-no-buttons",e.WEB_CHANGE_ADD_IMAGE_BUTTON_BEHAVIOR="web_change_add_image_button_behavior",e.WEB_EMAIL_CLASSIFICATION="web_email-classification",e.WEB_WIDGET_BIGIMAGE="web_widget-bigimage",e.WEB_UNSUBSCRIBE_ON_DELETE="web-unsubscribe-on-delete",e.WEB_UNSUBSCRIBE_ON_MARK_READ="web-unsubscribe-on-mark-read",e.WEB_RICH_LINK_PREVIEW="web_rich-link-preview",e.WEB_SEARCH_WITHOUT_ALL_RESULTS_FALLBACK="web_search-without-all-results-fallback",e.WEB_TURN_OFF_NS_COMPOSE_PROMO="web_turn-off-ns-compose-promo",e.WEB_AMP_FORM="web_amp-form",e.WEB_PROMO_ONBOARDING_SUBSCRIPTION="web_promo_onboarding_subscription",e.WEB_CAPTCHA_CHECKBOX="web-captcha-type-checkbox",e.WEB_SHARED_MAILBOXES="web-shared-mailboxes",e.WEB_SHARED_MAILBOXES_PERMISSIONS="web-shared-mailboxes-permissions",e.WEB_SELECT_ALL_PINNED="web-select-all-pinned",e.WEB_MAIL_INVITE_MIGRATION_FROM_GOOGLE="web_mail_invite_migration_from_google",e.WEB_OUTDATED_BROWSER="web-outdated-browser",e.WEB_RIGHT_COLUMN_ADS="web-right-column-ads",e.WEB_RIGHT_COLUMN_ADS_BLOCKS="web-right-column-ads-blocks",e.WEB_RIGHT_COLUMN_ADS_COMPOSE="web-right-column-ads-compose",e.WEB_ADS_RENDER_UPGRADE="web-ads-render-upgrade",e.WEB_CALENDAR_HANDLE_REPLY_MODEL="web-calendar-handle-reply-model",e.WEB_LEGAL_ENTITY="web-legal-entity",e.WEB_DISABLE_SSR="web-disable-ssr"}(t.Features||(t.Features={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canShowPromo=t.hasSubscriptionWithDomain=t.isPromoAvailable=t.isAvailable=t.isForceAvailable=t.getConnectedBeautifulEmail=t.isPossibleToEnable=t.SETTINGS_DOMAIN_AVAILABLE=void 0;var i=n(350),o=n(347),a=n(556),s=r(n(414));function l(){return!i.isCorp()&&!i.isWorkspace()&&!s.default.get("account-information").isSSO()&&(!i.hasProSubscription()||p())}function c(){return s.default.get("account-information").getBeautifulEmail()}function u(){var e=c(),t=o.getPsSettingsDatasyncService();return l()&&(t.isBeautifulEmailForceEnabled||Boolean(e))}function d(){return l()&&("ru"===i.getTld()||u())}function f(){return d()}function p(){return a.isSettingSet(t.SETTINGS_DOMAIN_AVAILABLE)}t.SETTINGS_DOMAIN_AVAILABLE="mail_b2c_domain_enable",t.isPossibleToEnable=l,t.getConnectedBeautifulEmail=c,t.isForceAvailable=u,t.isAvailable=d,t.isPromoAvailable=f,t.hasSubscriptionWithDomain=p,t.canShowPromo=function(){if(!f())return!1;if(c())return!1;var e=i.hasProSubscription(),t=p();return!(e&&!t)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLORFUL_SKIN=t.DEPRECATED_COLORFUL_SKIN=t.DarkSource=void 0,function(e){e.Page="page",e.Content="content"}(t.DarkSource||(t.DarkSource={})),t.DEPRECATED_COLORFUL_SKIN="blue",t.DEFAULT_COLORFUL_SKIN="lightblue"},,function(e,t,n){"use strict";var r=n(1032),i=n(1035),o=n(572),a=n(8);t.a=new r.a({logger:i.a,now:o.a,connectionId:a.a.Config.connection_id})},,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"p",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"l",function(){return d}),n.d(t,"h",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"n",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return v}),n.d(t,"c",function(){return b});var r="default",i="direct-url",o="button-from-left-column",a="shortcut",s="reply-button-from-context-menu",l="forward-from-context-menu",c="forward-button-from-message-toolbar",u="reply-button-from-message-toolbar",d="reply-all-button-from-message-toolbar",f="forward-button-from-messages-toolbar",p="forward-button-from-message-body-toolbar",g="reply-button-from-message-body-toolbar",m="reply-all-button-from-message-body-toolbar",h="button-from-abook-popup",v="expand-button",b="change-to-another-compose-button"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStatus=void 0,function(e){e.NotConnected="not-connected",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e.Failed="failed",e.InfoUnavailable="info-unavailable"}(t.BeautifulEmailStatus||(t.BeautifulEmailStatus={}))},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,i){ns.request(e,t,n).then(function(e){if(e&&e.length){var t=e[0];t.isValid()?r(e[0].getData()):i(t.getError()||{error:"invalid-data"})}else i({error:"request-failed"})},function(e){i(Object.assign(e,{error:"model-request-failed"}))})})};t.default={get:function(e,t){return ns.Model.get(e,t)},request:function(e,t){return r(e,t)},forcedRequest:function(e,t){return r(e,t,{forced:!0})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(339),c=n.n(l),u=n(625),d=n(626),f=n(1788),p=n(1789);n.n(p);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"_maybeRenderTitle",value:function(){var e=this.props.title;return e?S("title",{},void 0,e):null}},{key:"render",value:function(){var e,n=this.props,r=n.cls,i=n.color,a=n.id,s=n.refId,l=n.onMouseDown,u=n.forceInline,d=n.data,f=void 0===d?{}:d,p=n.focusable,m=n.ariaHidden,v={};return i&&(v.color=i),S("svg",{xmlns:"http://www.w3.org/2000/svg",className:c()((h(e={svgicon:!0},"svgicon-".concat(a),!0),h(e,r||"",!0),e)),style:v,onMouseDown:l,focusable:p,"aria-hidden":m},void 0,t.useOrInlineSvg(a,s,u),o.a.createElement("rect",g({height:"100%",width:"100%",style:{fill:"transparent"}},f),this._maybeRenderTitle()))}}],[{key:"useOrInlineSvg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u.default.isIE()||n){var r=t?Object(f.a)(e,t):Object(f.a)(e);return r?S("svg",{id:r.id,viewBox:r.viewBox,fill:r.fill,dangerouslySetInnerHTML:{__html:r.svgBody}}):(Object(d.logDebug)("   SVG  #".concat(r.id)),null)}return S("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:t?"#".concat(t):"#svgicon-".concat(e)})}}]),t}();w.propTypes={id:s.a.string.isRequired,refId:s.a.string,color:s.a.string,cls:s.a.string,onMouseDown:s.a.func,title:s.a.string,data:s.a.object,forceInline:s.a.bool,focusable:s.a.bool,ariaHidden:s.a.bool}},,,,,,function(e,t,n){e.exports=n.p+"_/ab580e6d8a894e3dd2f20569020cdb41-attach_icon_audio.svg"},function(e,t,n){e.exports=n.p+"_/d73628f6e4ee5d8a5d62248e11081f79-attach_icon_img.svg"},,,,,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStore=void 0;var s=n(341),l=a(n(435)),c=a(n(414)),u=n(350),d=n(408),f=n(382),p=n(347),g=function(){function e(e){this.accountInformationStore=e,this.email="",this.isPollingInProcess=!1;var t=this.accountInformationStore.domainAlias;this.email=t||"",this.status=t?d.BeautifulEmailStatus.Connected:d.BeautifulEmailStatus.NotConnected}return Object.defineProperty(e.prototype,"domain",{get:function(){return this.email.split("@")[1]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"login",{get:function(){return this.email.split("@")[0]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasConnectedDomain",{get:function(){return this.status===d.BeautifulEmailStatus.Connected},enumerable:!1,configurable:!0}),e.prototype.setStatus=function(e){this.status=e},e.prototype.setTimeoutEndDate=function(e){this.timeoutEndDate=e},e.prototype.setEmail=function(e){this.email=e},e.prototype.setSuggestedEmail=function(e){this.suggestedEmail=e},e.prototype.setIsPollingInProcess=function(e){this.isPollingInProcess=e},e.prototype.initialEmailCheck=function(e){var t=e.domenatorStatus,n=e.domenatorDomain,r=e.domenatorTimeoutEndDate;this.setEmail(n||""),this.setStatus(t),r&&this.setTimeoutEndDate(r)},e.prototype.getSuggestedEmail=function(){return i(this,void 0,Promise,function(){var e=this;return o(this,function(t){return this.suggestEmailPromise||(this.suggestEmailPromise=i(e,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return[4,c.default.request("get-domenator-domains-suggest/v1",{limit:1})];case 1:return e=n.sent().suggested_domains,t=e[0],this.setSuggestedEmail(t?t.login+"@"+t.name:void 0),[2,this.suggestedEmail]}})})),[2,this.suggestEmailPromise]})})},e.prototype.forceEnableBeautifulEmail=function(){return i(this,void 0,Promise,function(){return o(this,function(e){return[2,p.getPsSettingsDatasyncService().updateBeautifulEmailForceEnable(u.promoNowDate())]})})},e.instance=l.default(function(){return new e(f.getAccountInformationStore())}),r([s.observable],e.prototype,"email",void 0),r([s.computed],e.prototype,"domain",null),r([s.computed],e.prototype,"login",null),r([s.observable],e.prototype,"status",void 0),r([s.observable],e.prototype,"timeoutEndDate",void 0),r([s.computed],e.prototype,"hasConnectedDomain",null),r([s.observable],e.prototype,"suggestedEmail",void 0),r([s.observable],e.prototype,"isPollingInProcess",void 0),r([s.action],e.prototype,"setStatus",null),r([s.action],e.prototype,"setTimeoutEndDate",null),r([s.action],e.prototype,"setEmail",null),r([s.action],e.prototype,"setSuggestedEmail",null),r([s.action],e.prototype,"setIsPollingInProcess",null),e}();t.BeautifulEmailStore=g},,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withPsTransparentTheme=t.withPsTheme=void 0;var s=a(n(135)),l=a(n(339)),c=n(379),u=n(754),d=n(755),f=n(373),p=n(756),g=n(342),m=n(403),h=n(449),v=n(441),b=function(e){return function(t){return function(n){function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.themesStore=v.ThemesStore.instance(),e.themeMaster=h.ThemeMaster.instance(),e}return r(a,n),Object.defineProperty(a.prototype,"isPageDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isPageDark:this.themesStore.isPageDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isContentDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isContentDark:this.themesStore.isContentDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"theme",{get:function(){var t=(e.source||m.DarkSource.Page)===m.DarkSource.Page?this.isPageDark:this.isContentDark;return(e.invert?!t:t)?e.darkTheme:e.lightTheme},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=i(i({theme:this.theme},this.props),{className:l.default(this.props.className,c.cnTheme(this.theme))});return s.default.createElement(t,i({},e))},a=o([g.observer],a)}(s.default.PureComponent)}};t.withPsTheme=function(e){return void 0===e&&(e={}),b(i(i({},e),{darkTheme:p.PS_DARK,lightTheme:f.PS_LIGHT}))};t.withPsTransparentTheme=function(e){return void 0===e&&(e={}),b(i(i({},e),{darkTheme:d.PS_DARK_TRANSPARENT,lightTheme:u.PS_LIGHT_TRANSPARENT}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ThemesStore",function(){return x});var r,i,o,a,s,l,c,u,d,f,p,g,m=n(136),h=(n.n(m),n(341)),v=n(390);function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function M(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var x=(r=h.observable.ref,i=h.observable.ref,o=h.observable.ref,a=h.observable.ref,g=p=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(S(e=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}(this,y(t).call(this))),"currentTheme",l,S(e)),O(S(e),"currentSkin",c,S(e)),O(S(e),"themesData",u,S(e)),O(S(e),"orderedThemes",d,S(e)),O(S(e),"generalThemes",f,S(e)),e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null,e._addModelSubscription("themes",{},{onChanged:function(){var t=ns.Model.get("themes"),n=t.getCurrentTheme(),r=t.getSkinParams();e.mCurrentTheme!==n&&(e.mCurrentTheme=n,"function"==typeof e.unsubscribeFromCurrentThemeModel&&e.unsubscribeFromCurrentThemeModel(),e.unsubscribeFromCurrentThemeModel=e._addModelSubscription(e.mCurrentTheme.id,e.mCurrentTheme.params,{onChanged:function(){var n=t.getSkinParams();e.currentSkin=n},onDestroyed:function(){e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null}})),e.currentTheme=t.getCurrentThemeName(),e.currentSkin=r,e.themesData=t.get(".themes"),e.orderedThemes=t.get(".ordered-themes"),e.generalThemes=t.get(".general-themes")}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,v["default"]),function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(t,[{key:"isGeneralThemeExists",value:function(e){return this.generalThemes.some(function(t){return t.name===e})}},{key:"isThemeExist",value:function(e){return e in this.themesData||this.isGeneralThemeExists(e)}},{key:"isContentDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.content_is_dark)}},{key:"isPageDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.page_is_dark)}},{key:"isAsideDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.aside_is_dark)}}]),t}(),p.instance=Object(m.memoize)(function(){return new x}),l=M((s=g).prototype,"currentTheme",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=M(s.prototype,"currentSkin",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=M(s.prototype,"themesData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=M(s.prototype,"orderedThemes",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=M(s.prototype,"generalThemes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M(s.prototype,"isContentDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isContentDark"),s.prototype),M(s.prototype,"isPageDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isPageDark"),s.prototype),M(s.prototype,"isAsideDark",[h.computed],Object.getOwnPropertyDescriptor(s.prototype,"isAsideDark"),s.prototype),s)},,function(e,t,n){e.exports=n.p+"_/b421d41a9b5d6be87299c25b2c8c567b-attach_icon_video.svg"},,,function(e,t,n){"use strict";var r=n(3583);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"cloudApiUrl",function(){return r}),n.d(t,"helpUrl",function(){return i}),n.d(t,"diskHelpUrl",function(){return o}),n.d(t,"helpBackupUrl",function(){return a}),n.d(t,"helpBeautifulEmailUrl",function(){return s}),n.d(t,"passportPhoneConfirmUrl",function(){return l}),n.d(t,"passportVerifyPasswordUrl",function(){return c}),n.d(t,"www",function(){return u}),n.d(t,"linkYandex360",function(){return d}),n.d(t,"headerServicesLinks",function(){return f}),n.d(t,"xivaUrl",function(){return p}),n.d(t,"socialavatarsUrl",function(){return g});var r=Daria.Config["cloud-api-url"],i=Daria.Config["help-url"],o=Daria.Config["disk-help-url"],a="".concat(i,"/web/security/backup.html"),s="".concat(i,"/web/preferences/about-sender/additional-addresses.html?from=mail#exclusive"),l=Daria.Config["passport-phoneconfirm-url"],c=Daria.Config["passport-verify-password-url"],u=Daria.Config["www-url"],d="".concat(Daria.Config["yandex360-url"],"/premium-plans"),f={Mail:"#inbox",Disk:Daria.Config["disk-url"],Telemost:Daria.Config["telemost-url"],Calendar:Daria.Config["calendar-url"],Concept:Daria.Config["concept-url"],Notes:Daria.Config["notes-url"],Contact:"#contacts",Messenger:Daria.Config["q-url"],Fan:Daria.Config["fan-url"],Premium:d,Admin:Daria.Config["admin-url"],Documents:Daria.Config["documents-url"],Staff:Daria.Config["staff-host"],Startrek:Daria.Config["tracker-url"],Wiki:Daria.Config["wiki-url"],At:Daria.Config["diary-url"],YTeam:Daria.Config["yteam-url"],Maillists:Daria.Config["maillist-url"],MeetingRooms:"".concat(Daria.Config["calendar-url"],"/invite"),Tracker:Daria.Config["tracker-url"],Forms:Daria.Config["forms-admin-url"]},p=Daria.Config.xivaHost,g=Daria.Config.socialavatarsUrl},,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeMaster=void 0;var i=n(136),o=n(341),a=function(){function e(){this.isActive=!1,this.isPageDark=!1,this.isContentDark=!1,this.isAsideDark=!1}return e.prototype.updateCurrentSkin=function(e){this.isActive=!0,this.isPageDark=e.isPageDark,this.isContentDark=e.isContentDark,this.isAsideDark=e.isAsideDark},e.instance=i.memoize(function(){return new e}),r([o.observable],e.prototype,"isActive",void 0),r([o.observable],e.prototype,"isPageDark",void 0),r([o.observable],e.prototype,"isContentDark",void 0),r([o.observable],e.prototype,"isAsideDark",void 0),r([o.action],e.prototype,"updateCurrentSkin",null),e}();t.ThemeMaster=a},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetrikaService=t.MessageViewMetrika=t.AttachmentsMetrika=void 0;var r=n(136),i=n(350),o=n(1591);Object.defineProperty(t,"AttachmentsMetrika",{enumerable:!0,get:function(){return o.AttachmentsMetrika}});var a=n(4288);Object.defineProperty(t,"MessageViewMetrika",{enumerable:!0,get:function(){return a.MessageViewMetrika}});var s=n(4289),l=function(){function e(){this.attachments=new o.AttachmentsMetrika({logMetric:i.logMetric,logGroupedMetric:i.logGroupedMetric}),this.messageViewer=new a.MessageViewMetrika({logMetric:i.logMetric,logGroupedMetric:i.logGroupedMetric}),this.dragAndDrop=new s.DragAndDropMetrika({logMetric:i.logMetric,logGroupedMetric:i.logGroupedMetric})}return e.instance=r.memoize(function(){return new e}),e}();t.MetrikaService=l},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NsReactView=void 0;var o=i(n(135)),a=i(n(139)),s=i(n(375)),l=n(350);t.NsReactView=function(e){var t=Array.isArray(e.models)?e.models.reduce(function(e,t){var n;return r(r({},e),((n={})[t]="keepValid",n))},{}):e.models||{};return{params:e.params,events:{"ns-view-show":"onShow","ns-view-hide":"onHide","ns-view-htmlinit":"onHtmlInit"},yateModule:e.yateModule,models:t,methods:r(r({},e.methods||{}),{onShow:function(){var t,n;this.container=e.selector?this.node.querySelector(e.selector):this.node,this.container&&(a.default.render(o.default.createElement(s.default,{lang:l.getLocale()},o.default.createElement(e.component,r({params:this.params},e.props||{}))),this.container),null===(n=null===(t=e.methods)||void 0===t?void 0:t.onShow)||void 0===n||n.call(this))},onHide:function(){var t,n;this.container&&(a.default.unmountComponentAtNode(this.container),null===(n=null===(t=e.methods)||void 0===t?void 0:t.onHide)||void 0===n||n.call(this))},onHtmlInit:function(){var t,n;null===(n=null===(t=e.methods)||void 0===t?void 0:t.onHtmlInit)||void 0===n||n.call(this)}})}}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"addNsEventListener",function(){return i}),n.d(t,"triggerNsEvent",function(){return o}),n.d(t,"useNsEventSubscription",function(){return a});var r=n(135),i=(n.n(r),function(e,t){return ns.events.on(e,t),function(){return ns.events.off(e,t)}}),o=function(e,t){ns.events.trigger(e,t)},a=function(e,t){Object(r.useEffect)(function(){return i(e,t)},[e,t])}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RETRYABLE_ERRORS=t.UNDO_ERRORS=t.MAILING_LIST_NOT_ALLOWED=t.TOO_MANY_SUBSCRIBERS=t.VIRUS=t.UNDO_PAUSED=t.UNDO_MESSAGE_SAVED=t.UNDO_CANNOT_SAVE=t.TOO_MANY_EMAILS=t.TOO_BIG_ATTACHMENTS=t.TOO_BIG=t.SPAM=t.NO_RECIPIENTS=t.NO_NETWORK=t.NO_DATA=t.MAX_EMAIL_ADDRESS_REACHED=t.LIMIT_FAIL=t.INTERNAL_ERROR=t.INCORRECT_TO=t.INCORRECT_CC=t.INCORRECT_BCC=t.ILLEGAL_PARAMS=t.EMPTY_SUBJECT=t.DELAYED_MESSAGE_SAVED=t.DELAYED_CANNOT_SAVE=t.CAPTCHA=t.ACCESS_DENIED=void 0,t.ACCESS_DENIED="access_denied",t.CAPTCHA="captcha_request",t.DELAYED_CANNOT_SAVE="delayed_cannot_save",t.DELAYED_MESSAGE_SAVED="delayed_message_saved",t.EMPTY_SUBJECT="empty_subject",t.ILLEGAL_PARAMS="illegal_params",t.INCORRECT_BCC="incorrect_bcc",t.INCORRECT_CC="incorrect_cc",t.INCORRECT_TO="incorrect_to",t.INTERNAL_ERROR="internal_error",t.LIMIT_FAIL="fail_limit",t.MAX_EMAIL_ADDRESS_REACHED="max_email_addr_reached",t.NO_DATA="no_data",t.NO_NETWORK="http_status_0",t.NO_RECIPIENTS="no_recipients",t.SPAM="strongspam_found",t.TOO_BIG="msg_too_big",t.TOO_BIG_ATTACHMENTS="attachment_too_big",t.TOO_MANY_EMAILS="too_many_emails",t.UNDO_CANNOT_SAVE="undo_cannot_save",t.UNDO_MESSAGE_SAVED="undo_message_saved",t.UNDO_PAUSED="undo_paused",t.VIRUS="virus_found",t.TOO_MANY_SUBSCRIBERS="too_many_subscribers",t.MAILING_LIST_NOT_ALLOWED="mailing_list_not_allowed",t.UNDO_ERRORS=[t.UNDO_CANNOT_SAVE,t.UNDO_MESSAGE_SAVED,t.UNDO_PAUSED],t.RETRYABLE_ERRORS=[t.UNDO_CANNOT_SAVE,t.UNDO_MESSAGE_SAVED,t.UNDO_PAUSED,t.DELAYED_CANNOT_SAVE,t.DELAYED_MESSAGE_SAVED]},,,,function(e,t,n){"use strict";var r=n(393);n.d(t,"a",function(){return r.a});n(2136);var i=n(1278);n.d(t,"b",function(){return i.a});var o=n(1395);n.d(t,"c",function(){return o.a});n(761),n(1017),n(1018);var a=n(2240);n.d(t,"d",function(){return a.a});n(2244),n(503);var s=n(763);n.d(t,"e",function(){return s.a});var l=n(569);n.d(t,"f",function(){return l.a});n(1025)},function(e,t,n){"use strict";var r=n(2171);n.d(t,"a",function(){return r.a})},,,,,,,function(e,t){e.exports={CLICK:"click",HOTKEY:"hotkey",BG_CLICK:"bg-click"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getAvatarsService",function(){return _}),n.d(t,"getContactsSuggestService",function(){return y}),n.d(t,"getRouterService",function(){return S}),n.d(t,"getSearchService",function(){return w}),n.d(t,"getSearchLogService",function(){return O}),n.d(t,"getSettingsService",function(){return M}),n.d(t,"getThemesService",function(){return x}),n.d(t,"getThemesSelectorService",function(){return E}),n.d(t,"getQueryLanguageService",function(){return T}),n.d(t,"scenarioManager",function(){return D});var r=n(435),i=n.n(r),o=n(347),a=n(809),s=n(598),l=n(548),c=n(784),u=n(1535),d=n(1137),f=n(1454),p=n(382),g=n(1534),m=n(3236),h=n(1138),v=n(441),b={},_=i()(function(){return new c.a}),y=i()(function(){return new u.a({searchStore:Object(p.getSearchStore)()})}),S=i()(function(){var e=new a.a;return b.routerService=e,e}),w=i()(function(){b.routerService||S(),b.searchLogService||O(),b.settingsService||M(),b.queryLanguageService||T();var e=new s.b(Object(g.a)(),b);return b.searchService=e,e}),O=i()(function(){var e=new s.a(Object(g.a)(),b);return b.searchLogService=e,e}),M=i()(function(){var e=l.a.instance();return b.settingsService=e,e}),x=i()(function(){var e=new m.a({themesStore:v.ThemesStore.instance(),generalThemesBridge:Object(o.getGeneralThemesBridge)()});return window.ThemesService=e,e}),E=i()(function(){return new h.a({themesSelectorStore:Object(p.getThemesSelectorStore)()})}),T=i()(function(){var e=new d.a(Object(g.a)());return b.queryLanguageService=e,e}),D=f.a},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeBg=t.logPopupMetric=void 0;var o=n(350),a=n(398),s=n(549),l=n(347);t.logPopupMetric=function(e){void 0===e&&(e=[]),o.logMetric(i([a.YANDEX_HEADER_PREFIX,a.HEADER_METRIKA_RIGHT,a.HEADER_METRIKA_SETTINGS,a.HEADER_METRIKA_SETTINGS_OPEN],e))};t.getThemeBg=function(e){if(e===s.ThemeName.GeneralDefault){var t=l.getGeneralThemesBridge().getGeneralTheme(e);if(t.page.override)return"rgb("+t.page.override["--bg-color"]+")"}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageOpenedInList=function(e){return Daria.isMessageOpenedInList(e)},t.isMessageOpened=function(e){return Daria.isMessageOpened(e)},t.isMessagesListPage=function(e){return Daria.isMessagesListPage(e)},t.isMessagePage=function(){return Daria.isMessagePage()},t.isSearchPage=function(e){return Daria.isSearchPage(e)},t.isAbookPage=function(e){return Daria.isAbookPage(e)},t.isSetupPage=function(e){return Daria.isSettingsPage(e)},t.goPage=function(e,t){ns.page.go(e,t)},t.replacePage=function(e,t){ns.page.replacePage(e,t)},t.forceReload=function(e){ns.page.forceReload(e)},t.getCurrentPageParams=function(){return ns.page.current.params},t.getCurrentUrl=function(){return ns.page.currentUrl}},,,,function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Disposer=t.addEventListener=void 0;t.addEventListener=function(e){var t=e.element,n=void 0===t?window:t,r=e.eventName,i=e.listener,o=e.isCapture,a=void 0!==o&&o;return n.addEventListener(r,i,a),function(){return n.removeEventListener(r,i,a)}};var o=function(){function e(){this.callbacks=new Map}return e.prototype.add=function(e,t){this.callbacks.set(e,this.get(e).concat(t))},e.prototype.addEventListener=function(e,n){var r=t.addEventListener(n);this.add(e,[r])},e.prototype.dispose=function(e){this.get(e).forEach(function(e){return e()}),this.remove(e)},e.prototype.disposeAll=function(){i(this.callbacks.keys()).forEach(this.dispose.bind(this))},e.prototype.has=function(e){return this.callbacks.has(e)},e.prototype.get=function(e){return this.callbacks.get(e)||[]},e.prototype.remove=function(e){this.callbacks.delete(e)},e}();t.Disposer=o},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return c});var r=n(770),i={type:"opening-error-message-body",severity:r.a},o={type:"opening-error-messages",severity:r.a},a={type:"opening-error-message-nearest",severity:r.b},s={type:"view-error-img-error",severity:r.b},l={type:"view-error-translate",severity:r.b},c=(r.b,{type:"view-error-email-info",severity:r.c})},,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleLoader=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.component().then(function(t){e.setState({component:t}),e.props.onLoad&&e.props.onLoad()},function(t){if(!e.props.onError)throw t;e.props.onError(t)})},t.prototype.render=function(){var e=this.props.placeholder||function(){return null};return this.state.component?this.state.component:"function"==typeof e?e():e},t}(i(n(135)).default.PureComponent);t.ModuleLoader=o},,,,,function(e,t,n){"use strict";var r=n(3232);n.d(t,"a",function(){return r.a})},,function(e,t,n){"use strict";n.d(t,"f",function(){return g}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"i",function(){return b}),n.d(t,"b",function(){return S}),n.d(t,"h",function(){return w}),n.d(t,"a",function(){return x}),n.d(t,"c",function(){return E});var r=n(600),i=(n.n(r),n(359)),o=(n.n(i),n(1584)),a=n(358),s=(n.n(a),n(349)),l=(n.n(s),n(71));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)})}}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var g=function(e){if(!Object(s.hasFeature)(s.Features.WEB_REACT_TOOLBAR)&&!e.every(function(e){return e.isSubscriptionMessage()}))return[];return e.filter(function(e){return e.isSubscriptionMessage()}).map(function(e){return e.getSubscriptionData()})},m=function(e){var t=e.getIds();return[].concat(p(t.ids),p(t.tids)).map(function(e){return ns.Model.get("message",{ids:e})})},h=function(e){return _.unique(e,function(e){return e.email})},v=function(){var e=f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=f(regeneratorRuntime.mark(function e(t){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.messages,i=t.mMessagesChecked,o=t.deleteOldLetters,a=n.map(function(e){return e.email}),e.prev=2,e.next=5,ns.forcedRequest("do-hide-subscriptions",{emails:a,deleteOldLetters:o||!1});case 5:return ns.forcedRequest("get-hidden-subscriptions/v1"),o&&i&&y(i),e.abrupt("return",r.UnsubscribeResult.SUCCESS);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",r.UnsubscribeResult.FAILURE);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();function y(e){var t=Object(l.a)(),n=ns.Model.get("folders",{mailboxUid:t}).getFidBySymbol("trash"),r={current_folder:n},i=ns.page.current.params,o=e.getCount(),a=e.getIds("delete",r),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({ids:a,count:o,action:"delete"},r);s.whereToGo=Daria.messages.whereToGoAfterMove("delete",e,s),ns.events.trigger("daria:MOPS:action-start",s);var d=Daria.MOPS.prepareMove({action:"delete",mMessagesChecked:e,ids:a,params:r,extendedParams:s,pageParams:i}),f=d.willGoToFolder3pane,p=d.willGoToFolder2pane;Daria.MOPS.doActionInModelsByIds(a,"move",{fid:n}),Daria.MOPS.invalidateMessagesCheckedModels(a,"delete"),f&&(ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.Model.get("focus").setPreventOpenOnFocus()),p&&ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-complete",s)}var S=function(){var e=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t);case 3:return e.abrupt("return",r.UnsubscribeResult.SUCCESS);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",r.UnsubscribeResult.FAILURE);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({messages:t});case 2:e.sent!==r.UnsubscribeResult.FAILURE&&Object(a.showStatuslineComponent)({name:i.StatuslineName.UnsubscribeSuccess,count:h(t).length});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(e){return Promise.all(e.map(function(e){return M(e.messageType,e.email)}))},M=function(e,t){return ns.forcedRequest("do-trash-messages",{messageType:e,search:{from:t}})},x=function(e,t,n){var r=Object(o.a)(e,t,n);return Daria.IS_CORP?{subscriptions:[],messages:r}:{subscriptions:g(r),messages:r}},E=function(){var e=f(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(!(n=e.sent)||!n[0].isValid()){e.next=6;break}return r=n[0],e.abrupt("return",r.isEmpty()?t:t.filter(function(e){return!r.hasSubscription(e.email)}));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(3827),i=n.n(r),o=n(3828),a=n.n(o),s=n(346);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ns.Model.get("account-information");return Object(s.isSharedMailboxes)()&&e&&(t=ns.Model.get("address-information",{mailboxUid:e})),t.getAllUserEmails().map(function(e){return e.replace(/-/g,".").toLowerCase()})}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null);return i()(e,function(e){return a()(t,e.email.replace(/-/g,".").toLowerCase())<0})},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce(function(e,r){var i=c(r.getFieldsByType("reply-to"),n);return i.length||i.push.apply(i,l(c(r.getFieldsByType("from"),n))),i.length&&!t||i.push.apply(i,l(c(r.getFieldsByType("to"),n))),t&&(i.push.apply(i,l(c(r.getFieldsByType("cc"),n))),i.push.apply(i,l(c(r.getFieldsByType("bcc"),n)))),i.length&&e.push.apply(e,l(i.map(function(e){return e.email}))),e},[])}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEmailsEqual=void 0,t.areEmailsEqual=function(e,t){return Boolean(e&&t&&e.toLowerCase()===t.toLowerCase())}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SearchSuggestParams=t.AdvancedSearchParams=t.SearchQueryParams=void 0,function(e){e.ATTACHES="attaches",e.BODY_TEXT="body_text",e.DELETED="deleted",e.FID="fid",e.FROM="from",e.HDR_FROM="hdr_from",e.HDR_SUBJECT="hdr_subject",e.HDR_TO="hdr_to",e.LID="lid",e.SERVICE_ID="serviceId",e.SCOPE="scope",e.TO="to",e.BEFORE_DATE="before_date",e.TYPE="type",e.UNREAD="unread"}(r=t.SearchQueryParams||(t.SearchQueryParams={})),t.AdvancedSearchParams=[r.ATTACHES,r.DELETED,r.FID,r.FROM,r.HDR_FROM,r.HDR_TO,r.LID,r.SERVICE_ID,r.SCOPE,r.TO,r.TYPE,r.UNREAD],t.SearchSuggestParams=[r.ATTACHES,r.DELETED,r.FID,r.FROM,r.LID,r.SERVICE_ID,r.SCOPE,r.TO,r.TYPE]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerChangeSettingsHandler=function(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-changed";o().on(n,e)},t.unregisterChangeSettingsHandler=function(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-touched";o().off(n,e)},t.getDefaultEmail=a,t.isDefaultEmail=function(e){var t=a();return Object(i.areEmailsEqual)(t,e)},t.isDarkContent=function(){var e=ns.Model.get("themes").getSkinParams();return Boolean(e.content_is_dark)},t.isSettingSet=function(e){return o().isSet(e)},t.getSign=function(e){return o().getSign(e)},t.signToSetting=function(e,t){return o().signToSetting(e,t)},t.getSetting=function(e){return o().getSetting(e)},t.setSettings=function(e,t){return o().setSettings(e,t)},t.updateSetting=function(e,t,n){return o().updateSetting(e,t,n)};var r,i=n(553),o=(n.n(i),function(){return r||(r=ns.Model.get("settings"))});function a(){return ns.Model.get("settings").get(".default_email")}},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2321);n.d(t,"a",function(){return r.a})},,,function(e,t,n){"use strict";t.a=function(){return Date.now()-i},t.b=function(e){i=Date.now()-e};var r=n(8),i=r.a.timestamp?Date.now()-r.a.timestamp:0},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownLabelsNames=t.WellKnownLabels=void 0,function(e){e.ANSWERED="answered_label",e.APPEND="append_label",e.ATTACHED="attached_label",e.COPY="copy_label",e.DELAYED_MESSAGE="delayed_message",e.DELETED="deleted_label",e.DRAFT="draft_label",e.ENCRYPTED="encrypted_label",e.FORWARDED="forwarded_label",e.IMPORTANT="important_label",e.MULCA_SHARED="mulcaShared_label",e.MUTE="mute_label",e.NOTIFY_NO_ANSWER="notifyNoAnswer_label",e.PINNED="pinned_label",e.POSTMASTER="postmaster_label",e.PRIORITY="hamon_label",e.RECENT="recent_label",e.REMIND_NO_ANSWER="remindNoAnswer_label",e.REPLY_LATER_STARTED="reply_later_started",e.REPLY_LATER_FINISHED="reply_later_finished",e.SEEN="seen_label",e.SPAM="spam_label",e.SYNCED="synced_label",e.UNDO="undo_message"}(t.WellKnownLabels||(t.WellKnownLabels={})),function(e){e.YASUPPORT="yasupport",e.PHISHING="73"}(t.WellKnownLabelsNames||(t.WellKnownLabelsNames={}))},,,,function(e,t,n){"use strict";n.d(t,"b",function(){return A});var r,i,o=n(350),a=n(510),s=n.n(a),l=n(370),c=n(1075),u=n(1076),d=n(1454),f=n(790),p=(n.n(f),n(3));n.n(p);function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=["scope","fid","lid","unread","attaches","from","to","type"],_=Object.freeze({history:"Choose history",subject:"Choose subject",important:'Choose "Important"',unread:'Choose "Unread"',folder:"Choose folder",ql:"Choose query language",contact:"Choose contact",mail:"Choose mail",label:"Choose label","show-all-results":'Choose "Show all search results"'}),y={ADVANCED:"advanced",AUTOCOMPLETER:"autocompleter",BUTTON:"button",ENTER:"enter",NOTE_REQUEST_CLICK:"messages-notification-search:request-click: messages-notification-search:request-click",NOTE_FOLDER_RESET:"messages-notification-search:reset-folder",SUGGEST:"suggest"},S="item-selected",w="new-search",O="click",M="suggest-clear",x="suggest-results",E="suggest-history-item-remove",T=Object.freeze({button:"Click on Search",enter:"Press Enter",advanced:"Change Advanced filter",suggest:"Choose from Suggest","messages-notification-search:reset-folder":"Search notification reset folder filter","messages-notification-search:request-click":"Search notification request click",autocompleter:"Autocompleter"}),D=(v(r={},y.ADVANCED,u.a),v(r,y.ENTER,u.e),v(r,y.BUTTON,u.d),v(r,y.SUGGEST,u.f),r),C=(v(i={},s.a.CLICK,c.c),v(i,s.a.HOTKEY,c.d),v(i,s.a.BG_CLICK,c.b),i),P="Rocks suggest",k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._suggestWasLogged=!1,this._suggestTrigger=null,this._suggestStartDate=null,this._searchTrigger=null,this._stores=t,this._services=n}return h(e,[{key:"setSuggestTrigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.b;this._suggestTrigger=e,this._suggestStartDate=Daria.now()}},{key:"setSearchTrigger",value:function(e){this._searchTrigger=e}}]),h(e,[{key:"logMessageClick",value:function(e,t,n,r,i){var a=this._stores,s=a.searchStore,l=a.routerStore.currentPage.params;if(Object(o.isParamsForSearch)(l)){var c=s.showSearchResultsTimestamp,u=Date.now()-c,d=[].concat(I(s),["r="+encodeURIComponent(i.request),"pos="+n,"user="+Object(o.getUid)(),"mid="+t,"time="+u,"clicktype="+e]);r&&d.push("tophits=yes");var f=function(e){var t=[];return b.forEach(function(n){e.hasOwnProperty(n)&&t.push(n+":"+e[n])}),t.join(",")}(i);f&&d.push("filter="+f);var p=(Daria.Config["exp-test-ids"]||[]).join(",");p&&d.push("exp="+p),Daria.searchClickCounter(d)}}},{key:"logSearchSuggest",value:function(e){var t=this._stores.searchStore,n=t.suggestItems.length;if(!e.suggestWithEmptyRequest||0!==n){var r=[].concat(I(t),["action=suggest","uid="+Object(o.getUid)(),"user_text="+encodeURIComponent(e.text||""),"count="+n,"timestamp="+(new Date).getTime()]);if(e.suggestWithEmptyRequest&&r.push("zero_suggest=yes"),this._searchTrigger&&r.push("search_trigger="+this._searchTrigger),e.suggestUsed){var i=e.target||"";r.push("pos="+e.itemPos,"target="+i,"show_text="+encodeURIComponent(e.show_text||""),"search_text="+encodeURIComponent(e.search_text||""),"suggest_used=yes"),this._metrikaCountSuggestItemClick(i),d.a.finishScenarioIfActive(l.f,S,{isAllResults:"show-all-results"===e.target,itemIndex:e.itemPos,timestamp:(new Date).getTime()})}else e.suggestWithEmptyRequest||r.push("suggest_used=no");Daria.searchClickCounter(r)}}},{key:"logSuggestActivation",value:function(e){d.a.finishScenarioIfActive(l.f,w,{timestamp:(new Date).getTime()}),d.a.startScenario(l.f,this._suggestTrigger,{isZeroRequest:e.suggestWithEmptyRequest,timestamp:(new Date).getTime()})}},{key:"logSuggestClear",value:function(){var e=d.a.getActiveScenario(l.f);e||(e=d.a.startScenario(l.f,O,{timestamp:(new Date).getTime()})),e.logStep(M,{timestamp:(new Date).getTime()})}},{key:"logSuggestResults",value:function(e){var t=e.request,n=d.a.getActiveScenario(l.f);n&&n.logStep(x,{isZeroRequest:!t,timestamp:(new Date).getTime()})}},{key:"logSuggestHistoryItemRemove",value:function(){d.a.getActiveScenario(l.f).logStep(E,{timestamp:(new Date).getTime()})}},{key:"endSuggestScenario",value:function(e){e=C[e]||e,d.a.finishScenarioIfActive(l.f,e,{timestamp:(new Date).getTime()})}},{key:"_metrikaCountSuggestItemClick",value:function(e){var t=_[e];t?this.countSuggestAction(t||e):Object(f.log)({type:p.ErrorType.Service,block:p.ErrorBlock.Search,method:"_metrikaCountSuggestItemClick",message:"Unknown target",source:p.ErrorSource.Logic,sourceMethod:p.ErrorSourceMethod.Search,additional:{target:e}})}},{key:"countSuggestAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Search",P,"Suggest"].concat(t))}},{key:"countSearchActivation",value:function(){Jane.c("Search",P,"Search input activation")}},{key:"countLogoClick",value:function(e){Jane.c("Search",P,"Click on Logo",e?"Mail":"Yandex/company")}},{key:"countTextCleared",value:function(){Jane.c("Search",P,"Click on X (clear)")}},{key:"countSuggestClose",value:function(){Jane.c("Search",P,"Click on X (close)")}},{key:"countBubbleAction",value:function(e,t){Jane.c("Search",P,"Baloon ".concat(e),t)}},{key:"countSearchContactsSuggest",value:function(e){var t;(t=Jane).c.apply(t,["Yandex Header","Abook Search"].concat(g(e)))}},{key:"logSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(this._searchTrigger){var r,i=this._stores.searchStore,a=this._searchTrigger;if(this._searchTrigger=null,t.from){var s=t.from.substr(0,6);r=s!==(t.to||"").substr(0,6)?s.substr(0,4):s}var l={type:"search.start-search",suid:Object(o.getSuid)(),advanced:n,action:a,message_type:t.type||"",folder:t.fid||"",label:t.lid||"",date:r||"",mail_type:function(){if(Object(o.isPDD)())return"pdd";if(Object(o.isCorp)())return"corp";return"big"}(),searchid:i.getSearchId(),reqid:i.getSearchSessionId()};Jane.ErrorLog.send(l),Jane.c("Search",P,"Go to search results",T[a]||a),this._logSearchScenario(a)}}},{key:"_logSearchScenario",value:function(e){if(this._stores.searchStore.searchQuery.isDefaultSuggest)d.a.finishScenarioIfActive(l.e,c.e);else{var t=Daria.now()-this._suggestStartDate,n=D[e]||e;d.a.finishScenarioIfActive(l.e,c.a),d.a.startScenario(l.e,n,{duration:t,expandTrigger:this._suggestTrigger})}}},{key:"logSearchFinish",value:function(e){var t=C[e];d.a.finishScenarioIfActive(l.e,t)}},{key:"countNewAdvancedSearch",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Search","New advanced search"].concat(t))}},{key:"suggestWasLogged",get:function(){return this._suggestWasLogged},set:function(e){this._suggestWasLogged=e}}]),e}();k.SEARCH_TRIGGER=y,t.a=k;var A=Object(o.isPDD)()?"webpdd":Object(o.isCorp)()?"YT":"web";function I(e){return["project=search_mail","product="+A,"reqid="+e.getSearchSessionId()]}},,,,,,,function(e,t,n){e.exports=n.p+"_/3f9ad2bd5a78e43bf79c34aa945ce7b2-attach_icon_archive.svg"},function(e,t,n){e.exports=n.p+"_/9ad0316223d31d7e674d1d8af56efd90-attach_icon_excel.svg"},function(e,t,n){e.exports=n.p+"_/7c14b89d6caa7791fc107bbf33fefabf-attach_icon_text.svg"},function(e,t,n){"use strict";var r=n(3229);n.d(t,"b",function(){return r.a});var i=n(588);n.d(t,"a",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=function(e){return null!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeResult=void 0,function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCEL="cancel"}(t.UnsubscribeResult||(t.UnsubscribeResult={}))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r,i,o,a,s,l,c=n(341),u=n(1734),d=n(390),f=n(1735),p=n(1190),g=n(347);function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=(i=w((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(_(e=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?_(e):t}(this,b(t).call(this))),"forceShowAdvancedSearch",i,_(e)),S(_(e),"simplifiedParams",o,_(e)),S(_(e),"_suggestItems",a,_(e)),S(_(e),"_isFolded",s,_(e)),S(_(e),"_showSuggest",l,_(e)),e._searchSessionId="",e._searchId="",e._showSearchResultsTimestamp=null,e.searchQuery=new f.a,Object(c.reaction)(function(){return e.isFolded},g.setHeaderSearchFolded),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,d["default"]),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"setForceShowAdvancedSearch",value:function(e){this.forceShowAdvancedSearch=e}},{key:"setSuggestItems",value:function(e,t){this._suggestItems=t?[].concat(h(this._suggestItems),h(e)):h(e)}},{key:"removeSuggestItem",value:function(e){var t=this._suggestItems.indexOf(e);t>=0&&this._suggestItems.splice(t,1)}},{key:"saveShowSearchResultsTimestamp",value:function(){this._showSearchResultsTimestamp=Date.now()}},{key:"getItemPosition",value:function(e){return this.suggestItems?this.suggestItems.indexOf(e):-1}},{key:"getSearchSessionId",value:function(){return this._searchSessionId||(this._searchSessionId=Object(u.a)()),this._searchSessionId}},{key:"dropSearchSession",value:function(){this._searchSessionId=""}},{key:"getSearchId",value:function(){return this._searchId||this.generateSearchId(),this._searchId}},{key:"generateSearchId",value:function(){this._searchId=Math.random().toString().substr(2)}},{key:"suggestItems",get:function(){var e=this.searchQuery,t=this._suggestItems,n=Array.from(t);return n.length&&e.currentSuggestText.trim()&&n.push(new p.a({target:"show-all-results",search_text:e.currentSuggestText.trim()})),n}},{key:"showSearchResultsTimestamp",get:function(){return this._showSearchResultsTimestamp}},{key:"wasSearchRequestSimplified",get:function(){return Boolean(this.simplifiedParams)}},{key:"hasSuggestItems",get:function(){return Boolean(this.suggestItems&&this.suggestItems.length)}},{key:"isFolded",get:function(){return this._isFolded},set:function(e){this._isFolded=e,this._isFolded&&(this._showSuggest=!1,this.forceShowAdvancedSearch=!1)}},{key:"showSuggest",get:function(){return this._showSuggest},set:function(e){this._showSuggest=e}}]),t}()).prototype,"forceShowAdvancedSearch",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w(r.prototype,"setForceShowAdvancedSearch",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setForceShowAdvancedSearch"),r.prototype),o=w(r.prototype,"simplifiedParams",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=w(r.prototype,"_suggestItems",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w(r.prototype,"setSuggestItems",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setSuggestItems"),r.prototype),w(r.prototype,"removeSuggestItem",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"removeSuggestItem"),r.prototype),w(r.prototype,"suggestItems",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"suggestItems"),r.prototype),w(r.prototype,"wasSearchRequestSimplified",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"wasSearchRequestSimplified"),r.prototype),w(r.prototype,"hasSuggestItems",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasSuggestItems"),r.prototype),s=w(r.prototype,"_isFolded",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=w(r.prototype,"_showSuggest",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isEdge:function(){return"Edge"===Daria.UA.BrowserName},isFirefox:function(){return"Firefox"===Daria.UA.BrowserName},isIE:function(){return"MSIE"===Daria.UA.BrowserName},BrowserName:Daria.UA&&Daria.UA.BrowserName}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logError=a,t.logSimpleError=function(e,t){a({errorType:e},t.message||t,t.stack||"")},t.logException=function(e,t,n){Jane.ErrorLog.sendException(e,t,n)},t.logDebug=function(e){Object(r.isDev)()&&console.warn(e)},t.writeToUserJournal=function(e){var t=e.operation,n=e.target,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Daria.monitoring.journal(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({target:n},r))};var r=n(350);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){if(Object(r.isDev)()&&!e.errorType)throw new Error("  errorType   ");if(Object(r.isDev)()&&e.failIfPossible)throw e;Jane.ErrorLog.send(e,t,n)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r="start",i="finish",o="error"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return d});var s="Quality metrics log: ";function l(e){return!1}var c={log:function(){}},u={scenario:function(e){e.scenario,e.params}},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogDisabled:l,debug:c,monitoring:u};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLogDisabled=t.isLogDisabled,this.debug=t.debug,this.monitoring=t.monitoring}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"logStep",value:function(e,t,n){this.log(e,i({step:t},n))}},{key:"log",value:function(e,t){this.isLogDisabled(e.type)||(t=this._addSessionLifetime(t),this.debug.log(s,e,t),this.monitoring.scenario({scenario:e,params:t}))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.debug).warn.apply(e,[s].concat(n))}},{key:"_addSessionLifetime",value:function(e){var t=window.performance&&window.performance.now&&window.performance.now();return i({sessionLifetime:t?Math.floor(t):void 0},e)}}]),e}()},,,,,,,,,,,,,,,,,function(e,t){e.exports={PREV:"prev",NEXT:"next"}},,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return u});var r="exit-without-saving-draft-popup",i="exit-without-saving-draft",o="exit-with-successful-draft-save",a="exit-with-failed-draft-save",s="exit-with-removing-draft",l="successful-sending",c="successful-delayed-sending",u="exit-by-expanding-another-compose"},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(341);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var l=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cancel=null,this._cancel=Object(r.reaction)(t,n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:this.constructor.name},a))}return s(e,[{key:"destroy",value:function(){}}]),s(e,[{key:"cancel",value:function(){this._cancel&&(this._cancel(),this._cancel=null,this.destroy())}}]),e}()},,,,,,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SEASONS_LOCALES=t.THEME_LOCALES=void 0;var i=n(549);t.THEME_LOCALES=((r={bears:"themes/bears",besiktas:"themes/besiktas",colorful:"themes/colorful",cosmos:"themes/cosmos",dandelions:"themes/dandelions",fenerbahce:"themes/fenerbahce",foxes:"themes/foxes",galatasaray:"themes/galatasaray","galatasaray-net":"themes/galatasarayNet",lamp:"themes/lamp",newspaper:"themes/newspaper",newyear:"themes/newyear",orangetree:"themes/orangetree",owls:"themes/owls",plasticine:"themes/plasticine",relax:"themes/relax",sea:"themes/sea",seasons:"themes/seasons",weather:"themes/weather",zverushki:"themes/zverushki"})[i.ThemeName.GeneralFlow]="themes/generalFlow",r[i.ThemeName.GeneralGrass]="themes/generalGrass",r[i.ThemeName.GeneralDarkflow]="themes/generalDarkFlow",r[i.ThemeName.GeneralNewYear2024]="themes/newyear",r[i.ThemeName.GeneralDefault]="themes/generalDefault",r),t.SEASONS_LOCALES={winter:"themes/seasonsWinter",summer:"themes/seasonsSummer",autumn:"themes/seasonsAutumn",spring:"themes/seasonsSpring"}},function(e,t){e.exports={container:"SettingsPromo__container--35SZ2",item:"SettingsPromo__item--19x5f",caption:"SettingsPromo__caption--3Sl9i",icon:"SettingsPromo__icon--1kuou",email:"SettingsPromo__email--3kvOA",dark:"SettingsPromo__dark--2d-eE",disableAd:"SettingsPromo__disableAd--3sQD4",subscribes:"SettingsPromo__subscribes--3Jyk2"}},,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetrikaContext=void 0;var i=r(n(135));t.MetrikaContext=i.default.createContext({})},,,function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r,i,o=n(136),a=(n.n(o),n(1730)),s=n(341),l=n(390),c=n(1731),u=n(137),d=(n.n(u),n(414)),f=n(491),p=n(346);function g(e){"@babel/helpers - typeof";return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=(i=y((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(b(e=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?b(e):t}(this,v(t).call(this))),"folders",i,b(e)),e.subscribeToModelChanges=function(){var t=Object(p.getMailboxUid)();t!==e.mailboxUid&&(e.unsubscribe&&e.unsubscribe(),e.unsubscribe=e._addModelSubscription("folders",{mailboxUid:Object(p.getMailboxUid)()},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.folders=(t.folder||[]).map(function(e){return new c.a(e)}),Object(a.a)(e.getFolderBySymbol)},onDestroyed:function(){e.folders=[]}}),e.mailboxUid=t)},e.getFolderBySymbol=Object(o.memoize)(function(t){for(var n=0,r=e.folders.length;n<r;n++){var i=e.folders[n];if(i.data.symbol===t)return i}return null}),e.getFolderByName=Object(o.memoize)(function(t){for(var n=0,r=e.folders.length;n<r;n++){var i=e.folders[n];if(i.data.name===t)return i}return null}),e.subscribeToModelChanges(),Object(f.addNsEventListener)("ns-page-before-load",e.subscribeToModelChanges),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,l["default"]),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"isFidSymbol",value:function(e,t){var n=this.getFolderBySymbol(t);return n&&n.data.fid===e}},{key:"getFolderByFid",value:function(e){return this.folders.find(function(t){return t.data.fid===e})}},{key:"getFolderDataByFid",value:function(e){var t=this.getFolderByFid(e);return t&&t.data}},{key:"refresh",value:function(){d.default.forcedRequest("folders").then(function(){return ns.events.trigger("daria:mFolders:symbolSet")})}},{key:"setIsHiddenTrashEnabled",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0]&&t[0])){e.next=6;break}return e.next=4,d.default.forcedRequest("do-folder-create-hidden-trash");case 4:e.next=8;break;case 6:return e.next=8,d.default.forcedRequest("do-folder-purge-hidden-trash");case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"foldersForSearch",get:function(){return this.folders.filter(function(e){return!u.SearchDisabledFolders.includes(e.data.symbol)})}},{key:"foldersData",get:function(){return this.folders.map(function(e){return e.data})}}]),t}()).prototype,"folders",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y(r.prototype,"foldersForSearch",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"foldersForSearch"),r.prototype),y(r.prototype,"foldersData",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"foldersData"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r,i,o,a,s,l,c,u=n(136),d=(n.n(u),n(341)),f=n(517),p=n(350);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var v=(i=h((r=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"currentPage",i,this),m(this,"retpath",o,this),m(this,"isCurrentPageEmptySearch",a,this),m(this,"_pageIsLoading",s,this),m(this,"_pageLoaded",l,this),m(this,"_syncState",c,this),this._syncState(),ns.events.on("ns-page-before-load",function(e,n){return t._syncState(n&&n[1])}),ns.events.on("ns-page-after-load",this._pageLoaded),this._pageIsLoading=!1}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(e,[{key:"isCollectorSearch",value:function(e){return"rpopinfo"===(e=e||this.currentPage.params).scope}},{key:"isSearchResultsPage",get:function(){return Object(f.isSearchPage)(this.currentPage)||this.isCurrentPageEmptySearch}},{key:"isMessagesListPage",get:function(){return Object(f.isMessagesListPage)(this.currentPage)}},{key:"isMessagePage",get:function(){return Object(f.isMessagePage)()}},{key:"isMessageOpened",get:function(){return Object(f.isMessageOpened)(this.currentPage)}},{key:"isAbookPage",get:function(){return Object(f.isAbookPage)(this.currentPage)}},{key:"isSetupPage",get:function(){return Object(f.isSetupPage)(this.currentPage)}},{key:"isNavigatingToMessageInList",get:function(){return this._pageIsLoading&&Object(f.isMessageOpenedInList)(this.currentPage)}},{key:"isThreadOpened",get:function(){return Boolean(this.currentPage.params.thread_id)}},{key:"is404LikePage",get:function(){var e=this;return["404","not-found","no-message"].some(function(t){return t===e.currentPage.page})}}]),e}()).prototype,"currentPage",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:null,params:null}}}),o=h(r.prototype,"retpath",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=h(r.prototype,"isCurrentPageEmptySearch",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=h(r.prototype,"_pageIsLoading",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=h(r.prototype,"_pageLoaded",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._pageIsLoading=!1}}}),h(r.prototype,"isSearchResultsPage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isSearchResultsPage"),r.prototype),h(r.prototype,"isMessagesListPage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isMessagesListPage"),r.prototype),h(r.prototype,"isMessagePage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isMessagePage"),r.prototype),h(r.prototype,"isMessageOpened",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isMessageOpened"),r.prototype),h(r.prototype,"isAbookPage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAbookPage"),r.prototype),h(r.prototype,"isSetupPage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isSetupPage"),r.prototype),h(r.prototype,"isNavigatingToMessageInList",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isNavigatingToMessageInList"),r.prototype),h(r.prototype,"isThreadOpened",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isThreadOpened"),r.prototype),h(r.prototype,"is404LikePage",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"is404LikePage"),r.prototype),c=h(r.prototype,"_syncState",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.retpath=Object(p.getRetpath)();var n=t||ns.page.current,r=e.currentPage.page!==n.page,i=!Object(u.isEqual)(e.currentPage.params,n.params);(r||i)&&(e._pageIsLoading=!0,e.currentPage.page=n.page,i&&(e.currentPage.params=n.params),e.isCurrentPageEmptySearch=Boolean(Jane.watcher.get("search.is-empty-search")))}}}),r)},function(e,t,n){"use strict";var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?$/;e.exports=function(e){if("string"!=typeof e)return null;if(e=e.replace(" ","+"),!r.test(e))return null;var t=Date.parse(e);return t||null}},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return b});var r,i,o=n(341),a=n(390),s=n(350),l=n(396);n.n(l);function c(e){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m="hidden_trash_enabled",h="lc-pro-widget",v={enable_hotkeys:!0},b=(i=g((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(f(e=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,d(t).call(this))),"settings",i,f(e)),e._addModelSubscription("settings",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.settings=t},onDestroyed:function(){e.settings={}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["default"]),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"isSet",value:function(e){return Object(s.areSettingsUnavailable)()?Boolean(v[e]):Boolean(this.settings[e])}},{key:"hasSetting",value:function(e){return void 0!==this.settings[e]}},{key:"getSettingValue",value:function(e){return this.settings[e]}},{key:"getSign",value:function(e){var t=this.getSettingValue(e);return!0===t||"on"===t}},{key:"isThreadMode",get:function(){return this.isSet("folder_thread_view")}},{key:"isBiggerText",get:function(){return this.isSet("with_bigger_text")}},{key:"isTimelineOpen",get:function(){return this.isSet("timeline-is-open")}},{key:"areTabsEnabled",get:function(){return this.isSet("show_folders_tabs")}},{key:"isOpenMessageInList",get:function(){return this.isSet("open-message-list")}},{key:"isHeadRecieversOpen",get:function(){return this.isSet("m_head_full_edition")}},{key:"is3Pane",get:function(){return Daria.is3pane()}},{key:"is2Pane",get:function(){return Daria.is2pane()}},{key:"showTranslateBar",get:function(){return this.isSet("translate")}},{key:"hasProInterface",get:function(){return this.isSet("has_pro_interface")}},{key:"leftColumnProWidgetExpandAt",get:function(){return this.getSettingValue(h)}},{key:"isOptInSubscriptionsEnabled",get:function(){return this.isSet(l.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},{key:"optInSubscriptionsEnabledAt",get:function(){return this.getSettingValue(l.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED_AT)}},{key:"optInSubscriptionsReviewedAt",get:function(){return this.getSettingValue(l.Settings.OPT_IN_SUBSCRIPTIONS_REVIEWED_AT)||this.optInSubscriptionsEnabledAt}},{key:"canUseOptInSubscriptions",get:function(){return this.isSet(l.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)}},{key:"hideB2cTariffPromo",get:function(){return this.isSet(l.Settings.NO_B2C_TARIFF_PROMO)}},{key:"hideYandexJobs",get:function(){return this.isSet(l.Settings.NO_YANDEX_JOBS)}},{key:"isSmartSubjectEnabled",get:function(){return this.getSign(l.Settings.EMPTY_SUBJECT_POPUP_DISABLED)}},{key:"isDefaultEmailLocked",get:function(){return this.getSettingValue(l.Settings.LOCK_DEFAULT_EMAIL)}}]),t}()).prototype,"settings",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g(r.prototype,"isThreadMode",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isThreadMode"),r.prototype),g(r.prototype,"isBiggerText",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isBiggerText"),r.prototype),g(r.prototype,"isTimelineOpen",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isTimelineOpen"),r.prototype),g(r.prototype,"areTabsEnabled",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"areTabsEnabled"),r.prototype),g(r.prototype,"isOpenMessageInList",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isOpenMessageInList"),r.prototype),g(r.prototype,"isHeadRecieversOpen",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isHeadRecieversOpen"),r.prototype),g(r.prototype,"is3Pane",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"is3Pane"),r.prototype),g(r.prototype,"is2Pane",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"is2Pane"),r.prototype),g(r.prototype,"showTranslateBar",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"showTranslateBar"),r.prototype),g(r.prototype,"hasProInterface",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasProInterface"),r.prototype),g(r.prototype,"leftColumnProWidgetExpandAt",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"leftColumnProWidgetExpandAt"),r.prototype),g(r.prototype,"isOptInSubscriptionsEnabled",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isOptInSubscriptionsEnabled"),r.prototype),g(r.prototype,"optInSubscriptionsEnabledAt",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"optInSubscriptionsEnabledAt"),r.prototype),g(r.prototype,"optInSubscriptionsReviewedAt",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"optInSubscriptionsReviewedAt"),r.prototype),g(r.prototype,"canUseOptInSubscriptions",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"canUseOptInSubscriptions"),r.prototype),g(r.prototype,"hideB2cTariffPromo",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"hideB2cTariffPromo"),r.prototype),g(r.prototype,"hideYandexJobs",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"hideYandexJobs"),r.prototype),g(r.prototype,"isSmartSubjectEnabled",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isSmartSubjectEnabled"),r.prototype),g(r.prototype,"isDefaultEmailLocked",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isDefaultEmailLocked"),r.prototype),r)},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2189);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(2222);t.a=r.a},,function(e,t,n){"use strict";var r=n(1426);t.a=r.a},,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(769);var a={"do-client-log":[],"do-journal-log":[]};function s(){Object.keys(a).forEach(function(e){var t=a[e];if(t.length){var n=ns.Model.get(e,{messages:JSON.stringify(t.splice(0,50))});ns.forcedRequest([n])}})}!function e(){requestIdleCallback(function(){setTimeout(e,1e3),s()})}(),window.ns&&ns.events.on("pageVisible.change",function(){Jane.watcher.get("pageVisible")||s()}),window.addEventListener("unload",function(){s()});var l=Daria.monitoring=e.exports;l.scenario=function(e){a["do-client-log"].push(Object.assign(e,{reason:"scenario"}))},l.mailListRender=function(e){a["do-client-log"].push(Object.assign(e,{reason:"mail-list-render"}))},l.workflow=function(e){a["do-client-log"].push(Object.assign(e,{reason:"workflow"}))},l.workflow.ads=function(e){l.workflow(Object.assign(e,{flow:"ads"})),"1"===Daria.urlParams.ad_debug&&console.log("[Workflow][ADS]:",e)},l.workflow.ipush=function(e){l.workflow(Object.assign(e,{flow:"ipush"}))},l.workflow.userEvents=function(e){l.workflow(Object.assign(e,{flow:"user_events"}))},l.workflow.attachToDisk=function(e){l.workflow(i({},e,{flow:"attach_to_disk"}))},l.journal=function(e,t){a["do-journal-log"].push(Object.assign(t,{operation:e}))},l.performance=function(e){a["do-client-log"].push(i({reason:"performance"},e))},l.performance.fps=function(e,t){l.performance(i({type:"fps",area:e},t))},l.stat=function(e){a["do-client-log"].push(Object.assign(e,{reason:"stat"}))},l.stat.settings=function(e){l.stat(i({flow:"settings"},e))},l.stat.ics=function(e){l.stat(Object.assign(e,{flow:"ics"}))},l.contactValidation=function(e){a["do-client-log"].push(Object.assign(e,{reason:"contact_validation"}))}},function(e,t){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r="blocker",i="critical",o="minor"},,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),t.a=function(){if(!i())return[];return Object(r.getXivaServicesFromBridge)()()};n(1057);var r=n(347),i=function(){return ns.Model.get("settings").getSign("show_sidebar_with_widgets")}},function(e,t,n){"use strict";t.a=function(){var e=!0,t=Object(r.getMailboxUid)();if(t&&ns.Model.isDefined("delegated-resources-list")){var n=ns.Model.get("delegated-resources-list"),i=e=n.data.resources.find(function(e){var n=e.resourceId;return n===t});i&&(e=i.permissions.send_as||i.permissions.send_on_behalf)}return e};var r=n(346)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o={def:function(e){return"undefined"!=r(e)},undef:function(e){return"undefined"==r(e)},string:function(e){return"string"==typeof e}},a=/^((((\w+):)\/\/)(([\w\-\.]+)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,s=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,l=encodeURIComponent,c={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"};function u(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}function d(e,t,n){o.undef(e[t])&&(e[t]=[]),Array.isArray(n)?e[t]=e[t].concat(n):e[t].push(n)}function f(e,t){for(var n=e[t],r=n.length,i=new Array(r),o=l(t),a=0;a<r;a++)i[a]=o+"="+l(n[a]);return i}function p(e){for(var t,n,r,i={},o=e.replace(/\+/g,"%20").split("&"),a=0,s=o.length;a<s;a++)(n=(t=o[a].split("=")).shift())&&(r=t.length>1?t.join("="):t[0]||"",d(i,u(n),u(r)));return i}var g=function(e){var t=(e=o.def(e)?e.toString():window.location.href).match(a);if(!t)throw new Error("This is not an url");this.Href=t[0],this.Proto=t[4]||"",this.Host=t[6]||"",this.Port=t[8]||0,this.Path=decodeURI(t[9]||""),this.Query=p(t[11]||""),this.Hash=u(t[13]||"")};for(i in g.prototype={go:function(){window.location.href=this.toString()},toString:function(){var e="";(this.Proto||this.Host)&&this.Host&&(e+=(this.Proto||"http")+"://"+this.Host,this.Port&&(e+=":"+this.Port)),this.Path&&(this.Host&&0!==this.Path.indexOf("/")&&(e+="/"),e+=encodeURI(this.Path));var t=this.query();return t&&(e+="?"+t),this.Hash&&(e+="#"+l(this.Hash)),e},clone:function(){return new g(this.toString())},query:function(e){if(o.def(e))return this.clearQuery(),o.string(e)?this.Query=p(e):this.replaceParams(e),this;var t=[];for(var n in this.Query)t=t.concat(f(this.Query,n));return t.join("&")},queryParams:function(){return Object.assign({},this.Query)},queryKeys:function(){var e=[];for(var t in this.Query)e.push(t);return e.sort()},addParam:function(e,t){return d(this.Query,e,t),this},addParams:function(e){for(var t in e)d(this.Query,t,e[t]);return this},removeParams:function(e){for(var t=0,n=e.length;t<n;t++)delete this.Query[e[t]];return this},replaceParams:function(e){var t=[];for(var n in e)t.push(n);return this.removeParams(t),this.addParams(e),this},clearQuery:function(){return this.Query={},this},getParam:function(e){var t=this.Query[e];return t?t[0]:null},getParams:function(e){return this.Query[e]||[]}},c)g.prototype[i]=function(e){return function(t){return o.def(t)?(this[e]=t,this):this[e]}}(c[i]);g.isValid=function(e){return s.test(e)},t.a=g},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(785);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"loadAvatars",value:function(e){return Object(r.b)(e)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return Daria.Recipients.add(e)},i=function(e){return Daria.Recipients.requestContacts(e).then(function(){return e.map(function(e){var t=Daria.Recipients.getRecipientFromCache(e.name,e.email)||{};return{contact:e,avatar:{url:t.url,color:t.color,monogram:t.mono,valid:!0}}})})}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToInt=t.defaultLabelColor=t.getLabelColors=t.OldLabelBackgroundColors=t.LabelTextColors=t.LabelBackgrounds=void 0;var r=n(2595);t.LabelBackgrounds=new r.Matrix({columns:[["#C2F2C7","#A6E0AD","#83CC8A","#58A05F"],["#D0F3F7","#A6DBE0","#83C5C7","#448F91"],["#DCE4F7","#BBCDED","#99B8F2","#6083D6"],["#E4DCF7","#D3C7F2","#BCA6FF","#795DC1"],["#D7EAF2","#A5D5EA","#7BC1DF","#3E96BB"],["#EEF19E","#E6E993","#D2D668","#A6AB16"],["#FFDF9A","#FFC669","#FAAD32","#E69412"],["#FFD9DE","#FCB7C0","#F496A3","#E75669"]]}),t.LabelTextColors=new r.Matrix({columns:[["#005704","#005704","#005704","#000"],["#004E57","#004E57","#004E57","#000"],["#002987","#002987","#002987","#000"],["#260087","#260087","#260087","#000"],["#0A3C52","#0A3C52","#0A3C52","#000"],["#5D4C00","#5D4C00","#5D4C00","#000"],["#692C00","#6A2D00","#6A2D00","#000"],["#8A0012","#8A0012","#8A0012","#000"]]}),t.OldLabelBackgroundColors=new r.Matrix({columns:[["31c73b","28a931","1d8925","136619"],["7cc3c4","67a3a4","508182","395e5f"],["5a8eff","5080e7","456ec8","385ca8"],["ba99ff","a488e2","8e75c4","7760a4"],["a8bcce","8e9faf","73818e","57616c"],["c1be00","a19f00","807e00","5c5a00"],["f99000","db7f00","bb6c00","9c5800"],["ff8985","ff3f30","f32300","d51e00"]]});var i={"#C2F2C7":"%labelColorPaleGreen","#A6E0AD":"%labelColorLightGreen","#83CC8A":"%labelColorGreen","#58A05F":"%labelColorDarkGreen","#D0F3F7":"%labelColorPaleTurquoise","#A6DBE0":"%labelColorLightTurquoise","#83C5C7":"%labelColorTurquoise","#448F91":"%labelColorDarkTurquoise","#DCE4F7":"%labelColorPaleBlue","#BBCDED":"%labelColorLightBlue","#99B8F2":"%labelColorBlue","#6083D6":"%labelColorDarkBlue","#E4DCF7":"%labelColorPalePurple","#D3C7F2":"%labelColorLightPurple","#BCA6FF":"%labelColorPurple","#795DC1":"%labelColorDarkPurple","#D7EAF2":"%labelColorPaleCyan","#A5D5EA":"%labelColorLightCyan","#7BC1DF":"%labelColorCyan","#3E96BB":"%labelColorDarkCyan","#EEF19E":"%labelColorPaleYellow","#E6E993":"%labelColorLightYellow","#D2D668":"%labelColorYellow","#A6AB16":"%labelColorDarkYellow","#FFDF9A":"%labelColorPaleOrange","#FFC669":"%labelColorLightOrange","#FAAD32":"%labelColorOrange","#E69412":"%labelColorDarkOrange","#FFD9DE":"%labelColorPalePink","#FCB7C0":"%labelColorLightPink","#F496A3":"%labelColorPink","#E75669":"%labelColorDarkPink"};t.getLabelColors=function(e){var n,r,o=t.OldLabelBackgroundColors.getItemCoords(e);if(o){var a=o.row,s=o.column,l=t.LabelBackgrounds.getCell({row:a,column:s});return{background:l,color:t.LabelTextColors.getCell({row:a,column:s}),backgroundColorNameKey:null!==(n=i[l])&&void 0!==n?n:null}}var c=e.toUpperCase();return"#"!==c[0]&&(c="#"+c),{background:c,color:function(e){var n=t.LabelBackgrounds.getItemCoords(e.toUpperCase());if(!n)return null;var r=n.row,i=n.column;return t.LabelTextColors.getCell({row:r,column:i})}(c),backgroundColorNameKey:null!==(r=i[c])&&void 0!==r?r:null}},t.defaultLabelColor=t.LabelBackgrounds.getCell({row:0,column:0});t.hexToInt=function(e){return parseInt(e.replace(/^#/,""),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=void 0,t.log=function(e,t){Jane.ErrorLog.log(e,t)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=t.SECOND=void 0,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.WEEK=7*t.DAY,t.MONTH=30*t.DAY,t.YEAR=365*t.DAY},,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2687);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s});var r=n(1502);function i(e,t){var n=r.priorityTypes[t];if(n)return n;var i="".concat(e,"+").concat(t),o=r.comboKeys[i];if(o)return o;var a=r.extensions[e];if(a)return a;var s=r.types[t];return s||void 0}var o=function(e,t){return i(e,t)||r.default},a=function(e,t){return Boolean(i(e,t))},s=function(){return r.folder}},function(e,t,n){e.exports=n.p+"_/b2b9d65a066152b21417dedc4506a404-attach_icon_word.svg"},,,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=400,i="#333",o={SLIM:"slim",NORMAL:"normal"},a="11px 'yandex-sans', Arial, sans-serif",s=90},function(e,t,n){"use strict";var r=n(3228);n.d(t,"a",function(){return r.a})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeWeather=function(){return i||(i=ns.Model.get("theme-weather"))},t.getThemeThumbnail=function(e){var t=Object(s.getGeneralThemesBridge)().getGeneralTheme(e);if(t)return Object(a.get)(t,"thumbnail.jpeg");var n="";"seasons"===e&&(n="-"+(r||(r=ns.Model.get("theme-seasons"))).getSeason());return c[e+n]},t.setTheme=function(e){if("newyear"!==e)return ns.Model.get("settings").setSettings({color_scheme:e,with_new_year:""});return ns.Model.get("settings").setSettings({with_new_year:"on"})},t.runTheme=function(e){if(l.includes(e))return Promise.resolve();return new Promise(function(t){Jane.Services.runModules(["theme-"+e+".css"],t)})};var r,i,o=n(549),a=(n.n(o),n(136)),s=(n.n(a),n(347)),l=Object.values(o.ThemeName),c=n(1563)},,,function(e,t,n){"use strict";t.a=function(){return o(r).then(function(){return o(i)}).then(function(){Jane.Services.load("#abook")})};var r=["editor.css","compose-manager.css","compose-react.css"],i=["ckeditor.js","compose-manager.js"];function o(e){return Jane.Services.runModules(e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return S}),n.d(t,"d",function(){return O});var r,i=n(135),o=(n.n(i),n(139)),a=n.n(o),s=n(375),l=n(350),c=n(785),u=n(543),d=(n.n(u),n(23)),f=n(550);function p(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)})}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=["subscriptions.js","subscriptions.css"],b=function(){return Object(d.loadModules)(v)},_=function(){return Object(d.runModules)(v).then(function(e){return m(e,1)[0]})},y=function(){var e=g(regeneratorRuntime.mark(function e(t,n){var r,i,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(t=Object(f.e)(n)),r=Object(f.g)(Object(f.f)(t)),i=r.map(function(e){return{name:e.displayName,email:e.email}}),e.next=5,Object(c.b)(i);case 5:return o=e.sent,s=document.createElement("div"),u=function(){return _().then(function(e){return h(e.Unsubscribe,{visible:!0,contacts:o,logMetric:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(l.logMetric)([""," "].concat(t))},onClose:function(){a.a.unmountComponentAtNode(s),s.remove()},onManageSubscriptions:function(){return ns.events.trigger("daria:unsubscribe-popup:show")},onAction:function(e){var t=e.deleteOldLetters;return Object(f.i)({messages:r,mMessagesChecked:n,deleteOldLetters:t})}})})},e.abrupt("return",w(s,u));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=g(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(f.g)(Object(f.f)(t)),r=document.createElement("div"),i=function(){return _().then(function(e){return h(e.RemoveOldLetters,{visible:!0,logMetric:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(l.logMetric)([""," "].concat(t))},onClose:function(){a.a.unmountComponentAtNode(r),r.remove()},onManageSubscriptions:function(){return ns.events.trigger("daria:unsubscribe-popup:show")},onAction:function(){return Object(f.b)(n)}})})},e.abrupt("return",w(r,i));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function w(e,t){return new Promise(function(n){a.a.render(h(s.default,{lang:Object(l.getLocale)()},void 0,h(u.ModuleLoader,{component:t,onLoad:n,onError:n})),e),document.body.appendChild(e)})}var O=function(){var e=g(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y([],t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return m}),n.d(t,"j",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return S}),n.d(t,"i",function(){return w});var r=n(137),i=(n.n(r),n(391)),o=n(144),a=(n.n(o),n(584)),s=(n.n(a),n(358)),l=(n.n(s),n(359)),c=(n.n(l),n(353)),u=n(346);function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f={"stickers limit has been exceeded":"statusline/replyLaterCreateLimitError"},p=function(e){var t=Object(u.getMailboxUid)(),n=ns.Model.get("folders",{mailboxUid:t}),i=ns.Model.get("message",{ids:e,mailboxUid:t}),o=n.getFidBySymbol(r.WellKnownFolderSymbol.INBOX),a={current_folder:o};return i.isValid()&&(a.current_folder=i.get(".fid"),a.current_folder===o&&i.get(".tabId")&&(a.tabId=i.get(".tabId"))),a},g=function(e,t){var n=Object(u.getMailboxUid)(),o=ns.Model.get("folders",{mailboxUid:n}).getFolderBySymbol(r.WellKnownFolderSymbol.REPLY_LATER);Object(s.showSuccessMessage)(l.StatuslineName.ReplyLaterCreateSuccess,Object(c.default)("statusline/replyLaterCreateSuccess",{folder:o.name,date:Object(i.getShortDate)(t.date),time:Object(i.getShortTime)(t.date)})),Daria.MOPS.doActionInModelsByIds(e.getIds(),"doMove",{current_folder:o.fid}),e.resetChecked()},m=function(e){var t=f[e]||"statusline/unknownError";Object(s.showErrorMessage)(l.StatuslineName.ReplyLaterCreateError,Object(c.default)(t))},h=function(e){var t=Object(u.getMailboxUid)(),n=e.getIds(),r=ns.Model.get("labels",{mailboxUid:t}),i=r.getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_FINISHED),o=r.getLabelBySymbolicName(a.WellKnownLabels.PINNED);o&&Daria.MOPS.doActionInModelsByIds(n,"unlabel",{lid:o.lid}),i&&Daria.MOPS.doActionInModelsByIds(n,"unlabel",{lid:i.lid}),Daria.MOPS.updateModelsAfterPin(e,!1)},v=function(e){var t=Object(u.getMailboxUid)(),n=e.getIds(),r=ns.Model.get("labels",{mailboxUid:t}).getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_STARTED);r&&Daria.MOPS.doActionInModelsByIds(n,"unlabel",{lid:r.lid})},b=function(e,t){var n=Object(u.getMailboxUid)(),i=ns.Model.get("folders",{mailboxUid:n}),o=i.hasFolder(e)?e:i.getFidBySymbol(r.WellKnownFolderSymbol.INBOX),a=i.getFolderById(o).name;if(Daria.areFoldersTabsEnabled()&&t){var d=ns.Model.get("tabs",{mailboxUid:n}).getTab(t);a=d?d.get(".title"):a}Object(s.showSuccessMessage)(l.StatuslineName.ReplyLaterRemoveSuccess,Object(c.default)("statusline/replyLaterRemoveSuccess",{folder:a}))},_=function(){Object(s.showErrorMessage)(l.StatuslineName.ReplyLaterRemoveError,Object(c.default)("statusline/unknownError"))},y=function(e){var t=Object(u.getMailboxUid)(),n=ns.Model.get("stickers",{type:o.StickerType.REPLY_LATER}).getStickerByMid(e),i=ns.Model.get("folders",{mailboxUid:t});return n&&i.hasFolder(n.fid)?{fid:n.fid,tab:n.tab}:{fid:i.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)}},S=function(e){var t=Object(u.getMailboxUid)(),n=e.getIds(),r=[].concat(d(n.ids),d(n.tids)).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:t})});return r.length>0?r[0]:null},w=function(e){if("message"===ns.page.current.page){var t=ns.router.generateUrl("messages",e);ns.page.go(t)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HooksManager=t.Stage=void 0;var c=l(n(435));!function(e){e.before="before"}(t.Stage||(t.Stage={}));var u=function(){function e(){this.hooks={before:{}}}return e.prototype.registerHandler=function(e,t,n){var r=this,i=this.hooks[e][t]||[];return i.push(n),this.hooks[e][t]=i,function(){return r.unregisterHandler(e,t,n)}},e.prototype.unregisterHandler=function(e,t,n){var r=this.hooks[e][t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},e.prototype.runBefore=function(e,t,n){var r=this.hooks.before[e];return!(!r||!r.length)&&this.runHandlers(r,t,n)},e.prototype.hasHandler=function(e){var t=this.hooks.before[e];return Boolean(t&&t.length)},e.prototype.runHandlers=function(e,t,n){return r(this,void 0,Promise,function(){var r,a,l,c,u,d;return i(this,function(i){switch(i.label){case 0:r={cancelled:!1,args:n},i.label=1;case 1:i.trys.push([1,6,7,8]),a=o(e),l=a.next(),i.label=2;case 2:return l.done?[3,5]:[4,l.value.apply(void 0,s(r.args))];case 3:if((r=i.sent()).cancelled)return[2];i.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return c=i.sent(),u={error:c},[3,8];case 7:try{l&&!l.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}return[7];case 8:return[2,t.apply(void 0,s(r.args,[!0]))]}})})},e.instance=c.default(function(){return new e}),e}();t.HooksManager=u},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMetrika=void 0;var r=function(){function e(e){this.logger=e}return e.prototype.logMetric=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logger.logMetric(e)},e.prototype.logGroupedMetric=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logger.logGroupedMetric(e)},e}();t.BaseMetrika=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.MenuItem=void 0;var a=o(n(135)),s=n(138),l=o(n(339)),c=o(n(1173));t.MenuItem=function(e){var t=e.className,n=e.children,o=e.innerRef,u=i(e,["className","children","innerRef"]);return a.default.createElement("li",r({className:l.default(c.default.item,t),ref:o},u),a.default.createElement(s.Text,{typography:"body-short-s"},n))};t.Separator=function(){return a.default.createElement("div",{className:c.default.separator})}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r,i,o=n(390),a=n(341),s=n(347);function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=(i=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(u(e=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?u(e):t}(this,c(t).call(this))),"isFolded",i,u(e)),Object(a.reaction)(function(){return e.isFolded},s.setHeaderContactsSearchFolded),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,o["default"]),t}()).prototype,"isFolded",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,i,o,a,s,l=n(341);function c(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function u(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var d=(i=u((r=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"data",i,this),c(this,"error",o,this),c(this,"setData",a,this),c(this,"setError",s,this),n?this.setError(n):t&&this.setData(t)}).prototype,"data",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=u(r.prototype,"error",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=u(r.prototype,"setData",[l.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.data=t,e.error={}}}}),s=u(r.prototype,"setError",[l.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){"string"==typeof t&&(t={message:t}),e.data={},e.error=t}}}),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailboxSettings=void 0,t.MailboxSettings={default_email:1,disable_imap_autoexpunge:1,emails:1,enable_imap:1,enable_imap_auth_plain:1,enable_pop:1,fid:1,from_name:1,lock_employees_default_mail_domain:1,pop3_makes_read:1,pop_spam_subject_mark_enable:1,reply_to:1,signature_top:1}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,i,o=n(341),a=n(390),s=n(1732),l=n(491),c=n(71);function u(e){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=(i=m((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(p(e=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}(this,f(t).call(this))),"labels",i,p(e)),e.subscribeToModelChanges=function(){var t=Object(c.a)();t!==e.mailboxUid&&(e.unsubscribe&&e.unsubscribe(),e.unsubscribe=e._addModelSubscription("labels",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.labels=(t.label||[]).map(function(e){return new s.a(e)})},onDestroyed:function(){e.labels=[]}}),e.mailboxUid=t)},e.subscribeToModelChanges(),Object(l.addNsEventListener)("ns-page-before-load",e.subscribeToModelChanges),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a["default"]),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"getLabelBySymbolicName",value:function(e){var t=this.labels.findIndex(function(t){return t.data.symbolicName===e});return t>-1?this.labels[t]:null}},{key:"getLabelByName",value:function(e){var t=this.labels.findIndex(function(t){return t.data.name.toLowerCase()===e.toLowerCase()});return t>-1?this.labels[t]:null}},{key:"getImportantId",value:function(){var e=this.getLabelBySymbolicName("important_label");return e&&e.data&&e.data.lid}},{key:"getPriorityId",value:function(){var e=this.getLabelBySymbolicName("hamon_label");return e&&e.data&&e.data.lid}},{key:"getLabelById",value:function(e){var t=this.labels.findIndex(function(t){return t.data.lid===e});return t>-1?this.labels[t]:null}},{key:"openLabelRulesModal",value:function(e){Daria.Label.createFilter(e)}},{key:"labelItemsForSearch",get:function(){var e=this.getLabelBySymbolicName("important_label"),t=[];return e&&t.push({value:e.data.lid,text:e.data.name,icon:"important"}),t.push({value:"unread",text:i18n("%Labels_Only_New"),icon:"unread"}),t.concat(this.labels.filter(function(e){return e.data.user}).sort(function(e,t){return e.data.name>t.data.name}).map(function(e){return{value:e.data.lid,text:e.data.name,color:"#".concat(e.data.color)}}))}}]),t}()).prototype,"labels",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m(r.prototype,"labelItemsForSearch",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"labelItemsForSearch"),r.prototype),r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2232);t.a=r.a},function(e,t,n){"use strict";var r=n(2234);n.d(t,"a",function(){return r.a})},,,,,,,function(e,t,n){"use strict";var r=n(2371),i=n(2378);n.n(i);t.a=r.a},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(683),i=(n(684),n(1033));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._activeScenarios={},this._logger=t.logger,this.connectionId=t.connectionId,this.now=t.now}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"startScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.scenarioId,o=r.skipLogStart;this.hasActiveScenario(e)&&this._logger.warn('Scenario "',this.getActiveScenario(e),'" already started. ',t,n);var a=this._initScenario(e,i);return this._activateScenario(a,e,n),o||this._logStart(a,t,n),a}},{key:"startParallelScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._initScenario(e);return this._activateScenario(r,r.id,n),this._logStart(r,t,n)}},{key:"_initScenario",value:function(e,t){return new i.a(e,{scenarioId:t,logger:this._logger,connectionId:this.connectionId,now:this.now})}},{key:"_activateScenario",value:function(e,t,n){var r=n.startTime;return delete n.startTime,e.setStartTime(r),this._setActiveScenario(t,e),e}},{key:"_logStart",value:function(e,t,n){return this._logger.logStep(e,r.c,a({initiator:t},n)),e}},{key:"finishScenarioIfActive",value:function(e,t,n){if(this.hasActiveScenario(e)){var i=this.getActiveScenario(e).setFinishTime();this._removeActiveScenario(e),this._logger.logStep(i,r.b,a({finalizer:t},n))}}},{key:"finishScenario",value:function(e,t,n){this.hasActiveScenario(e)?this.finishScenarioIfActive(e,t,n):this._logger.warn('There is no active "'.concat(e,'" scenario. '),t,n)}},{key:"hasActiveScenario",value:function(e){return Boolean(this.getActiveScenario(e))}},{key:"getActiveScenario",value:function(e){return this._activeScenarios[e]}},{key:"_setActiveScenario",value:function(e,t){return this._activeScenarios[e]=t}},{key:"_removeActiveScenario",value:function(e){delete this._activeScenarios[e]}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(1034),i=n(683);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.scenarioId,o=n.connectionId,a=n.logger,s=n.now;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i||Object(r.a)(o+"_"),this.type=t,Object.defineProperties(this,{logger:{value:a,enumerable:!1},now:{value:s,enumerable:!1}})}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"setStartTime",value:function(e){return this.startTime=Math.floor(e||this.now()),this}},{key:"getTimeFromStart",value:function(){return Math.floor(this.now()-this.startTime)}},{key:"setFinishTime",value:function(){return this.finishTime=Math.floor(this.now()),this}},{key:"logStep",value:function(e,t){this.logger.log(this,a({step:e},t))}},{key:"logError",value:function(e,t){var n=e.type,r=e.severity;this.logger.log(this,a({step:i.a,type:n,severity:r},t))}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=0,i=function(e){return"".concat(e||"").concat(++r)}},function(e,t,n){"use strict";var r=n(768),i=n.n(r),o=n(29),a=n(349),s=(n.n(a),n(370)),l=n(684);t.a=new l.a({isLogDisabled:function(e){var t=s.c[e];return Boolean(t&&!Object(a.hasFeature)(t))},debug:o.default,monitoring:i.a})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customDispatchEvent=function(e,t){var n;"function"==typeof Event?n=new Event(t):(n=document.createEvent("Event")).initEvent(t,!0,!0);e.dispatchEvent(n)}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"404"===(e=e||ns.page.current.page)||"not-found"===e||"no-message"===e}},function(e,t,n){"use strict";function r(e){return Daria.lcn?Daria.lcn[e||"default"]:void 0}t.a=r,t.c=function(e,t){Daria.lcn||(Daria.lcn={});return Daria.lcn[t||"default"]=e,r(t)},t.b=function(e,t){var n=parseInt(e,10),i=r(t);return Boolean(i&&n<i)}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"i",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d});var r="go-to-compose",i="go-to-another-messages-list",o="go-to-another-page",a="additional-search",s="open-message",l="cancel-search-click",c="cancel-search-bg-click",u="cancel-search-hotkey",d="empty-search"},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var r="suggest-click",i="search-button-click",o="search-field-hotkey",a="additional-parameters-click",s="direct-url",l="return-to-search"},,,,,,,,function(e,t,n){"use strict";t.c=function(e){var t=d(e);return new Promise(function(n,r){Promise.all([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.ids||u(e)?new Promise(function(e){ns.forcedRequest(c.INIT_COMPOSE).then(function(t){return e(t)},function(){return e()})}):Promise.resolve()}(e),ns.request(t)]).then(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),r=t[0],i=void 0===r?[]:r,o=t[1];return n([].concat(l(o),l(i)))}).catch(r)})},t.b=function(e){var t=d(e).filter(function(e){var t=e.id;return Object(r.includes)([c.MESSAGE,c.MBODY],t)}).map(function(e){var t=e.id,n=e.params;return ns.Model.get(t,a({},n,{force:!0}))});if(!t.length)return Promise.resolve();return ns.forcedRequest(t).then(function(e){e.forEach(function(e){var t=a({},e.params,{force:null});ns.Model.get(e.id,t).setData(e.getData())})})},t.a=function(e){if(!e)return;var t=e.filter(function(e){return e&&e.id===c.INIT_COMPOSE})[0];return t&&t.data.messageId};var r=n(136),i=(n.n(r),n(349));n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={INIT_COMPOSE:"do-init-compose",MESSAGE:"message",MBODY:"message-body",SETTINGS:"settings",PREDEFINED_DATA:"compose-predefined-data",SIGNS:"signs",FOLDERS:"folders",LABELS:"labels",MAILBOX_SETTINGS:"mailbox-settings",ADDRESS_INFORMATION:"address-information"};function u(e){var t=(e||{}).ids;return t&&(_.isString(t)||_.isArray(t)&&1===t.length)}function d(e){var t,n=e||{},r=n.mailboxUid,o=n.ids,s=n.tids;r&&(t={mailboxUid:r});var d=[ns.Model.get(c.SETTINGS),ns.Model.get(c.PREDEFINED_DATA),ns.Model.get(c.SIGNS,t),ns.Model.get(c.LABELS,t),ns.Model.get(c.FOLDERS,t)].concat(l(Object(i.hasFeature)(i.Features.WEB_SHARED_MAILBOXES)?[ns.Model.get(c.MAILBOX_SETTINGS,t),ns.Model.get(c.ADDRESS_INFORMATION,t)]:[])),f=Boolean(s);if(u(e)&&!f){d.push(ns.Model.get(c.MESSAGE,a({ids:o},t)));var p=ns.Model.infoLite(c.MBODY).calculateParamsForMessageBody(e);p&&d.push(ns.Model.get(c.MBODY,p))}return d}},function(e,t,n){"use strict";const r={az:"az",be:"be",en:"en-gb",hy:"hy-am",ka:"ka",kk:"kk",ro:"ro",ru:"ru",tr:"tr",tt:"tt",uk:"uk",uz:"uz-latn"},i=["tt"],o=Object.values(r).filter(function(e){return!i.includes(e)});e.exports=r,Object.defineProperty(e.exports,"momentlangs",{value:o,enumerable:!1})},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2683),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvertedContentColorPopup=t.Popup=void 0;var r=n(340),i=n(143),o=n(403),a=n(440);t.Popup=r.compose(a.withPsTheme({source:o.DarkSource.Content}))(i.Popup),t.InvertedContentColorPopup=r.compose(a.withPsTheme({source:o.DarkSource.Content,invert:!0}))(i.Popup)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"_/d54d57b887769a427474b0c8c7aaf694-attach_icon_powerpoint.svg"},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES_MAX_COUNT=t.SIGNATURE_MAX_LENGTH=void 0,t.SIGNATURE_MAX_LENGTH=Math.pow(10,5),t.SIGNATURES_MAX_COUNT=20},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"renderReactComponent",function(){return k}),n.d(t,"unmountReactBox",function(){return A});var r,i=n(341),o=n(350),a=n(343),s=n.n(a),l=n(3227),c=n(382),u=n(512),d=n(598),f=n(1139),p=n(3239),g=n(3241),m=n(3244),h=n(3248),v=n(375),b=n(139),_=n.n(b),y=n(135),S=n.n(y),w=n(379),O=n(373),M=(n.n(O),n(3252)),x=n(1564);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object(i.configure)({enforceActions:Object(o.isDev)()?"observed":"never"}),s.a.defineLocale("tt",l.a);var C=d.a.SEARCH_TRIGGER;Daria.React=Daria.React||{},Daria.React.SEARCH_TRIGGER=C,Daria.React.renderAdvancedSearchBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_.a.render(Object(x.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{ref:function(e){Daria.React._advancedSearchRef=e}})),e)};var P=D(M.a,{});Daria.React.renderPsHeader=function(e){_.a.hydrate(P,e)};var k=function(e,t,n){Object(w.configureRootTheme)({theme:O.PS_LIGHT,root:t}),_.a.render(D(v.default,{lang:Object(o.getLocale)()},void 0,S.a.createElement(e,n)),t)},A=Daria.React.unmountReactBox=function(e){_.a.unmountComponentAtNode(e)};Daria.React.toggleSuggestFolded=function(e){Daria.React._searchRef&&Daria.React._searchRef.toggleFolded(e)},Daria.React.showLastSearchQuery=Object(i.action)(function(){var e=Object(u.getSearchService)(),t=Object(c.getSearchStore)();e.syncSearchQuery(),t.searchQuery.currentShowText=t.searchQuery.currentSuggestText}),Daria.React.activateSearch=function(){Object(f.getShortcuts)().emit("Search:activate")},Daria.React.getSearchBoxIsFolded=function(){return Object(c.getSearchStore)().isFolded},Daria.React.logSearchSuggest=function(e,t){var n=Object(u.getSearchLogService)();n.logSearchSuggest(e),t&&(n.suggestWasLogged=!0)},Daria.React.logSearchMessageClick=function(e,t,n,r,i){Object(u.getSearchLogService)().logMessageClick(e,t,n,r,i)},Daria.React.setSearchTrigger=function(e){Object(u.getSearchLogService)().setSearchTrigger(e)},Daria.React.wasSearchRequestSimplified=function(){return Object(c.getSearchStore)().wasSearchRequestSimplified},Daria.React.isAdvancedSearchOpened=function(){return Object(u.getSearchService)().shouldDisplayAdvancedSearch},Daria.React.setSimplifiedParams=Object(i.action)(function(e){Object(c.getSearchStore)().simplifiedParams=e}),Daria.React.startSearch=function(e,t,n){var r=Object(c.getSearchStore)(),i=Object(u.getSearchService)();n&&i.lockSearch(function(){r.searchQuery.reset()}),i.startSearch(e,t)},Daria.React.getSearchParams=function(){return Object(c.getSearchStore)().searchQuery.paramsForSearch},Daria.React.setInitialState=function(){Object(u.getSearchService)().syncSearchQuery()},Daria.React.reactOnAdvancedChange=function(e,t){var n=Object(c.getSearchStore)();return Object(i.reaction)(function(){return n.searchQuery.getAutosearchParams()},t,{name:e})},Daria.React.getSearchSessionId=function(){return Object(c.getSearchStore)().getSearchSessionId()},Daria.React.dropSearchSession=function(){Object(c.getSearchStore)().dropSearchSession()},Daria.React.getSearchId=function(){return Object(c.getSearchStore)().getSearchId()},Daria.React.generateSearchId=function(){Object(c.getSearchStore)().generateSearchId()},Daria.React.saveShowSearchResultsTimestamp=function(){Object(c.getSearchStore)().saveShowSearchResultsTimestamp()},Daria.React.promoPopularContacts=p.a,Daria.React.popupSubscriptions=g.a,Daria.React.promoComposeSwitcher=new m.a,Daria.React.yaCollectorEmailInputPopup=h.a,window.ReactClientBridge&&window.ReactClientBridge.getSearchStoreBridge.resolve({toggleFolded:Daria.React.toggleSuggestFolded,showLastSearchQuery:Daria.React.showLastSearchQuery})},function(e,t,n){"use strict";t.a=function(){return[{serviceId:"people",name:i18n("%ServiceTabs_messaging")},{serviceId:"calendar",name:i18n("%ServiceTabs_calendar"),email:"info@calendar.yandex-team.ru"},{serviceId:"goals",name:i18n("%ServiceTabs_goals"),email:"robot-goals@yandex-team.ru"},{serviceId:"startrek",name:i18n("%ServiceTabs_startrek"),email:"startrek@yandex-team.ru"},{serviceId:"wiki",name:i18n("%ServiceTabs_wiki"),email:"wiki@yandex-team.ru"},{serviceId:"atushka",name:i18n("%ServiceTabs_diary"),email:"robot-atushka@yandex-team.ru"}]}},function(e,t,n){"use strict";var r=n(3234);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(3238);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return a}),n.d(t,"getShortcuts",function(){return s}),n.d(t,"modalListPush",function(){return l}),n.d(t,"modalListPop",function(){return c});var r=n(136),i=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._handlers={}}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"on",value:function(e,t){this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t)}},{key:"off",value:function(e,t){if(this._handlers[e]){var n=this._handlers[e].indexOf(t);n>-1&&this._handlers[e].splice(n,1)}}},{key:"emit",value:function(e,t){for(var n=0,r=this._handlers[e]||[],i=r.length;n<i&&!r[n](t);n++);}}]),e}(),s=i.a.memoize(function(){return new a}),l=function(e){return $.Shortcuts.modalListPush(e)},c=function(e){return $.Shortcuts.modalListPop(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isOptInSubscriptionsVisible",function(){return i}),n.d(t,"canUseOptInSubscriptions",function(){return o}),n.d(t,"optInSubscriptionsEnabled",function(){return a});var r=n(396),i=(n.n(r),function(){return o()||!Daria.IS_CORP&&!Daria.Config.isWS&&"ru"===Daria.Config.TLD}),o=function(){return ns.Model.get("settings").isSet(r.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)},a=function(){return o()&&ns.Model.get("settings").isSet(r.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var r=n(3386);Object.defineProperty(t,"SettingsSection",{enumerable:!0,get:function(){return r.SettingsSection}})},,function(e,t){e.exports={container:"SettingsCheckbox__container--25Z4a",checkbox:"SettingsCheckbox__checkbox--3e8lX"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var r=n(3504);Object.defineProperty(t,"ThemeCard",{enumerable:!0,get:function(){return r.ThemeCard}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoItem=void 0;var s=o(n(135)),l=a(n(339)),c=a(n(353)),u=n(398),d=n(138),f=n(177),p=n(513),g=a(n(732)),m=a(n(3511));t.PromoItem=function(e){var t=e.className,n=e.caption,r=e.metricName,i=e.userType,o=e.type,a=e.url,h=e.onClick,v=e.isNew;s.useEffect(function(){p.logPopupMetric([r,u.SHOW,i])},[r,i]);var b=s.useCallback(function(){h&&h(),p.logPopupMetric([r,u.CLICK,i])},[h,r,i]),_=s.default.useCallback(function(e){e.preventDefault()},[]),y="link"===o?"a":"button";return s.default.createElement(y,{href:a,onClick:b,className:l.default(g.default.item,m.default.item,t),onMouseDown:_},s.default.createElement(d.Text,{className:g.default.caption,maxLines:3,typography:"body-short-m",overflow:"ellipsis"},n),v&&s.default.createElement(f.Badge,{className:m.default.badge,view:"promo",outlineColor:"transparent",content:c.default("common-react/tag-new")}))}},function(e,t){e.exports={root:"MailSettings__root--3I8ZP",container:"MailSettings__container--6wZ0t",main:"MailSettings__main--1MN5D",themesSection:"MailSettings__themesSection--Rqr4s",divider:"MailSettings__divider--3433q",showAllThemes:"MailSettings__showAllThemes--2JGl1",themesSectionHeader:"MailSettings__themesSectionHeader--3orgO",scrollRoot:"MailSettings__scrollRoot--1ZFpd",scrollContainer:"MailSettings__scrollContainer--156l7"}},,,,,function(e,t,n){"use strict";function r(e){var t=ns.Model.get("folders").getFolderById(e);return t?t.symbol||"user":null}t.c=r,t.b=function(e){var t={};if(Daria.isPriorityTab())t.container_kind="tab",t.container_id=t.container_type="priority";else if(Daria.isAttachmentsTab())t.container_kind="tab",t.container_id="attachments",t.container_type="attachments";else if(Daria.isSearchPage())t.container_kind="search",t.container_id="",t.container_type="";else if(Daria.areFoldersTabsEnabled()&&e.isInTab()){var n=e.getTabId();t.container_kind="tab",t.container_id=n,t.container_type=n}else{var i=e.getFolderId();t.container_kind="folder",t.container_id=i,t.container_type=r(i)}return t},t.a=function(e){return Daria.Config.yandexuid+(e||"")+Math.random().toString(16).slice(2)}},,,,,,,function(e,t){e.exports={root:"ReplyLaterMenu__root--1nF1r",item:"ReplyLaterMenu__item--1_KCL",unremind:"ReplyLaterMenu__unremind--OisZQ",unremindLabel:"ReplyLaterMenu__unremindLabel--2oYqi",separator:"ReplyLaterMenu__separator--pN3OJ"}},,,,,,,,,,,,function(e,t,n){"use strict";var r,i=1e3;function o(){return r&&window.clearTimeout(r),ns.page.block.clear(),!0}t.a=function(){return new Promise(function(e){o(),r=window.setTimeout(e,i),ns.page.block.add(o)})}},,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r,i,o=n(341),a=n(390),s=n(553);n.n(s);function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(i=g((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(u(e=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?u(e):t}(this,c(t).call(this))),"data",i,u(e)),e._addModelSubscription("account-information",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.data=t},onDestroyed:function(){e.data={}}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,a["default"]),f(t,[{key:"uid",get:function(){return this.data.uid}},{key:"isB2BUser",get:function(){return this.data.isB2BUser}},{key:"domainAlias",get:function(){return this.data.aliases&&this.data.aliases[7]}},{key:"isAdmin",get:function(){return this.data.isAdmin}}]),f(t,[{key:"isDomainAlias",value:function(e){return Object(s.areEmailsEqual)(e,this.domainAlias)}}]),t}()).prototype,"data",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g(r.prototype,"uid",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"uid"),r.prototype),g(r.prototype,"isB2BUser",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isB2BUser"),r.prototype),g(r.prototype,"domainAlias",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"domainAlias"),r.prototype),g(r.prototype,"isAdmin",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAdmin"),r.prototype),r)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cacheById={},this.cacheByEmail={}}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"readContact",value:function(e){return this.cacheById[e]}},{key:"writeContact",value:function(e){e&&(this.cacheById[e.id]=e,this.cacheByEmail[e.email]=e)}},{key:"findContactByEmail",value:function(e){return this.cacheByEmail[e]}},{key:"deleteContact",value:function(e){var t=this.readContact(e);t&&(delete this.cacheById[t.id],delete this.cacheByEmail[t.email])}},{key:"deleteContactByEmail",value:function(e){var t=this.findContactByEmail(e);t&&delete this.cacheByEmail[t.email]}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,i,o=n(341),a=n(390);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g=(i=p((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(c(e=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}(this,l(t).call(this))),"data",i,c(e)),e.LS_ITEM_NAME="newLettersInMA",e._addModelSubscription("head-user-state"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["default"]),d(t,[{key:"hasNewLettersInMA",get:function(){return this.data.newLettersInMA}}]),d(t,[{key:"setNewLettersInMA",value:function(e){ns.Model.get("head-user-state").setNewLettersInMA(e)}}]),t}()).prototype,"data",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(r.prototype,"hasNewLettersInMA",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasNewLettersInMA"),r.prototype),p(r.prototype,"setNewLettersInMA",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"setNewLettersInMA"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(842);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,i,o=n(341);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=(i=s((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"open",i,this)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"toggle",value:function(e){this.open="boolean"==typeof e?e:!this.open}}]),e}()).prototype,"open",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"toggle",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"toggle"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r,i,o=n(341);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var l=(i=s((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"open",i,this)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"hide",value:function(){this.open=!1}},{key:"show",value:function(){this.open=!0}}]),e}()).prototype,"open",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"hide",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"hide"),r.prototype),s(r.prototype,"show",[o.action],Object.getOwnPropertyDescriptor(r.prototype,"show"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,i,o,a,s,l,c=n(136),u=(n.n(c),n(341)),d=n(390);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=(i=_((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(h(e=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?h(e):t}(this,m(t).call(this))),"data",i,h(e)),b(h(e),"userCountersHash",o,h(e)),b(h(e),"_onXivaUpdate",a,h(e)),b(h(e),"_setNewCountById",s,h(e)),b(h(e),"isDropdownOpen",l,h(e)),e._addModelSubscription("user-dropdown-data"),e._requestDataPromise=e._requestModelData("user-dropdown-data",{}),e._requestDataPromise.then(function(t){e.data=t}),ns.events.on("xiva.mail.multi.insert",e._onXivaUpdate),ns.events.on("xiva.mail.multi.update",e._onXivaUpdate),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,d["default"]),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"_getUserAccounts",value:function(){return this.data.accounts}},{key:"getUserAccountsCountersHash",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isUserCountersHashEmpty()){e.next=4;break}return e.next=3,this._requestDataPromise;case 3:this.updateUserCountersHash();case 4:return e.abrupt("return",this.userCountersHash);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_isUserCountersHashEmpty",value:function(){return 0===Object.keys(this.userCountersHash).length}},{key:"updateUserCountersHash",value:function(){var e={};(this._getUserAccounts()||[]).forEach(Object(u.action)(function(t){e[t.uid]=t["fresh-count"]})),this.userCountersHash=e}},{key:"_getFreshCountByUid",value:function(e){var t=this.data.accounts,n=0;return t&&t.some(function(t){return Number(t.uid)===Number(e)&&(n=Number(t["fresh-count"]||0),!0)}),n}},{key:"getFreshForDefault",value:function(){return this._getFreshCountByUid(Daria.uid)}}]),t}()).prototype,"data",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=_(r.prototype,"userCountersHash",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=_(r.prototype,"_onXivaUpdate",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e._setNewCountById(n.uid,Number(n.message.fresh_count||0)),Daria.gotNewMail+=e.getFreshForDefault(),Daria.updateTitle()}}}),_(r.prototype,"updateUserCountersHash",[u.action],Object.getOwnPropertyDescriptor(r.prototype,"updateUserCountersHash"),r.prototype),s=_(r.prototype,"_setNewCountById",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.data;Object(c.get)(r,".accounts")&&r.accounts.length&&(r.accounts.forEach(Object(u.action)(function(i,o){Number(i.uid)===Number(t)&&(r.accounts[o]["fresh-count"]=n,e.updateUserCountersHash())})),e.data=r)}}}),l=_(r.prototype,"isDropdownOpen",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var i=function(){function e(t){var n=this,r=t.target,i=t.className,o=t.onAdd,a=void 0===o?function(){}:o,s=t.onRemove,l=void 0===s?function(){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mutationCallback=function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if("attributes"===s.type&&"class"===s.attributeName){var l=s.target.classList.contains(n.classToWatch);n.lastClassState!==l&&(n.lastClassState=l,l?n.classAddedCallback():n.classRemovedCallback())}}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},this.targetNode=r,this.classToWatch=i,this.classAddedCallback=a,this.classRemovedCallback=l,this.lastClassState=this.targetNode&&this.targetNode.classList.contains(this.classToWatch),window.MutationObserver&&this.targetNode&&(this.observer=new MutationObserver(this._mutationCallback),this.observer.observe(this.targetNode,{attributes:!0}))}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e}()},function(e,t,n){"use strict";var r=n(135),i=n.n(r),o=n(519),a=n.n(o);t.a=i.a.createContext({lang:"ru",t:a.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2005),t)},function(e,t,n){"use strict";var r,i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportStore=t.AuthError=void 0;var l,c=n(136),u=s(n(414)),d=n(2006),f=n(447),p=n(1245),g=s(n(625)),m=function(e){function t(n,r){void 0===r&&(r="Not authorized");var i=e.call(this,r)||this;return i.reason=n,i.name="AuthError",i.constructor=t,i}return i(t,e),t}(Error);t.AuthError=m,function(e){e.Phone="phone",e.Password="password"}(l||(l={}));var h=((r={})[l.Password]={modelName:"is-user-recently-entered-password",passportConfirmUrl:f.passportVerifyPasswordUrl},r[l.Phone]={modelName:"is-user-recently-confirmed-phone",passportConfirmUrl:f.passportPhoneConfirmUrl},r),v=function(){function e(e){this.userPhonesStore=e,this.confirmExpireTimeMap=new Map}return e.prototype.canSkipCheckAuth=function(e){return o(this,void 0,Promise,function(){var t;return a(this,function(n){switch(n.label){case 0:return(t=this.confirmExpireTimeMap.get(e))||g.default.isFirefox()?[3,2]:[4,this.checkRecentAuth(e)];case 1:return[2,n.sent()];case 2:return[2,Boolean(t&&Date.now()<t)]}})})},e.prototype.checkRecentAuth=function(e){return o(this,void 0,Promise,function(){var t,n,r,i,o;return a(this,function(a){switch(a.label){case 0:return t=h[e].modelName,[4,u.default.forcedRequest(t)];case 1:return n=a.sent(),r=n.check,i=n.remainTime,r&&i&&(o=Date.now()+1e3*(i-60),this.confirmExpireTimeMap.set(e,o)),[2,r]}})})},e.prototype.checkAuthConfirmed=function(e){return o(this,void 0,Promise,function(){var t,n,r;return a(this,function(i){switch(i.label){case 0:return t=this.userPhonesStore.hasSecurePhone||e?l.Phone:l.Password,[4,this.canSkipCheckAuth(t)];case 1:return i.sent()?[2]:(n=h[t].passportConfirmUrl,[4,p.PassportChildWindow.create({url:n}).show()]);case 2:if((r=i.sent())!==p.CloseReason.SUCCESS)throw new m(r);return[4,this.checkRecentAuth(t)];case 3:if(!i.sent())throw new m(p.CloseReason.CANCEL);return[2]}})})},e.instance=c.memoize(function(){return new e(d.UserPhonesStore.instance())}),e}();t.PassportStore=v},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r,i=n(135),o=n.n(i),a=n(503),s=n(760);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(){return n.e(32).then(n.bind(null,1279)).catch(function(){return n.e(32).then(n.bind(null,1279))})},h=g("div",{},void 0,g(a.a,{size:"m"})),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.Component),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"_renderPlaceholder",value:function(){return h}},{key:"render",value:function(){return o.a.createElement(s.a,l({},this.props,{loader:m,renderPlaceholder:this._renderPlaceholder}))}}]),t}();v.displayName="DatePicker"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2200);n.d(t,"a",function(){return r.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return Object(r.getLabelColors)(e.color)};var r=n(789);n.n(r)},,function(e,t,n){"use strict";var r=n(405);n.d(t,"a",function(){return r.a})},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var r=n(2727);Object.defineProperty(t,"SmartScroll",{enumerable:!0,get:function(){return r.SmartScroll}})},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f});var r=n(136),i=(n.n(r),n(343)),o=n.n(i);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="DD.MM.YYYY",c=/[hdmy]+/i,u={minute:/m+/,hour:/H+/,day:/D+/,month:/M+/,year:/Y+/};var d={minute:{minValue:0,maxValue:59,formatLength:2,getNewValue:function(e,t){return e.minute(t)}},hour:{minValue:0,maxValue:23,formatLength:2,getNewValue:function(e,t){return e.hour(t)}},day:{minValue:1,maxValue:31,formatLength:2,getNewValue:function(e,t){return e.date(t)}},month:{minValue:1,maxValue:12,formatLength:2,getNewValue:function(e,t){return e.month(t-1)}},year:{minValue:1970,maxValue:2220,formatLength:4,getNewValue:function(e,t){return e.year(t)}}},f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.date=t?o()(t):o()(),this.separator=".",this.dateFormat=n||l,this.formatLimitValues=Object(r.cloneDeep)(d),this.formatSymbolsOrder=new Map,this.init()}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"parseDateParts",value:function(e){return e.split(this.separator)}},{key:"areDatePartsValid",value:function(e){return e.every(function(e){return!isNaN(e)})}},{key:"tryParseDate",value:function(e,t){var n=this,r=o()(t),i=!1,a="",s=e.map(function(t,o){var s=n.formatSymbolsOrder.get(o),l=n.formatLimitValues[s].formatLength;if(t.length>=l){e.length-1===o&&(i=!0,a=t.slice(l),t=t.slice(0,l));var c=n.getValidDateValueStr(n.formatLimitValues[s],t);return n.formatLimitValues[s].getNewValue(r,c),c}return t});return i&&e.length<this.formatSymbolsOrder.size&&s.push(a),{newDate:r,newInputString:s.join(this.separator).slice(0,this.dateFormat.length)}}},{key:"getTimeItemsWithThirtyMinutesStep",value:function(e,t){for(var n=d.hour,r=[],i=n.minValue;i<=n.maxValue;i++){var a=o()(this.date).set({hour:i,minute:0}),s=o()(this.date).set({hour:i,minute:30}),l=a>t||a<e,c=s>t||s<e;r.push({date:a,timeStr:a.format(this.dateFormat),isDisable:l},{date:s,timeStr:s.format(this.dateFormat),isDisable:c})}return r}},{key:"getValidDateValueStr",value:function(e,t){var n,r=e.minValue,i=e.maxValue,o=e.formatLength,a=Number(t);return a=a<r?r:a>i?i:a,function(e,t){for(var n="";t>0;)n+=e,t--;return n}("0",o-(n=String(a)).length)+n}},{key:"initDateFormatSeparator",value:function(){var e=a(this.dateFormat.split(c).filter(function(e){return e}),1)[0];this.separator=void 0===e?".":e}},{key:"initDateFormat",value:function(){var e=this.dateFormat.split(this.separator);this.dateFormat=e.every(function(e){return c.test(e)})?this.dateFormat:l}},{key:"initFormatLimitValues",value:function(){var e=this,t=this.dateFormat.split(this.separator);this.formatSymbolsOrder.clear(),t.forEach(function(t,n){Object.keys(e.formatLimitValues).forEach(function(r){u[r].test(t)&&(e.formatSymbolsOrder.set(n,r),e.formatLimitValues[r].formatLength=t.length)})})}},{key:"init",value:function(){this.initDateFormatSeparator(),this.initDateFormat(),this.initFormatLimitValues()}}]),e}()},,,,,,,,,,,,,,function(e,t,n){e.exports={priorityTypes:{virus:n(2865)},comboKeys:{"general+none":n(2866)},extensions:{"7z":n(2867),ai:n(2868),aud:n(421),asf:n(443),avi:n(443),bmp:n(422),cab:n(595),cdr:n(2869),css:n(2870),csv:n(596),cur:n(422),djvu:n(2871),dll:n(2872),dng:n(422),doc:n(805),docx:n(805),dot:n(805),dotx:n(805),eml:n(1503),epub:n(2873),exe:n(1504),fb2:n(2874),flac:n(421),flv:n(443),gif:n(422),gz:n(595),gzip:n(595),htm:n(1505),html:n(1505),ico:n(422),iff:n(421),indd:n(2875),ini:n(2876),jpg:n(422),jpeg:n(422),js:n(2877),key:n(597),m3u:n(421),m3u8:n(421),m4a:n(421),m4r:n(421),m4b:n(421),mkv:n(443),mng:n(422),mov:n(443),mp3:n(421),mp4:n(443),mpg:n(443),mpeg:n(443),odp:n(2878),ods:n(2879),odt:n(2880),ogg:n(421),pcx:n(422),pdf:n(2881),pls:n(421),png:n(422),pps:n(597),ppsm:n(1114),ppsx:n(597),ppt:n(1114),pptx:n(1114),psd:n(2882),rar:n(2883),rtf:n(2884),sketch:n(2885),srt:n(597),svg:n(2886),swf:n(1506),tar:n(595),tif:n(422),tiff:n(422),txt:n(2887),vcf:n(2888),vob:n(443),wav:n(421),wma:n(421),wmv:n(443),xcf:n(422),xhtml:n(2889),xls:n(596),xlsb:n(596),xltm:n(596),xlsx:n(596),xltx:n(596),xml:n(2890),xps:n(597),zip:n(1507),zipx:n(1507)},types:{archive:n(595),audio:n(421),book:n(2891),compressed:n(595),executable:n(1504),flash:n(1506),font:n(2892),image:n(422),mail:n(1503),text:n(597),video:n(443)},default:n(2893),folder:n(2894)}},function(e,t,n){e.exports=n.p+"_/cb8b9741d24077a129aaa910022a6cf9-attach_icon_mail.svg"},function(e,t,n){e.exports=n.p+"_/087993e09b5de5a63916e2283cdae636-attach_icon_exe.svg"},function(e,t,n){e.exports=n.p+"_/c13cdef7f16129d2f06fe53161e898d3-attach_icon_html.svg"},function(e,t,n){e.exports=n.p+"_/1461a37f3aeea10f2db8bf17717930db-attach_icon_flash.svg"},function(e,t,n){e.exports=n.p+"_/b09d4ef5dbb7774ffcc5879d17b020bd-attach_icon_zip.svg"},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(405),i=n(709),o=n(370);t.a=function(e,t){var n=Daria.isReactiveCompose()?o.b:o.a,a=r.a.getActiveScenario(n);a&&r.a.finishScenario(n,i.a,Daria.isReactiveCompose()&&a.qualityMetrics?a.qualityMetrics():void 0),r.a.startScenario(n,e,t)}},,,,function(e,t,n){"use strict";t.a=function(){return{foldersStore:Object(r.getFoldersStore)(),labelsStore:Object(r.getLabelsStore)(),routerStore:Object(r.getRouterStore)(),searchStore:Object(r.getSearchStore)(),settingsStore:Object(r.getSettingsStore)()}};var r=n(382)},function(e,t,n){"use strict";var r=n(3233);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionCountersStore=void 0;var a=n(136),s=o(n(390)),l=o(n(414)),c=n(491),u=n(341),d=n(382),f="get-subscription-counters/v1",p=function(e){function t(t){var n=e.call(this)||this;return n.settingsStore=t,n.lastUpdate=Date.now(),n.setNewsletterData=function(e){n.counters=e},n._addModelSubscription(f,{optinEnabled:n.optinEnabled},{onChanged:n.setNewsletterData}),c.addNsEventListener("xiva.mail.update",function(){return n.update()}),c.addNsEventListener("xiva.mail.insert",function(){return n.update()}),c.addNsEventListener("xiva.mail.move",function(){return n.update()}),c.addNsEventListener("fake-loader",function(){return n.forceUpdate()}),n}return r(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){return this.requestDataPromise||(this.requestDataPromise=this._requestModelData(f,this.getRequestParams()).then(this.setNewsletterData)),this.requestDataPromise},t.prototype.clearData=function(){delete this.requestDataPromise},t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},t.prototype.forceUpdate=function(){l.default.forcedRequest(f,this.getRequestParams())},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled}},t.instance=a.memoize(function(){return new t(d.getSettingsStore())}),i([u.observable],t.prototype,"counters",void 0),i([u.computed],t.prototype,"optinEnabled",null),i([u.action],t.prototype,"setNewsletterData",void 0),t}(s.default);t.SubscriptionCountersStore=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PendingSubscriptionsStore=void 0;var a=n(136),s=o(n(390)),l=o(n(414)),c=n(341),u=n(382),d=n(491),f="get-pending-subscriptions",p=function(e){function t(t){var n=e.call(this)||this;return n.settingsStore=t,n.lastUpdate=Date.now(),n.setSubscriptionsData=function(e){n.subscriptions=e},n._addModelSubscription(f,{optinEnabled:n.optinEnabled,withEmailsInfo:!0},{onChanged:n.setSubscriptionsData}),d.addNsEventListener("xiva.mail.update",function(){return n.update()}),d.addNsEventListener("xiva.mail.insert",function(){return n.update()}),d.addNsEventListener("xiva.mail.move",function(){return n.update()}),d.addNsEventListener("fake-loader",function(){return n.forceUpdate()}),n}return r(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optinReviewedAt",{get:function(){return Math.max(this.settingsStore.optInSubscriptionsReviewedAt)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},t.prototype.waitForData=function(){var e=this.getRequestParams();return e.optinEnabled?(this.requestDataPromise||(this.requestDataPromise=this._requestModelData(f,e).then(this.setSubscriptionsData)),this.requestDataPromise):Promise.resolve()},t.prototype.forceUpdate=function(){var e=this.getRequestParams();e.optinEnabled&&l.default.forcedRequest(f,e)},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled,withEmailsInfo:!0}},t.instance=a.memoize(function(){return new t(u.getSettingsStore())}),i([c.observable],t.prototype,"subscriptions",void 0),i([c.computed],t.prototype,"optinEnabled",null),i([c.computed],t.prototype,"optinReviewedAt",null),i([c.action],t.prototype,"setSubscriptionsData",void 0),t}(s.default);t.PendingSubscriptionsStore=p},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigurePermission=function(){var e=!0,t=Object(r.getMailboxUid)();if(t&&ns.Model.isDefined("delegated-resources-list")){var n=ns.Model.get("delegated-resources-list"),i=e=n.data.resources.find(function(e){var n=e.resourceId;return n===t});i&&(e=i.permissions.configure)}return e};var r=n(346)},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var r=n(3484);Object.defineProperty(t,"ThemesWithScope",{enumerable:!0,get:function(){return r.ThemesWithScope}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.SeasonsThemeName=t.ThemeScopeSeasons=t.WeatherThemeName=t.ThemeScopeWeather=t.ColorfulThemeName=t.ThemeScopeColorful=t.ThemeScopeContainer=void 0;var r=n(3485);Object.defineProperty(t,"ThemeScopeContainer",{enumerable:!0,get:function(){return r.ThemeScopeContainer}});var i=n(3488);Object.defineProperty(t,"ThemeScopeColorful",{enumerable:!0,get:function(){return i.ThemeScopeColorful}}),Object.defineProperty(t,"ColorfulThemeName",{enumerable:!0,get:function(){return i.ColorfulThemeName}});var o=n(3491);Object.defineProperty(t,"ThemeScopeWeather",{enumerable:!0,get:function(){return o.ThemeScopeWeather}}),Object.defineProperty(t,"WeatherThemeName",{enumerable:!0,get:function(){return o.WeatherThemeName}});var a=n(3493);Object.defineProperty(t,"ThemeScopeSeasons",{enumerable:!0,get:function(){return a.ThemeScopeSeasons}}),Object.defineProperty(t,"SeasonsThemeName",{enumerable:!0,get:function(){return a.SeasonsThemeName}});var s=n(3498);Object.defineProperty(t,"ThemeScopeDark",{enumerable:!0,get:function(){return s.ThemeScopeDark}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var r=n(3494);Object.defineProperty(t,"ThemeScopeItem",{enumerable:!0,get:function(){return r.ThemeScopeItem}})},function(e,t,n){e.exports={bears:n(3525),"bears-alt":n(3526),besiktas:n(3527),colorful:n(3528),"colorful-alt":n(3529),cosmos:n(3530),dandelions:n(3531),fenerbahce:n(3532),foxes:n(3533),galatasaray:n(3534),"galatasaray-net":n(3535),lamp:n(3536),newspaper:n(3537),newyear:n(3538),orangetree:n(3539),owls:n(3540),plasticine:n(3541),relax:n(3542),sea:n(3543),"sea-alt":n(3544),"seasons-winter":n(3545),"seasons-spring":n(3546),"seasons-summer":n(3547),"seasons-autumn":n(3548),weather:n(3549),zverushki:n(3550)}},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v});var r,i=n(135),o=n.n(i),a=n(339),s=n.n(a),l=n(3557),c=n(3600),u=n(342),d=n(382),f=n(512),p=n(1139);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,n=m(e,["className"]),i=Object(d.getSearchStore)(),a={foldersStore:Object(d.getFoldersStore)(),labelsStore:Object(d.getLabelsStore)(),routerStore:Object(d.getRouterStore)(),searchStore:i,settingsStore:Object(d.getSettingsStore)(),routerService:Object(f.getRouterService)(),searchService:Object(f.getSearchService)(),searchLogService:Object(f.getSearchLogService)(),settingsService:Object(f.getSettingsService)(),queryLanguageService:Object(f.getQueryLanguageService)(),shortcuts:Object(p.getShortcuts)(),scenarioManager:f.scenarioManager};return o.a.createElement(u.Provider,a,function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:s()("mail-Search",t),role:"search"},void 0,o.a.createElement(l.a,g({},n,{ref:function(e){Daria.React._searchRef=e}}))))},v=function(e){var t={foldersStore:Object(d.getFoldersStore)(),labelsStore:Object(d.getLabelsStore)(),routerStore:Object(d.getRouterStore)(),searchStore:Object(d.getSearchStore)(),settingsStore:Object(d.getSettingsStore)(),avatarsService:Object(f.getAvatarsService)(),contactsSuggestService:Object(f.getContactsSuggestService)(),routerService:Object(f.getRouterService)(),searchService:Object(f.getSearchService)(),searchLogService:Object(f.getSearchLogService)(),settingsService:Object(f.getSettingsService)(),queryLanguageService:Object(f.getQueryLanguageService)(),shortcuts:Object(p.getShortcuts)(),scenarioManager:f.scenarioManager};return o.a.createElement(u.Provider,t,o.a.createElement(c.a,e))};window.ReactClientBridge&&(window.ReactClientBridge.getSearchContainerPromise.resolve(h),window.ReactClientBridge.getAdvancedSearchContainerPromise.resolve(v))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendYandexHeaderLeftMetrika=c,t.sendYandexHeaderRightMetrika=u,t.sendSettingsMetrika=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.apply(void 0,[i.HEADER_METRIKA_SETTINGS,i.HEADER_METRIKA_SETTINGS_OPEN].concat(t))},t.sendExtraMetrika=d,t.sendUserPopupClickMetrika=f,t.sendHeaderServicesPopupMetrika=p,t.sendShowOfMainServices=g,t.sendCompactServicesMetrika=m,t.sendShowOfCompactServices=function(e){m(e.reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,l({},i.HEADER_METRIKA_EXTRA_NAMES[t]||t,i.SHOW))},{}))},t.sendSubscriptionButtonMetrics=h,t.countMetrikaFn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];switch(e){case"user":case"user-menu":f.apply(void 0,n);break;case"list of services":Object(r.isObject)(n[0])?g(n[0]):d(n[0],i.CLICK);break;case"upgrade_pro":h.apply(void 0,n);break;case"yandex":c(i.HEADER_METRIKA_LOGO,i.HEADER_METRIKA_LOGO_BASE);break;case"360":c(i.HEADER_METRIKA_LOGO,i.HEADER_METRIKA_LOGO_360);break;case"free-badge":case"free-tooltip":c.apply(void 0,[i.HEADER_METRIKA_LOGO,e].concat(n));break;case"more":p("open"===n[0]?[]:n)}};var r=n(136),i=(n.n(r),n(398)),o=n(350);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object(o.logMetric)([i.YANDEX_HEADER_PREFIX,i.HEADER_METRIKA_LEFT].concat(t))}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object(o.logMetric)([i.YANDEX_HEADER_PREFIX,i.HEADER_METRIKA_RIGHT].concat(t))}function d(e,t){Object(o.logMetric)([i.YANDEX_HEADER_PREFIX,i.HEADER_METRIKA_RIGHT,i.HEADER_METRIKA_SERVICES,Object(o.getYandexDomain)(),i.HEADER_METRIKA_EXTRA_NAMES[e]||e,t])}function f(e){var t=Object(o.getFreshCount)(),n=t?i.HEADER_METRIKA_USER_HAS_MESSAGES:i.HEADER_METRIKA_USER_NO_MESSAGES;if(e.id)i.HEADER_METRIKA_USER_MENU[e.id]?u(i.HEADER_METRIKA_USER_POPUP,n,i.HEADER_METRIKA_USER_MENU[e.id],i.CLICK):"switch-user"===e.id&&u(i.HEADER_METRIKA_USER_POPUP,n,i.HEADER_METRIKA_USER_MENU_SWITCH_USER);else{u(i.HEADER_METRIKA_USER_POPUP,i.CLICK),t&&u(i.HEADER_METRIKA_USER_POPUP,i.HEADER_METRIKA_USER_HAS_MESSAGES,i.HEADER_METRIKA_USER_MESSAGES_COUNT,t+i.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER);var r=function(){var e=document.querySelectorAll(".legouser__popup .menu__list-item a, .legouser__popup .legouser__menu-footer a");return Array.prototype.slice.call(e).map(function(e){return{dataString:e.getAttribute("data-count"),hasChildren:e.hasChildNodes()}}).filter(function(e){return e.dataString&&e.hasChildren}).map(function(e){return JSON.parse(e.dataString).id})}().map(function(e){return l({},i.HEADER_METRIKA_USER_MENU[e],i.SHOW)});u(i.HEADER_METRIKA_USER_POPUP,l({},n,r))}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(["Hamburger services menu","Open hamburger menu popup"].concat(s(e)))}function g(e){var t=Object(r.mapValues)(e,function(){return i.SHOW});u(i.HEADER_METRIKA_SERVICES,l({},Object(o.getYandexDomain)(),t))}function m(e){c(i.HEADER_METRIKA_SERVICES,Object(o.getYandexDomain)(),l({},i.HEADER_METRIKA_SIMPLE_SERVICES,e))}function h(e){"show"===e?u(i.BUY_PRO_BUTTON,i.SHOW):"click"===e&&u(i.BUY_PRO_BUTTON,i.CLICK)}},,,,,,,,,,,,function(e,t,n){"use strict";t.b=o;var r=n(136),i=(n.n(r),n(814));function o(e){var t=ns.Model.get("compose-predefined-data"),n=t.extractDataFromParams(e);return t.setData({}),n}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)().then(function(){return Daria.React.Compose.create(e,o(e),Object(r.isEqual)(e,{}))})}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n["message-id"],o=t.getIds(e,n);i&&(o.ids=-1!==o.ids.indexOf(i)?[i]:[]);return[].concat(r(o.ids),r(o.tids)).map(function(e){return ns.Model.get("message",{ids:e})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[13]},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(136),i=n.n(r),o=n(8);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.name,r=t.type;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=i.a.uniqueId(o.a.Config.connection_id+"_"),this.name=n,this.type=r}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"log",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({session_id:this.id,type:this.type,client_timestamp:Date.now()},e);Daria.debug.log("".concat(this.name,": "),t),Daria.monitoring.workflow.userEvents(t)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){["folders","labels","messages","message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)});var t=[{id:"do-folder-clear",params:e},{id:"folders",params:{mailboxUid:e.mailboxUid}},{id:"labels",params:{mailboxUid:e.mailboxUid}}];return"messages"===ns.page.current.page&&t.push({id:"messages",params:ns.page.current.params}),ns.forcedRequest(t)}},function(e,t){Object.assign(t,{request:function(){var e=this,t=this.params;t.model=this.id,ns.request.addRequestParams(t);var n="".concat(Daria.api.journal,"?_m=").concat(this.id);return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(n,JSON.stringify(t))?Promise.resolve():ns.http(n,t).then(function(t){e.setData(t)})}})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(770),i={type:"search-error-messages",severity:r.a},o={type:"search-error-message-body",severity:r.b}},function(e,t,n){"use strict";t.b=function(e){if(Daria.Config.NO_SETTINGS)return;var t=i.a.SETTINGS_FALLBACK.map(function(t){return t.name in e?e[t.name]:""}),n=[i.a.COOKIE_SIGN].concat(t).join(":"),r=new Date;r.setFullYear(r.getFullYear()+10),Daria.setCookie(i.a.COOKIE_NAME,n,{expires:r,path:"/",secure:!0})},t.a=function(e){return i.a.SETTINGS_FALLBACK.some(function(t){return t.name===e})};var r=n(4184),i=n.n(r)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentsMetrika=t.EventSource=void 0;var i,o=n(820);!function(e){e.MESSAGE="in message",e.MESSAGES_LIST="in messages list",e.MESSAGES_LIST_POPUP="in popup on messages list",e.TAB_WIDGET='in tab "Attachments"',e.MESSAGE_RIGHT_COLUMN="in right column",e.COMPOSE="in compose",e.DOWNLOAD_MODAL="in download popup"}(i=t.EventSource||(t.EventSource={}));var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SOURCE=i,t.PREFIX="Attachments",t}return r(t,e),t.prototype.logShowPreview=function(e){this.logMetric(this.PREFIX,'click "show"/preview',e)},t.prototype.logSingleAttachmentDownload=function(e){this.logMetric(this.PREFIX,'click "download one"',e)},t.prototype.logAllAttachmentsDownload=function(e){this.logMetric(this.PREFIX,'click "download all"',e)},t.prototype.logAttachmentsNumberClick=function(e){this.logMetric(this.PREFIX,"click on attachments count",e)},t.prototype.logSaveToDisk=function(e){this.logMetric(this.PREFIX,'click on "save to disc"',e)},t}(o.BaseMetrika);t.AttachmentsMetrika=a},function(e,t,n){"use strict";t.a=function(e){return function(t){if(!function(e){return Boolean(e.ctrlKey||e.metaKey)}(t))return t.preventDefault(),e.apply(this,arguments)}}},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unmountReplyLaterPopup=t.renderReplyLaterPopup=void 0;var o=i(n(139)),a=i(n(135)),s=n(4976),l=n(4992),c=n(350),u=n(737),d=i(n(375)),f=null,p=!1,g=null;t.renderReplyLaterPopup=function(e){f||(f=document.createElement("div"),document.body.appendChild(f)),g||(g=new l.ReplyLaterMetrika({logMetric:c.logMetric,logGroupedMetric:c.logGroupedMetric})),p=!p,o.default.render(a.default.createElement(d.default,{lang:c.getLocale()},a.default.createElement(u.MetrikaContext.Provider,{value:g},a.default.createElement(s.ReplyLaterPopup,r({},e,{visible:p,onClose:t.unmountReplyLaterPopup,enableFocusTrap:!0})))),f)};t.unmountReplyLaterPopup=function(){f&&(o.default.unmountComponentAtNode(f),document.body.removeChild(f),f=null),p=!1}},,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withStores=void 0;var a=o(n(135));t.withStores=function(e){return function(t){return function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return r(o,n),o.prototype.render=function(){var n=Object.keys(e).reduce(function(t,n){var r;return i(i({},t),((r={})[n]=e[n](),r))},{});return a.default.createElement(t,i({},this.props,n))},o}(a.default.PureComponent)}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Avatar=void 0;var l=o(n(135)),c=s(n(339)),u=s(n(5059));t.Avatar=function(e){var t=e.className,n=e.avatar,r=e.monogram,i=e.size,o=a(l.useMemo(function(){var e={},t=null;return n?(e.background="url("+n.url+")",e.backgroundSize="cover"):r&&(e.background=r.color,t=r.letters),[e,t]},[n,r]),2),s=o[0],d=o[1];return n||r?l.default.createElement("div",{style:s,className:c.default(t,u.default.root,u.default[i])},d):null}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductsStore=void 0;var a=n(136),s=o(n(390)),l=n(341),c=n(5291),u=n(599),d=n(5292),f=n(626),p=n(350),g=function(e){function t(){var t=e.call(this)||this;return t.items=[],t.availableUnitDate="",t.trialPeriodsCount=0,t.trialPeriod="",t.promoId="",t.promoPayload=null,t.currentSubscription=null,t.setProductsData=function(e){var n,r,i,o,a,s,l,c,u;if(t.items=null!==(n=null===e||void 0===e?void 0:e.items)&&void 0!==n?n:[],null===e||void 0===e?void 0:e.active_promo){t.availableUnitDate=null!==(i=null===(r=e.active_promo)||void 0===r?void 0:r.active_until_date)&&void 0!==i?i:"",t.promoId=null!==(a=null===(o=e.active_promo)||void 0===o?void 0:o.key)&&void 0!==a?a:"";var d=t.items.find(function(e){return e.best_offer}),p=null===d||void 0===d?void 0:d.trial;t.trialPeriodsCount=null!==(s=null===p||void 0===p?void 0:p.definition.periods_count)&&void 0!==s?s:0,t.trialPeriod=null!==(l=null===p||void 0===p?void 0:p.definition.period)&&void 0!==l?l:"";try{t.promoPayload=(null===(c=e.active_promo)||void 0===c?void 0:c.payload)&&JSON.parse(null===(u=e.active_promo)||void 0===u?void 0:u.payload)}catch(e){f.logError({errorType:"invalid_active_promo_payload"},null===e||void 0===e?void 0:e.message)}}t.currentSubscription=(null===e||void 0===e?void 0:e.current_subscription)||null},t._addModelSubscription("products",{},{onChanged:t.setProductsData}),t}return r(t,e),t.prototype.waitForData=function(){return this._requestDataPromise||(this._requestDataPromise=this._requestModelData("products",{}).then(this.setProductsData)),this._requestDataPromise},t.prototype.doesMatchInterval=function(e){var t,n,r,i,o=new Date(this.availableUnitDate).getTime(),a=1e3*((null===(n=null===(t=this.promoPayload)||void 0===t?void 0:t[e])||void 0===n?void 0:n.startIntervalToShow)||0),s=1e3*((null===(i=null===(r=this.promoPayload)||void 0===r?void 0:r[e])||void 0===i?void 0:i.endIntervalToShow)||0);if(!o||!a)return!1;var l=p.promoNow();return!(l<o-a)&&l<=o-s},t.prototype.getBestProductForFeature=function(e){return this.items.filter(function(t){return t.features.some(function(t){return t.code===e})}).map(function(e){return e.prices.find(function(e){return e.period===c.PaymentPeriod.month})}).filter(u.isDefined).map(function(e){return{currency:e.currency,amount:e.amount,price_id:e.price_id}}).sort(function(e,t){return e.amount-t.amount})[0]},t.prototype.getPriceString=function(e){return e.amount+" "+d.CurrencySymbol[e.currency]},t.prototype.getPricesOfferWithTemporaryDiscount=function(){if(this.items&&this.items.length){var e=this.items.find(function(e){return e.best_offer});if(e){var t=e.prices.find(function(e){return e.period===c.PaymentPeriod.year}),n=e.prices.find(function(e){return e.period===c.PaymentPeriod.month});if(e.features.find(function(e){return e.code===c.ProductFeatureCode.DISK})&&((null===n||void 0===n?void 0:n.start_discount)||(null===t||void 0===t?void 0:t.start_discount)))return{priceYear:(null===t||void 0===t?void 0:t.start_discount)?t:void 0,priceMonth:(null===n||void 0===n?void 0:n.start_discount)?n:void 0}}}return null},t.instance=a.memoize(function(){return new t}),i([l.observable],t.prototype,"items",void 0),i([l.observable],t.prototype,"promoPayload",void 0),i([l.observable],t.prototype,"currentSubscription",void 0),i([l.action],t.prototype,"setProductsData",void 0),t}(s.default);t.ProductsStore=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){return Daria.memoizeClearCache(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(842);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(842);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,r["a"]),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(t,[{key:"name",get:function(){return this.data.name}}]),t}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(341),o=function(){function e(){this.visible=!1,this.showAllThemes=!1}return e.prototype.toggle=function(e){this.visible=e},e.prototype.toggleAllThemes=function(e){this.showAllThemes=e},r([i.observable],e.prototype,"visible",void 0),r([i.observable],e.prototype,"showAllThemes",void 0),r([i.action],e.prototype,"toggle",null),r([i.action],e.prototype,"toggleAllThemes",null),e}();t.default=o},function(e,t,n){"use strict";var r=n(8);t.a=function(){return[Date.now(),r.a.uid].join("")}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r,i,o,a,s,l,c,u,d=n(341),f=n(136),p=(n.n(f),n(391)),g=n(554);n.n(g);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=Object.freeze((b(u={},g.SearchQueryParams.SCOPE,""),b(u,g.SearchQueryParams.FID,""),b(u,g.SearchQueryParams.SERVICE_ID,""),b(u,g.SearchQueryParams.LID,""),b(u,g.SearchQueryParams.UNREAD,null),b(u,g.SearchQueryParams.ATTACHES,null),b(u,g.SearchQueryParams.HDR_FROM,null),b(u,g.SearchQueryParams.HDR_TO,null),b(u,g.SearchQueryParams.FROM,null),b(u,g.SearchQueryParams.TO,null),b(u,g.SearchQueryParams.DELETED,null),u)),w=Object.keys(S),O=(i=y((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"currentSearchText",i,this),_(this,"currentSuggestText",o,this),_(this,"currentShowText",a,this),_(this,"_advanced",s,this),_(this,"mailboxUid",l,this),_(this,"resetAdvanced",c,this),this.defaults=S}return function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(e,[{key:"getAdvanced",value:function(e){switch(e){case"attaches":return"yes"===this._advanced.attaches;case"from":case"to":return Object(p.getDateFromCompactFormat)(this._advanced[e]);default:return this._advanced[e]}}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(Object(d.action)(function(t){var n=t.name,r=t.value;switch(n){case"unread":case"attaches":e._advanced[n]=r?"yes":null;break;case"from":case"to":Object(f.isDate)(r)&&(r=Object(p.getDateInUnseparatedNumericFormat)(r)),e._advanced[n]=r;break;default:e._advanced[n]=r}}))}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"updateAdvancedParams",value:function(e,t){var n=Object(f.defaults)(e,Object(f.pick)(t,w),S);for(var r in n)this.setAdvanced(r,n[r]);this.mailboxUid=t.mailboxUid}},{key:"reset",value:function(){this.currentSearchText="",this.currentSuggestText="",w.forEach(this.resetAdvanced)}},{key:"getAutosearchParams",value:function(){return h({},this._advanced)}},{key:"setCurrentShowText",value:function(e){this.currentShowText=e}},{key:"isAdvancedDirty",get:function(){var e=this;return w.some(function(t){return("scope"!==t||"rpopinfo"!==e._advanced[t])&&e._advanced[t]!==S[t]})}},{key:"isDefaultSuggest",get:function(){return!this.currentSuggestText&&!this.isAdvancedDirty}},{key:"paramsForSearch",get:function(){return e._omitEmpty(h({request:this.currentSearchText},this._advanced))}},{key:"paramsForSuggest",get:function(){return e._omitEmpty(h({request:this.currentSuggestText,mailboxUid:this.mailboxUid},this._advanced))}},{key:"hasOnlyFolderParam",get:function(){var e=this;return w.every(function(t){return"scope"===t&&"rpopinfo"===e._advanced[t]||"fid"!==t===(e._advanced[t]===S[t])})}}],[{key:"_omitEmpty",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};for(var r in t)(e=t[r])&&"all"!==e&&(n[r]=e);return n}}]),e}()).prototype,"currentSearchText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=y(r.prototype,"currentSuggestText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y(r.prototype,"currentShowText",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y(r.prototype,"_advanced",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h({},S)}}),l=y(r.prototype,"mailboxUid",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y(r.prototype,"isAdvancedDirty",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAdvancedDirty"),r.prototype),y(r.prototype,"isDefaultSuggest",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"isDefaultSuggest"),r.prototype),y(r.prototype,"paramsForSearch",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"paramsForSearch"),r.prototype),y(r.prototype,"paramsForSuggest",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"paramsForSuggest"),r.prototype),y(r.prototype,"hasOnlyFolderParam",[d.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasOnlyFolderParam"),r.prototype),y(r.prototype,"setMultipleAdvanced",[d.action],Object.getOwnPropertyDescriptor(r.prototype,"setMultipleAdvanced"),r.prototype),y(r.prototype,"setAdvanced",[d.action],Object.getOwnPropertyDescriptor(r.prototype,"setAdvanced"),r.prototype),y(r.prototype,"updateAdvancedParams",[d.action],Object.getOwnPropertyDescriptor(r.prototype,"updateAdvancedParams"),r.prototype),y(r.prototype,"reset",[d.action],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),c=y(r.prototype,"resetAdvanced",[d.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setAdvanced(t,S[t])}}}),y(r.prototype,"setCurrentShowText",[d.action],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentShowText"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i,o=n(341),a=n(390);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(i=f((r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(u(e=function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?u(e):t}(this,c(t).call(this))),"modelData",i,u(e)),e._addModelSubscription("themes-selector",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.modelData=t},onDestroyed:function(){e.modelData=null}}),e.model=ns.Model.get("themes-selector"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,a["default"]),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"isOpened",get:function(){return this.modelData.opened}}]),t}()).prototype,"modelData",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(r.prototype,"isOpened",[o.computed],Object.getOwnPropertyDescriptor(r.prototype,"isOpened"),r.prototype),r)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabsStore=void 0;var a=n(136),s=o(n(390)),l=n(341),c=function(e){function t(){var t=e.call(this)||this;return t.tabs=[],t._addModelSubscription("tabs",{},{onChanged:function(e){var n;t.tabs=null!==(n=null===e||void 0===e?void 0:e.tabs)&&void 0!==n?n:[]}}),t}return r(t,e),t.prototype.getTabById=function(e){return this.tabs.find(function(t){return t.id===e})||null},t.instance=a.memoize(function(){return new t}),i([l.observable],t.prototype,"tabs",void 0),t}(s.default);t.TabsStore=c},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,i,o=n(341),a=n(1194);var s=(i=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}((r=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(this,"isToolbarFixed",i,this),this.watcher=new a.a({target:document.querySelector(".js-toolbar-wrap"),className:"is-fixed",onAdd:Object(o.action)(function(){return t.isToolbarFixed=!0}),onRemove:Object(o.action)(function(){return t.isToolbarFixed=!1})})}).prototype,"isToolbarFixed",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))}}),r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(){var e={};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svgicon-".concat(t);if(e[t])return e[t];var r=document.getElementById(n);if(r){var i=Array.prototype.slice.call(r.childNodes),o=new XMLSerializer,a=i.reduce(function(e,t){return e+o.serializeToString(t)},""),s=r.getAttribute("viewBox"),l=r.getAttribute("fill");return e[t]={id:n,viewBox:s,svgBody:a,fill:l},e[t]}return null}}()},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportChildWindow=t.CloseReason=void 0;var o,a=n(350),s=n(521),l=n(491);!function(e){e.SUCCESS="SUCCESS",e.CANCEL="CANCEL",e.BLOCKED="BLOCKED"}(o=t.CloseReason||(t.CloseReason={}));var c=function(){function e(e){var t=this;this.params=e,this.currentWindow=null,this.key=Symbol("VerifyPasswordChildWindow"),this.disposer=new s.Disposer,this.resolveFn=null,this.onResponse=function(e){var n=e.source;t.currentWindow&&n===t.currentWindow&&e.origin===window.location.origin&&e.data.authSuccess&&t.close(o.SUCCESS)}}return e.create=function(t){return new e(t)},e.getWindowOptions=function(){var e=window.screenX+(document.body.clientWidth-840)/2;return["resizable=yes","location=no","toolbar=no","scrollbars=yes","chrome=yes","width=840","height=680","top="+(window.screenY+(document.body.clientHeight-680)/2),"left="+e].join(",")},e.prototype.show=function(){return r(this,void 0,Promise,function(){var t,n,r,s,l=this;return i(this,function(i){return this.currentWindow&&this.close(o.CANCEL),t=window.location.origin+"/u2709/post-message-to-opener.html",n=this.params.url+"?retpath="+encodeURIComponent(t)+"&uid="+a.getUid(),r=e.getWindowOptions(),(s=window.open(n,"ya_verify_password_child_window",r))?(this.currentWindow=s,[2,new Promise(function(e){l.resolveFn=e,l.createSubscriptions(s)})]):[2,o.BLOCKED]})})},e.prototype.createSubscriptions=function(e){var t=this,n=setInterval(function(){e.closed&&t.close(o.CANCEL)},100);this.disposer.add(this.key,[function(){return clearInterval(n)}]);var r=function(){return t.close(o.CANCEL)};this.disposer.add(this.key,[s.addEventListener({element:window,eventName:"beforeunload",listener:r,isCapture:!1}),s.addEventListener({element:window,eventName:"message",listener:this.onResponse,isCapture:!1}),l.addNsEventListener("ns-page-before-load",r)])},e.prototype.close=function(e){var t;this.currentWindow&&!this.currentWindow.closed&&this.currentWindow.close(),null===(t=this.resolveFn)||void 0===t||t.call(this,e),this.clear()},e.prototype.clear=function(){this.disposer.disposeAll(),this.currentWindow=null,this.resolveFn=null},e}();t.PassportChildWindow=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPhonesStore=void 0;var a=n(1247),s=n(136),l=o(n(390)),c=n(341),u=function(e){function t(){var t=e.call(this)||this;return t.data={},t._addModelSubscription("userphones",{},{onChanged:function(e){t.data=e||{}}}),t}return r(t,e),Object.defineProperty(t.prototype,"phones",{get:function(){return this.data.phone||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNotEmpty",{get:function(){return this._isNotEmpty(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSecurePhone",{get:function(){return this.phones.some(function(e){return e.secure===a.PhoneStatus.ON})},enumerable:!1,configurable:!0}),t.instance=s.memoize(function(){return new t}),i([c.observable],t.prototype,"data",void 0),i([c.computed],t.prototype,"phones",null),i([c.computed],t.prototype,"isNotEmpty",null),t}(l.default);t.UserPhonesStore=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(2137).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(135),i=n.n(r),o=n(2172);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){return i.a.createElement(o.a,a({},e,{progress:!0}))};t.a=s,s.displayName="Spin",s.defaultProps={theme:"normal"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(135),i=n.n(r),o=n(338),a=n.n(o);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=c(this,(e=u(t)).call.apply(e,[this].concat(i)))).state={component:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loader().then(function(t){e.setState({component:t.default})})}},{key:"render",value:function(){return this.state.component?i.a.createElement(this.state.component,this.props):this.props.renderPlaceholder()}}]),t}();f.propTypes={loader:a.a.func.isRequired,renderPlaceholder:a.a.func},f.defaultProps={renderPlaceholder:function(){return null}}},function(e,t,n){var r={"./af":1280,"./af.js":1280,"./ar":1281,"./ar-dz":1282,"./ar-dz.js":1282,"./ar-kw":1283,"./ar-kw.js":1283,"./ar-ly":1284,"./ar-ly.js":1284,"./ar-ma":1285,"./ar-ma.js":1285,"./ar-sa":1286,"./ar-sa.js":1286,"./ar-tn":1287,"./ar-tn.js":1287,"./ar.js":1281,"./az":1288,"./az.js":1288,"./be":1289,"./be.js":1289,"./bg":1290,"./bg.js":1290,"./bn":1291,"./bn.js":1291,"./bo":1292,"./bo.js":1292,"./br":1293,"./br.js":1293,"./bs":1294,"./bs.js":1294,"./ca":1295,"./ca.js":1295,"./cs":1296,"./cs.js":1296,"./cv":1297,"./cv.js":1297,"./cy":1298,"./cy.js":1298,"./da":1299,"./da.js":1299,"./de":1300,"./de-at":1301,"./de-at.js":1301,"./de-ch":1302,"./de-ch.js":1302,"./de.js":1300,"./dv":1303,"./dv.js":1303,"./el":1304,"./el.js":1304,"./en-au":1305,"./en-au.js":1305,"./en-ca":1306,"./en-ca.js":1306,"./en-gb":1307,"./en-gb.js":1307,"./en-ie":1308,"./en-ie.js":1308,"./en-nz":1309,"./en-nz.js":1309,"./eo":1310,"./eo.js":1310,"./es":1311,"./es-do":1312,"./es-do.js":1312,"./es.js":1311,"./et":1313,"./et.js":1313,"./eu":1314,"./eu.js":1314,"./fa":1315,"./fa.js":1315,"./fi":1316,"./fi.js":1316,"./fo":1317,"./fo.js":1317,"./fr":1318,"./fr-ca":1319,"./fr-ca.js":1319,"./fr-ch":1320,"./fr-ch.js":1320,"./fr.js":1318,"./fy":1321,"./fy.js":1321,"./gd":1322,"./gd.js":1322,"./gl":1323,"./gl.js":1323,"./gom-latn":1324,"./gom-latn.js":1324,"./he":1325,"./he.js":1325,"./hi":1326,"./hi.js":1326,"./hr":1327,"./hr.js":1327,"./hu":1328,"./hu.js":1328,"./hy-am":1329,"./hy-am.js":1329,"./id":1330,"./id.js":1330,"./is":1331,"./is.js":1331,"./it":1332,"./it.js":1332,"./ja":1333,"./ja.js":1333,"./jv":1334,"./jv.js":1334,"./ka":1335,"./ka.js":1335,"./kk":1336,"./kk.js":1336,"./km":1337,"./km.js":1337,"./kn":1338,"./kn.js":1338,"./ko":1339,"./ko.js":1339,"./ky":1340,"./ky.js":1340,"./lb":1341,"./lb.js":1341,"./lo":1342,"./lo.js":1342,"./lt":1343,"./lt.js":1343,"./lv":1344,"./lv.js":1344,"./me":1345,"./me.js":1345,"./mi":1346,"./mi.js":1346,"./mk":1347,"./mk.js":1347,"./ml":1348,"./ml.js":1348,"./mr":1349,"./mr.js":1349,"./ms":1350,"./ms-my":1351,"./ms-my.js":1351,"./ms.js":1350,"./my":1352,"./my.js":1352,"./nb":1353,"./nb.js":1353,"./ne":1354,"./ne.js":1354,"./nl":1355,"./nl-be":1356,"./nl-be.js":1356,"./nl.js":1355,"./nn":1357,"./nn.js":1357,"./pa-in":1358,"./pa-in.js":1358,"./pl":1359,"./pl.js":1359,"./pt":1360,"./pt-br":1361,"./pt-br.js":1361,"./pt.js":1360,"./ro":1362,"./ro.js":1362,"./ru":1363,"./ru.js":1363,"./sd":1364,"./sd.js":1364,"./se":1365,"./se.js":1365,"./si":1366,"./si.js":1366,"./sk":1367,"./sk.js":1367,"./sl":1368,"./sl.js":1368,"./sq":1369,"./sq.js":1369,"./sr":1370,"./sr-cyrl":1371,"./sr-cyrl.js":1371,"./sr.js":1370,"./ss":1372,"./ss.js":1372,"./sv":1373,"./sv.js":1373,"./sw":1374,"./sw.js":1374,"./ta":1375,"./ta.js":1375,"./te":1376,"./te.js":1376,"./tet":1377,"./tet.js":1377,"./th":1378,"./th.js":1378,"./tl-ph":1379,"./tl-ph.js":1379,"./tlh":1380,"./tlh.js":1380,"./tr":1381,"./tr.js":1381,"./tzl":1382,"./tzl.js":1382,"./tzm":1383,"./tzm-latn":1384,"./tzm-latn.js":1384,"./tzm.js":1383,"./uk":1385,"./uk.js":1385,"./ur":1386,"./ur.js":1386,"./uz":1387,"./uz-latn":1388,"./uz-latn.js":1388,"./uz.js":1387,"./vi":1389,"./vi.js":1389,"./x-pseudo":1390,"./x-pseudo.js":1390,"./yo":1391,"./yo.js":1391,"./zh-cn":1392,"./zh-cn.js":1392,"./zh-hk":1393,"./zh-hk.js":1393,"./zh-tw":1394,"./zh-tw.js":1394};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2190},,,,,,,,,,function(e,t,n){"use strict";var r=n(338),i=n.n(r),o=n(2201),a=n(2221);n.n(a);t.a=o.a,o.a.propTypes=Object.assign(o.a.propTypes,{theme:i.a.oneOf(["black","ghost","normal","outer","pseudo","strong","transparent-black","transparent-white","yellow"])})},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(338),i=n.n(r),o=n(1419),a=n(2239);n.n(a);function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o["a"]),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"_calcBestDrawingParams",value:function(e){if(this.props.ignorePageOffsets){var n=g(m(t.prototype),"_calcBestDrawingParams",this).call(this,e),r="anchor"===this.props.target?2:1,i=this._adjustPosition(n),o=i.top,a=i.left,s=d(i,["top","left"]);return c({top:o+r*window.pageYOffset,left:a+r*window.pageXOffset},s)}return g(m(t.prototype),"_calcBestDrawingParams",this).call(this,e)}},{key:"_adjustPosition",value:function(e){var t=this.props,n=t.maxWidth,r=t.minLeft;if("anchor"===t.target&&n&&r){var i=this._calcPopupDimensions(),o=e.left+window.pageXOffset+i.width-(r+n);o>0&&(e.left-=o,e.tail.left+=o);var a=r-e.left-window.pageXOffset;a>0&&(e.left+=a,e.tail.left-=a)}return e}},{key:"_calcTargetDimensions",value:function(e){if(this.props.ignorePageOffsets&&"anchor"===this.props.target){var n=g(m(t.prototype),"_calcTargetDimensions",this).call(this,e),r=n.top,i=n.left,o=d(n,["top","left"]);return c({top:r-window.pageYOffset,left:i-window.pageXOffset},o)}return g(m(t.prototype),"_calcTargetDimensions",this).call(this,e)}},{key:"_calcPos",value:function(e,n,r){if(this.props.patchBottomRight&&"bottom-right"===e){var i=this._calcViewportDimensions(),o=this.props.viewportOffset||this.defaultViewportOffset,a=n.left;return g(m(t.prototype),"_calcPos",this).call(this,e,c({},n,{width:n.width||i.right-o-a||0}),r)}return g(m(t.prototype),"_calcPos",this).call(this,e,n,r)}},{key:"_calcViewportDimensions",value:function(){if(this.props.fitPopupTo){var e=this.props.fitPopupTo.getBoundingClientRect(),n=e.top,r=e.left,i=e.bottom,o=e.right;return this.props.ignorePageOffsets||(n+=window.pageYOffset,i+=window.pageYOffset,r+=window.pageXOffset,o+=window.pageXOffset),{top:n,left:r,bottom:i,right:o}}return g(m(t.prototype),"_calcViewportDimensions",this).call(this)}}]),t}();v.propTypes=Object.assign(o.a.propTypes,{theme:i.a.string,fitPopupTo:i.a.instanceOf(Element),ignorePageOffsets:i.a.bool,patchBottomRight:i.a.bool,maxWidth:i.a.number,minLeft:i.a.number})},,,,,function(e,t){},function(e,t,n){"use strict";var r=n(2241),i=n.n(r),o=n(2243);n.n(o);t.a=i.a},,,,function(e,t,n){"use strict";n(2245).a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2322),i=n(2366),o=n(2369),a=n(2370);r.a.DescriptionWithIcon=i.a,r.a.Buttons.Action=o.a,r.a.Buttons.Clear=a.a,t.a=r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2367);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(569),l=n(2368);n.n(l);function c(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.icon,n=e.children;return c(s.a.Description,{},void 0,c("div",{className:"mail-DescriptionWithIcon"},void 0,c("div",{className:"mail-DescriptionWithIcon_Icon mail-DescriptionWithIcon_".concat(t)}),c("div",{className:"mail-DescriptionWithIcon_Text"},void 0,n)))};t.a=u,u.propTypes={icon:a.a.string.isRequired}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(393);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}();l.defaultProps={view:"classic",tone:"default",size:"m",theme:"action"}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(393);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}();l.defaultProps={view:"classic",tone:"default",size:"m",theme:"clear"}},,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;var r=function(){function e(e){this.matrix=[],this.matrix=e.columns}return e.prototype.getCell=function(e){var t=e.row,n=e.column;return this.matrix[n][t]},Object.defineProperty(e.prototype,"columns",{get:function(){return this.matrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){if(!this.byRowsMatrix){this.byRowsMatrix=[];for(var e=this.matrix[0].length,t=0;t<e;t+=1){for(var n=[],r=0;r<this.matrix.length;r+=1){var i=this.matrix[r][t];n.push(i)}this.byRowsMatrix.push(n)}}return this.byRowsMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){if(!this.internalMap){this.internalMap=new Map;for(var e=0;e<this.matrix.length;e+=1)for(var t=this.matrix[e],n=0;n<t.length;n+=1)this.internalMap.set(t[n],{column:e,row:n})}return this.internalMap},enumerable:!1,configurable:!0}),e.prototype.getItemCoords=function(e){return this.map.get(e)},e}();t.Matrix=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarTooltip=void 0;var l=o(n(135)),c=n(1088),u=n(350),d=s(n(2684)),f=n(2685),p=n(2686);t.AvatarTooltip=function(e){var t=e.contact,n=e.avatar,r=a(l.useState(!1),2),i=r[0],o=r[1],s=l.useRef(null),g=l.useRef(null),m=l.useCallback(function(e){return e.stopPropagation()},[]),h=a(l.useState([0,0]),2),v=h[0],b=h[1],_=l.useCallback(function(){g.current=setTimeout(function(){return o(!1)},200)},[]),y=l.useCallback(function(e){g.current&&clearTimeout(g.current),i||b([e.clientX,e.clientY]),o(!0)},[i]),S=l.useMemo(function(){var e=a(v,2),t=e[0],n=e[1],r=[];return t>=392&&r.push("left"),n>=442&&r.push("top"),r.push("right"),r.push("bottom"),r},[v]),w=l.useMemo(function(){return i?l.default.createElement(f.ContactSummary,{email:t.email,name:t.name}):null},[i,t]);return p.isValidEmail(t.email)?l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{ref:s,onMouseEnter:y,onMouseLeave:_,title:""},n),l.default.createElement(c.Popup,{className:d.default.popup,visible:i,onClose:function(){return o(!1)},keepMounted:!1,anchor:s,target:"anchor",view:"default",direction:S,boundary:u.is3Pane()?{current:document.body}:void 0,onMouseEnter:y,onMouseLeave:_,onClick:m,hasTail:!0},w)):n}},function(e,t){e.exports={popup:"AvatarTooltip__popup--1FQP0"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ContactSummary=void 0;var s=a(n(135)),l=n(347),c=n(543),u=n(145),d=function(){return s.default.createElement("div",null,s.default.createElement(u.Spin,{view:"default",size:"m",progress:!0}))};t.ContactSummary=function(e){var t=l.getContactSummaryLoader(),n=s.useCallback(function(){return t().then(function(t){var n=t.ContactSummary;return s.default.createElement(n,r({},e))})},[t,e]);return t?s.default.createElement(c.ModuleLoader,{component:n,placeholder:d}):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidEmail=t.isValidHost=void 0;t.isValidHost=function(e){return/^[0-9A-Za-z---]+(\.[0-9A-Za-z---]+)*$/g.test(e)};t.isValidEmail=function(e){return/.@[^@.]+\.[^@]*[^@.]$/.test(e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(135)),a=i(n(339));n(2688);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.maybeRenderMonogram=function(){var e=this.props,t=e.url,n=e.monogram;return t?null:o.default.createElement("span",{className:"mail-Avatar__Monogram"},n)},t.prototype.render=function(){var e=this.props,t=e.url,n=e.color,r=e.size,i=void 0===r?"s":r,s=e.className;if(e.isSpam)return o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_spam","mail-Avatar_size-"+i,s)});var l={};return t?l.backgroundImage="url("+t+")":n&&(l.backgroundColor=n),o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_size-"+i,s),style:l,"aria-hidden":!0},this.maybeRenderMonogram())},t}(o.default.Component);t.default=s},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var o=i(n(135)),a=i(n(2728)),s=i(n(2729)),l=a.default.bind(s.default),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"scrollbarWidth",{get:function(){return null==this.savedScrollbarWidth&&(this.savedScrollbarWidth=this.calculateScrollbarWidth()),this.savedScrollbarWidth},enumerable:!1,configurable:!0}),t.calculateScrollbarWidth=function(){var e=document.createElement("div");e.style.height="50px",e.style.width="100%";var t=document.createElement("div");t.style.height="1px",t.style.width="50px",t.style.position="absolute",t.style.overflowY="scroll",t.style.left="-9999px",t.style.top="-9999px",t.appendChild(e),document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),n},t.prototype.render=function(){return o.default.createElement("div",{className:l("root",this.props.className)},o.default.createElement("div",{className:l("scroll",this.props.containerClass),style:{width:"calc(100% + "+t.scrollbarWidth+"px)",marginRight:"-"+t.scrollbarWidth+"px","--scrollbar-width":t.scrollbarWidth+"px"}},this.props.children))},t}(o.default.Component);t.SmartScroll=c},,function(e,t){e.exports={root:"SmartScroll__root--cSRNG",scroll:"SmartScroll__scroll--zm9AN"}},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachType=t.AttachmentItem=void 0;var r=n(2738);Object.defineProperty(t,"AttachmentItem",{enumerable:!0,get:function(){return r.AttachmentItem}}),Object.defineProperty(t,"AttachType",{enumerable:!0,get:function(){return r.AttachType}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentItem=t.AttachType=void 0;var o,a=i(n(135)),s=i(n(339)),l=i(n(1107)),c=i(n(2751)),u=i(n(2754)),d=i(n(2755)),f=parseInt(d.default.attachmentWidth,10)-2*parseInt(d.default.paddingH,10);!function(e){e.FILE="simple",e.YADISK="narod",e.FORWARDER_EMAIL="forwarded"}(o=t.AttachType||(t.AttachType={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=s.default(d.default.attachmentItem,((e={})[d.default.transparent]=this.props.transparent,e));return a.default.createElement("div",{className:t},this.renderPreview(),a.default.createElement("div",{className:s.default(d.default.text,"qa-Attachment-fileName")},a.default.createElement(l.default,{text:this.props.name,numberOfRows:2,width:f,font:"14px/16px \\'YS Text\\', Arial, sans-serif"})),this.props.renderControls&&this.props.renderControls())},t.prototype.renderDiskAttachIcon=function(){return this.props.attachType!==o.YADISK?null:a.default.createElement("div",{className:d.default.attachIcon},a.default.createElement(u.default,null))},t.prototype.renderPreview=function(){var e=this.props,t=e.previewSrc,n=e.extension,r=e.fileType;if(!t){var i="folder"===r?"dir":"file";return a.default.createElement("div",{className:s.default(d.default.preview,d.default.resourceIcon)},a.default.createElement(c.default,{cls:s.default(d.default.icon,"qa-Attachment-icon","qa-Attachment-icon-"+i),ext:n,mediatype:r,type:i,size:"m"}),this.renderDiskAttachIcon())}var o=new URL(t);o.searchParams.delete("thumb"),o.searchParams.set("resize","y"),o.searchParams.set("max_size","78x78");var l=o.toString();o.searchParams.set("max_size","156x156");var u=o.toString()+" 2x";return a.default.createElement("div",{className:d.default.preview},a.default.createElement("img",{src:l,srcSet:u,alt:"",className:d.default.previewImg}),this.renderDiskAttachIcon())},t.RECT={width:parseInt(d.default.attachmentWidth,10),height:parseInt(d.default.attachmentHeight,10)},t}(a.default.PureComponent);t.AttachmentItem=p},,,,,,,,,,,,,,,,,function(e,t){e.exports={attachmentWidth:"116px",attachmentHeight:"144px",paddingV:"12px",paddingH:"10px",attachmentItem:"AttachmentItem__attachmentItem--P5Tr2",text:"AttachmentItem__text--24wwt",preview:"AttachmentItem__preview--3Ejra",attachIcon:"AttachmentItem__attachIcon--upwwv",previewImg:"AttachmentItem__previewImg--ydYh5",resourceIcon:"AttachmentItem__resourceIcon--gyX19",icon:"AttachmentItem__icon--2rtDG",transparent:"AttachmentItem__transparent--1xpFx"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(343),c=n.n(l),u=n(763),d=n(1488);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=g(this,m(t).call(this,e))).setNewInputValue=function(e){n.setState({inputValue:e})},n.processRemoveSymbols=function(e){var t=n.formatterService.separator;e[e.length-1]===t?n.setNewInputValue(e.slice(0,e.length-1)):n.setNewInputValue(e)},n.onInputValueChange=function(e){var t=n.props,r=t.onInput,i=t.onChange,o=t.date,a=n.formatterService,s=a.parseDateParts(e);if(r&&r(),n.isInputValueValid(s,e.length))if(n.isRemovingSymbols(e.length))n.processRemoveSymbols(e);else{var l=a.tryParseDate(s,o),c=l.newDate,u=l.newInputString;i(c),n.setNewInputValue(u)}};var r=e.date,i=e.format,o=e.DateFormatterService;return n.state={inputValue:r.format(i)},n.formatterService=new o(r,i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.date,r=t.format,i=n.format(r);e.date.format(r)!==i&&this.setNewInputValue(i)}},{key:"isInputValueValid",value:function(e,t){var n=this.formatterService,r=n.dateFormat,i=n.areDatePartsValid;return t<=r.length&&i(e)}},{key:"isRemovingSymbols",value:function(e){return e<this.state.inputValue.length}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.date,i=e.format,o=e.onClick;return function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.a,{type:"text",size:"m",view:"default",theme:"normal",autocomplete:!1,text:this.state.inputValue,placeholder:n.format(i),onChange:this.onInputValueChange,onClick:o,cls:t})}}]),t}();v.propTypes={onInput:s.a.func,onChange:s.a.func,onClick:s.a.func,format:s.a.string,cls:s.a.string,date:s.a.objectOf(c.a),DateFormatterService:s.a.func},v.defaultProps={date:c()(),format:d.a,DateFormatterService:d.b},t.a=v},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2808);t.default=r.Label},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var s=o(n(135)),l=a(n(339)),c=a(n(360)),u=n(140),d=a(n(2809)),f=a(n(353));t.Label=function(e){var t,n=e.onRemove,r=e.background,i=e.className,o=e.color,a=e.id,p=e.isImportant,g=e.name,m=e.href,h=s.useCallback(function(e){e.preventDefault(),null===n||void 0===n||n(e)},[n]),v=s.useCallback(function(e){return s.default.createElement("span",{className:l.default(e,d.default.removeIcon)},s.default.createElement(c.default,{id:"mail--Compose-Cross"}))},[]),b={},_={},y=l.default(d.default.root,"qa-ComposeLabel",i,((t={})[d.default.important+" qa-ComposeLabel_important"]=p,t[d.default.withRemoveIcon+" qa-ComposeLabel_withRemoveIcon"]=Boolean(n),t[d.default.withHover]=Boolean(m),t));return p||(b.backgroundColor=r,b.color=o),_.opacity=p||o?.7:1,s.default.createElement("div",{className:y,style:b},s.default.createElement("a",{className:l.default(d.default.text,"qa-ComposeLabel-Text"),href:m,style:_},p&&s.default.createElement(c.default,{cls:l.default(d.default.icon,"qa-ComposeLabel-Icon"),id:a}),g),n&&s.default.createElement(u.Button,{view:"clear",size:"xs",className:l.default(d.default.remove,"qa-ComposeLabel-Remove"),onClick:h,icon:v,"aria-label":f.default("common-react/removeLabel")}))}},function(e,t){e.exports={variables:'"../../../modules/compose-react/variables.m.css"',labelBorderRadius:"32px",labelPadding:"0 12px",addressFieldHeight:"26px",removeButtonSize:"24px",removeIconSize:"10px",insideMargin:"8px",root:"Label__root--1AG6h",important:"Label__important--2MrNr",withRemoveIcon:"Label__withRemoveIcon--zNcox",icon:"Label__icon--3DS9u",text:"Label__text--2jdFt",withHover:"Label__withHover---ZqLW",remove:"Label__remove--3ha29",removeIcon:"Label__removeIcon--30K4S"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"_/9ea7321615ba6d6ed154cea463f0c085-attach_icon_virus.svg"},function(e,t,n){e.exports=n.p+"_/2fd58e123a7954c32a21b89ad9ed0834-attach_icon_folder.svg"},function(e,t,n){e.exports=n.p+"_/49863cae38d85f3a1508bc8e9239016d-attach_icon_7z.svg"},function(e,t,n){e.exports=n.p+"_/8ca841a78c428fbbea24fcf397d7f409-attach_icon_ai.svg"},function(e,t,n){e.exports=n.p+"_/3aa640e55b9248192d7848c1882b5894-attach_icon_corel.svg"},function(e,t,n){e.exports=n.p+"_/db12c186914f8db1f9ef6124a18c4562-attach_icon_css.svg"},function(e,t,n){e.exports=n.p+"_/169aa042df1e3b991f1767aafb4b4642-attach_icon_djvu.svg"},function(e,t,n){e.exports=n.p+"_/42c9395ece8c111b2ddec02d116ebabe-attach_icon_dll.svg"},function(e,t,n){e.exports=n.p+"_/6cf1df2ebec1ec63458035c0e746a984-attach_icon_epub.svg"},function(e,t,n){e.exports=n.p+"_/c43e0ea2882a130f96a60335b974ddad-attach_icon_fb2.svg"},function(e,t,n){e.exports=n.p+"_/0395e68e5145cbcf1d45fa091cab78fa-attach_icon_indd.svg"},function(e,t,n){e.exports=n.p+"_/3784d6759a1edefc70140d92d9fc945c-attach_icon_ini.svg"},function(e,t,n){e.exports=n.p+"_/b5d7f828946298ff892e8669f51ce53e-attach_icon_js.svg"},function(e,t,n){e.exports=n.p+"_/1b31e7895ed29944deef9785130391e4-attach_icon_odp.svg"},function(e,t,n){e.exports=n.p+"_/81e0bb8d578b77c7ef65dcf7430ec799-attach_icon_ods.svg"},function(e,t,n){e.exports=n.p+"_/901699e6d4d06d8d50192f86aacf58ba-attach_icon_odt.svg"},function(e,t,n){e.exports=n.p+"_/861ab79aedccf6dd07da6fed2bb3202c-attach_icon_pdf.svg"},function(e,t,n){e.exports=n.p+"_/62361dbd7ae2d1e199022beebf2a5db9-attach_icon_psd.svg"},function(e,t,n){e.exports=n.p+"_/46943c4ac36b66f2efbb012899d150bd-attach_icon_rar.svg"},function(e,t,n){e.exports=n.p+"_/263bf4bdd537e5f6b4b53e6fd18688a9-attach_icon_rtf.svg"},function(e,t,n){e.exports=n.p+"_/669e80a6900a81942b6ef152cebc6bae-attach_icon_sketch.svg"},function(e,t,n){e.exports=n.p+"_/2521c91ec97715bd54cb86c3a3a49496-attach_icon_svg.svg"},function(e,t,n){e.exports=n.p+"_/54ef3b8767740a54291f546c6baded90-attach_icon_txt.svg"},function(e,t,n){e.exports=n.p+"_/38e790dd588ce44ebc8f8d1c2df0c52b-attach_icon_vcf.svg"},function(e,t,n){e.exports=n.p+"_/ca814b1e16c5fc1c90dc3955707df406-attach_icon_xhtml.svg"},function(e,t,n){e.exports=n.p+"_/2a31adba227f40c2fd2e04988ee374e0-attach_icon_xml.svg"},function(e,t,n){e.exports=n.p+"_/0bc2ad4d36f0dfefd86de9d8ecc5288e-attach_icon_books.svg"},function(e,t,n){e.exports=n.p+"_/a81937d5fcb7ba94f736c422014d1c95-attach_icon_font.svg"},function(e,t,n){e.exports=n.p+"_/f69b0bee9e32636ed623bb752a31d591-attach_icon_other.svg"},function(e,t,n){e.exports=n.p+"_/55c441d826db7bcd2d84be0b661dbcc8-attach_icon_folder_simple.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2978);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(2979);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,i=n(135),o=n.n(i),a=n(136),s=(n.n(a),n(338)),l=n.n(s),c=n(339),u=n.n(c),d=n(1107),f=n(2980),p=n(808),g=n(357),m=n(2982);n.n(m);function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w="mail-AttachmentItem",O={Block:w,Header:"".concat(w,"-Header"),Footer:"".concat(w,"-Footer"),Badge:"".concat(w,"-Badge"),Text:"".concat(w,"-Text")},M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.previewSrc;return S("div",{className:u()(O.Block,"".concat(O.Block,"_").concat(t),function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"".concat(O.Block,"_thumbnail"),n))},void 0,this.renderHeader(),this.renderFooter())}},{key:"renderHeader",value:function(){return S("div",{className:O.Header},void 0,this.renderText())}},{key:"renderFooter",value:function(){var e=this.props.previewSrc;return S("div",{className:O.Footer,style:e?{backgroundImage:"url('".concat(e,"')")}:{}},void 0,S(f.a,{cls:O.Badge,fileType:this.props.fileType,extension:this.props.extension,sourceType:this.props.sourceType}))}},{key:"renderText",value:function(){var e=this.props,t=e.name,n=e.style===p.c.SLIM?1:2;return S("div",{className:O.Text},void 0,S(d.default,{text:t,numberOfRows:n,font:p.a,width:p.b}))}}]),t}();M.defaultProps={style:p.c.NORMAL,sourceType:g.d.FILE},M.propTypes={style:l.a.oneOf(Object(a.values)(p.c)),sourceType:l.a.oneOf(Object(a.values)(g.d)),fileType:l.a.string,extension:l.a.string,name:l.a.string,previewSrc:l.a.string}},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(136),c=(n.n(l),n(339)),u=n.n(c),d=n(357),f=n(360),p=n(2981);n.n(p);function g(e){"@babel/helpers - typeof";return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y={Block:"FileTypeBadge",DiskIcon:"".concat("FileTypeBadge","-DiskIcon"),Extension:"".concat("FileTypeBadge","-Extension")},S="folder",w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.fileType,n=e.extension,r=e.sourceType,i=u()(this.props.cls,y.Block,"".concat(y.Block,"_").concat(t)),o=n&&"."===n[0]?n.substring(1):n;o=o||t;var a=r===d.d.YADISK,s=t!==S;return _("div",{className:i},void 0,a&&_(f.default,{id:"mail--Compose-AttachDisk",cls:y.DiskIcon}),s&&_("span",{className:y.Extension},void 0,o))}}]),t}();w.propTypes={cls:s.a.string,fileType:s.a.string.isRequired,extension:s.a.string,sourceType:s.a.oneOf(Object(l.values)(d.d))}},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a={parentLocale:"en",months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],weekdays:["","","","","","",""],weekdaysShort:["","","","","","",""],weekdaysMin:["","","","","","",""]}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return o});var i=/^#(search(\?|\/|$)|(contacts))/,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"navigateToMessage",value:function(e,t){var n=Daria.is2pane()?ns.router.generateUrl("message",{ids:e,tab:"thread"}):ns.router.generateUrl("messages",{ids:e,current_folder:t});ns.page.go(n)}},{key:"navigateToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n.shouldAddPageParams?ns.page.current.params:{},t),i=ns.router.generateUrl(e,r);ns.page.go(i)}},{key:"openLastPageBeforeSearch",value:function(){var e=ns.page.history.getFirstValidPrevious(function(e){return!i.test(e)})||ns.page.getDefaultUrl();ns.page.currentUrl!==e&&ns.page.go(e,"replace")}},{key:"redrawPage",value:function(){ns.page.go()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r,i,o=n(135),a=n.n(o),s=n(341),l=n(790),c=(n.n(l),n(3230)),u=n(414),d=n(391),f=n(1136),p=n(136),g=n.n(p),m=n(137),h=(n.n(m),n(344)),v=n(3);n.n(v);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=y(h.default,{loc:"suggest-react/advanced-search-filter-important"}),O=y(h.default,{loc:"suggest-react/advanced-search-filter-priority"}),M=y(h.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),x=y(h.default,{loc:"suggest-react/advanced-search-filter-with-deleted"}),E=y(h.default,{loc:"suggest-react/advanced-search-filter-unread"}),T=y(h.default,{loc:"suggest-react/advanced-search-filter-from"}),D=y(h.default,{loc:"suggest-react/advanced-search-filter-to"}),C=y(h.default,{loc:"suggest-react/advanced-search-filter-from"}),P=y(h.default,{loc:"suggest-react/advanced-search-filter-to"}),k=y(h.default,{loc:"suggest-react/advanced-search-filter-subject"}),A=y(h.default,{loc:"suggest-react/advanced-search-filter-body"}),I=(S((r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._searchSuggest=null,this._isSearchLocked=!1,this._stores=t,this._services=n}return function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(e,[{key:"startSuggest",value:function(){var e=this._stores.searchStore;this._suggest.request(e.searchQuery.paramsForSuggest)}},{key:"cleanupSuggest",value:function(){var e=this._stores.searchStore;this._suggest.abortCurrentRequest(),e.setSuggestItems([])}},{key:"removeSuggestItem",value:function(e){this._stores.searchStore.removeSuggestItem(e),u.default.forcedRequest("do-clean-suggest-history",{request:e.data.search_text})}},{key:"resetSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._services.routerService,n=this._stores.searchStore.searchQuery;return n.currentSuggestText.trim()&&!e.forced?(n.currentSuggestText="",!1):(n.currentSuggestText="",e.openPageBeforeSearch&&t.openLastPageBeforeSearch(),!0)}},{key:"startSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._services.searchLogService,r=this._stores.searchStore.searchQuery;try{r.currentSearchText=e,r.currentSuggestText=e,ns.Model.invalidate("history-suggest");var i=r.paramsForSearch;t.extraSearchParams&&Object.assign(i,t.extraSearchParams);var o=Object(s.action)(function(e){r.currentShowText=e,r.currentSuggestText=e});(e||t.force)&&(Daria.MessagesSearch.search(i,{onCorrecting:o,onSuccess:t.onSuccess,onError:t.onError}),n.suggestWasLogged||(n.logSearchSuggest({text:e}),n.suggestWasLogged=!0),n.logSearch(e,i,this.shouldDisplayAdvancedSearch))}finally{n.suggestWasLogged=!1}}},{key:"syncSearchQuery",value:function(){var e=this._stores,t=e.routerStore,n=e.searchStore.searchQuery,r=t.currentPage.params,i=r.request||"";n.currentSearchText=i,n.currentSuggestText=i,n.updateAdvancedParams(this.getInitialAdvancedSearchParams(),r)}},{key:"getInitialAdvancedSearchParams",value:function(){var e=this._stores.routerStore.currentPage.params;if("only_atta"===e.extra_cond&&"all"===e.goto)return{attaches:"yes"};if("only_new"===e.extra_cond&&"all"===e.goto)return{unread:"yes"};if(Daria.messages&&Daria.messages.params4SimpleLabel&&Daria.messages.params4SimpleLabel(e))return{lid:e.current_label};var t=this.getCurrentFolderParam();return t?{fid:t}:{}}},{key:"getCurrentFolderParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._stores,n=t.routerStore,r=t.foldersStore,i=n.currentPage.params;if(Daria.messages.params4SimplePath(i)){var o=i.current_folder,a=r.isFidSymbol(o,m.WellKnownFolderSymbol.INBOX);if(e.returnInbox||!a)return o}var s=n.currentPage.page;return Daria.messages.folder4MessagePage(s,i)}},{key:"lockSearch",value:function(e){if(this._isSearchLocked)Object(l.log)({type:v.ErrorType.Service,source:v.ErrorSource.Logic,sourceMethod:v.ErrorSourceMethod.Search,block:v.ErrorBlock.Search,method:"lockSearch",message:"Search service: search already locked"});else try{this._isSearchLocked=!0,e()}finally{this._isSearchLocked=!1}}},{key:"setMultipleAdvanced",value:function(){var e=this._stores.searchStore.searchQuery;e.setMultipleAdvanced.apply(e,arguments)}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"getAdvanced",value:function(e){return this._stores.searchStore.searchQuery.getAdvanced(e)}},{key:"removeBubbles",value:function(e){var t=this._stores.searchStore.searchQuery,n=this._services.searchLogService,r=this.bubbles.filter(Object(s.action)(function(t){return-1!==e.indexOf(t.id)})).map(Object(s.action)(function(e){return e.type})),i=g.a.flatten(e).map(Object(s.action)(function(e){return{name:e,value:t.defaults[e]}}));t.setMultipleAdvanced.apply(t,b(i)),r.forEach(Object(s.action)(function(e){return n.countBubbleAction(e,"Click on X")}))}},{key:"_suggest",get:function(){var e=this._stores,t=e.settingsStore,n=e.searchStore,r=this._services.searchLogService;return this._searchSuggest||(this._searchSuggest=new c.a(t,n,r)),this._searchSuggest}},{key:"isSearchLocked",get:function(){return this._isSearchLocked}},{key:"shouldDisplayAdvancedSearch",get:function(){var e=this._stores,t=e.searchStore,n=e.routerStore;return t.forceShowAdvancedSearch||n.isSearchResultsPage&&!n.isCurrentPageEmptySearch}},{key:"onlyCurrentFolderFilterEnabled",get:function(){var e=this._stores,t=e.routerStore,n=e.foldersStore,r=e.searchStore;if(!r.searchQuery.hasOnlyFolderParam)return!1;var i=t.currentPage.params.current_folder||t.currentPage.params.fid;return!n.isFidSymbol(i,m.WellKnownFolderSymbol.INBOX)&&i===r.searchQuery.getAdvanced("fid")}},{key:"hasUserBubbles",get:function(){var e=this._stores,t=e.routerStore,n=e.searchStore,r=n.searchQuery;return!!r.isAdvancedDirty&&(!r.hasOnlyFolderParam||(t.currentPage.params.current_folder||t.currentPage.params.fid)!==n.searchQuery.getAdvanced("fid"))}},{key:"bubbles",get:function(){var e=this,t=this._stores,n=t.searchStore.searchQuery,r=t.foldersStore,i=t.labelsStore,o={service:{getFilter:function(){var e=n.getAdvanced("serviceId"),t=(Object(f.a)()||[]).filter(function(t){return t.serviceId===e})[0]||null;return t?t.name:null},id:"serviceId"},label:{getFilter:function(){var e=n.getAdvanced("lid");if(!e)return null;if(e===i.getImportantId())return w;if(e===i.getPriorityId())return O;var t=i.getLabelById(e);return t&&t.data?t.data.name:null},id:"lid"},folder:{getFilter:function(){var t=e.getAdvanced("fid"),n=t?r.getFolderByFid(t):null;return n?n.data.name:null},id:"fid"},attaches:{getFilter:function(){return e.getAdvanced("attaches")?M:null},id:"attaches"},dates:{getFilter:function(){var t=e.getAdvanced("from"),n=e.getAdvanced("to");return t||n?(t=Object(d.getDateInNumericFormat)(t),n=Object(d.getDateInNumericFormat)(n),t&&n?"".concat(t," - ").concat(n):y(h.default,t?{loc:"suggest-react/advanced-search-filter-date-from",params:{date:t}}:{loc:"suggest-react/advanced-search-filter-date-to",params:{date:n}})):null},id:["from","to"]},deleted:{getFilter:function(){return e.getAdvanced("deleted")?x:null},id:"deleted"},unread:{getFilter:function(){return e.getAdvanced("unread")?E:null},id:"unread"},from:{getFilter:function(){var e=n.getAdvanced("hdr_from");if(e)return a.a.createElement(a.a.Fragment,null,T,": ",e)},id:"hdr_from"},to:{getFilter:function(){var e=n.getAdvanced("hdr_to");if(e)return a.a.createElement(a.a.Fragment,null,D,": ",e)},id:"hdr_to"},scope:{getFilter:function(){switch(e.getAdvanced("scope")){case"hdr_from":return C;case"hdr_to":return P;case"hdr_subject":return k;case"body_text":return A;default:return null}},id:"scope"}};return Object.keys(o).map(function(e){return{type:e,id:o[e].id,value:o[e].getFilter()}}).filter(function(e){return e.value}).map(function(e){return{id:e.id,type:e.type,content:e.value}})}}]),e}()).prototype,"startSuggest",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"startSuggest"),r.prototype),S(r.prototype,"resetSearch",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"resetSearch"),r.prototype),S(r.prototype,"startSearch",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"startSearch"),r.prototype),S(r.prototype,"syncSearchQuery",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"syncSearchQuery"),r.prototype),S(r.prototype,"shouldDisplayAdvancedSearch",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"shouldDisplayAdvancedSearch"),r.prototype),S(r.prototype,"onlyCurrentFolderFilterEnabled",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"onlyCurrentFolderFilterEnabled"),r.prototype),S(r.prototype,"hasUserBubbles",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"hasUserBubbles"),r.prototype),S(r.prototype,"bubbles",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"bubbles"),r.prototype),S(r.prototype,"setMultipleAdvanced",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"setMultipleAdvanced"),r.prototype),S(r.prototype,"setAdvanced",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"setAdvanced"),r.prototype),S(r.prototype,"removeBubbles",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"removeBubbles"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(136),i=n.n(r),o=n(350),a=n(414),s=n(3231),l=n(1190),c=n(347);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=i.a.isEqual,g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._aborted=!1,this._lastParams=null,this._suggest=new s.a(this._requestSuggest.bind(this),300),this._settingsStore=t,this._searchStore=n,this._searchLogServive=r}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"request",value:function(e){this._aborted=!1,this._suggest.request(e)}},{key:"abortCurrentRequest",value:function(){this._aborted=!0}},{key:"_requestSuggest",value:function(e){var t=this;this._aborted||(this._lastParams=e,window.Apdex.start(["Performance_searchSuggest"],!0),this._requestSuggestPart(e).then(function(n){if(n&&n.status)return t._requestSuggestPart(e,n.status,n.limit)}).catch(i.a.noop))}},{key:"_requestSuggestPart",value:function(e,t,n){var r=this;if(!this._aborted){var i=new vow.Deferred,s=Object.assign({},e,{types:["subject","ql","contact","mail","history"].join(","),twoSteps:1,highlight:1,limit:n||10,reqid:this._searchStore.getSearchSessionId()});t&&(s.status=t);var f=Object(c.getExternalEmailsBridge)();return a.default.forcedRequest("search-suggest",s).then(function(n){if(p(r._lastParams,e)&&!r._aborted){var a=(n.items||[]).map(function(e){return e&&e.email}).filter(Boolean).filter(function(e){return e.includes("@")}),s=(n.items||[]).map(function(e){return new l.a(e)});t?(r._searchStore.setSuggestItems(s,Boolean(t)),i.resolve()):(r._searchStore.setSuggestItems(s),i.resolve({status:n.status,limit:10-s.length})),Object(o.isPDD)()&&f.loadAreExternalEmails(a).then(function(){var e=f.getExternalEmails();s.forEach(function(t){var n=t.data;n&&n.email&&e[n.email]&&t.setData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{isExternal:!0}))})}),r._searchLogServive.logSuggestResults(e),s.length?window.Apdex.send(["Performance_searchSuggest"]):window.Apdex.delete(["Performance_searchSuggest"])}else i.reject("search suggest: failed update")},function(e){i.reject(e)}),i.promise()}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(136);var i=n.n(r).a.throttle,o=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._throttledRequest=function(e){r._request(e)},this._request=t,this.request=i(this._throttledRequest,n,{leading:!1})}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r,i,o,a=n(435),s=n.n(a),l=n(341),c=n(743),u=n(396),d=(n.n(u),n(350)),f=n(1534);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h=["no-message","not-found"],v=(o=i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stores=t}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(e,[{key:"setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return ns.Model.get("settings").setSettings(e,t,n)}},{key:"switchOnThreadMode",value:function(){return ns.Model.get("settings").threadedOn()}},{key:"switchOffThreadMode",value:function(){return ns.Model.get("settings").threadedOff()}},{key:"setBiggerText",value:function(){return ns.Model.get("settings").setSettingOn("with_bigger_text")}},{key:"setNormalText",value:function(){return ns.Model.get("settings").setSettingOff("with_bigger_text")}},{key:"setSidebarToggleState",value:function(e){this.setSettings(p({},"is_sidebar_expanded",e?"yes":"no"))}},{key:"setIsHiddenTrashEnabled",value:function(e){return this.setSettings(p({},c.a,e))}},{key:"setLeftColumnProWidgetExpandAt",value:function(e){return this.setSettings(p({},c.b,e))}},{key:"isCompactHeaderMode",get:function(){var e=this._stores,t=e.routerStore,n=e.settingsStore,r=t.currentPage.page;return n.isSet(u.Settings.MINIFIED_HEADER)&&-1===h.indexOf(r)}},{key:"isSidebarExpanded",get:function(){var e=this._stores.settingsStore;if(e.hasSetting("is_sidebar_expanded"))switch(e.getSettingValue("is_sidebar_expanded")){case"yes":return!0;case"no":return!1}return!1}},{key:"isPriorityTabEnabled",get:function(){var e=Boolean(this._stores.labelsStore.getPriorityId()),t=this._stores.settingsStore.getSign(u.Settings.SHOW_PRIORITY_STUFF);return!Object(d.isCorp)()&&(this._stores.settingsStore.getSign(u.Settings.PRIORITY_MAIL)||Object(d.hasSid)(669))&&e&&t}},{key:"isHotkeysEnabled",get:function(){return ns.Model.get("settings").data.enable_hotkeys}}]),e}(),i.instance=s()(function(){return new v(Object(f.a)())}),m((r=o).prototype,"isCompactHeaderMode",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"isCompactHeaderMode"),r.prototype),m(r.prototype,"isSidebarExpanded",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"isSidebarExpanded"),r.prototype),m(r.prototype,"isPriorityTabEnabled",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"isPriorityTabEnabled"),r.prototype),m(r.prototype,"isHotkeysEnabled",[l.computed],Object.getOwnPropertyDescriptor(r.prototype,"isHotkeysEnabled"),r.prototype),r)},function(e,t,n){"use strict";var r=n(136),i=n.n(r),o=n(414);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stores=t}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"getContacts",value:function(e){return o.default.forcedRequest("search-suggest",{type:"contact",request:e,limit:5}).then(function(e){return i.a.map(e&&e.items,function(e){return{name:e.display_name,email:e.email}}).filter(function(e){return e.email})}).catch(function(){return[]})}}]),e}();t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i=n(136),o=n.n(i),a=n(391),s=n(341),l=n(3235),c=n(1136),u=n(554);n.n(u);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var p=(f((r=function(){function e(t){var n=this,r=t.foldersStore,i=t.labelsStore,s=t.searchStore;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.language=[{keywords:["","from"],paramName:u.SearchQueryParams.HDR_FROM,canBeEmpty:!0},{keywords:["","to"],paramName:u.SearchQueryParams.HDR_TO,canBeEmpty:!0},{keywords:["","subject"],paramName:u.SearchQueryParams.HDR_SUBJECT,canBeEmpty:!0},{keywords:["","text"],paramName:u.SearchQueryParams.BODY_TEXT,canBeEmpty:!0},{keywords:["-","has-attachments"],paramName:u.SearchQueryParams.ATTACHES,stringify:function(){return""}},{keywords:["-","in-deleted","in-hidden-trash"],paramName:u.SearchQueryParams.DELETED,stringify:function(){return""}},{keywords:["-","after","newer","",""],paramName:u.SearchQueryParams.FROM,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["-","before","older",""],paramName:u.SearchQueryParams.BEFORE_DATE,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["-","date-end"],paramName:u.SearchQueryParams.TO,parseValue:a.parseDate,stringify:a.getDateInNumericFormatDashed},{keywords:["","folder"],paramName:u.SearchQueryParams.FID,parseValue:function(e){var t=n.foldersStore.getFolderByName(e);return t&&t.data&&t.data.fid},stringify:function(e){var t=n.foldersStore.getFolderByFid(e);return t?t.data.name:e}},{keywords:["","unread"],paramName:u.SearchQueryParams.UNREAD,stringify:function(){return""}},{keywords:["","label"],paramName:u.SearchQueryParams.LID,parseValue:function(e){var t=n.labelsStore.getLabelByName(e);return t&&t.data&&t.data.lid},stringify:function(e){var t=n.labelsStore.getLabelById(e);return t?t.data.name:e}},{keywords:["","from"],paramName:u.SearchQueryParams.SERVICE_ID,stringify:function(e){var t=o.a.find(n.services,{serviceId:e});return t?t.email:e},customGetter:function(){var e=n.parsedQuery.hdr_from;if(e&&e.value){var t=o.a.find(n.services,{email:e.value});return t&&t.serviceId||null}return null},customRemover:function(){return n._removeFilterFromQuery("hdr_from")}}],this._parseQuery=function(e){if(!e)return{};var t,r=[],i=0,a=/([^\\]|^)"$/,s=function(e,r){var i=n._languageByParamName[r.type];return r.isEnclosed?(r.value+=e,!!a.test(e)&&(r.value=n._getFilterValueFromString(i,r.value),delete r.isEnclosed,!0)):'"'===e[0]?e.length>1&&a.test(e)?(r.value=n._getFilterValueFromString(i,e),!0):(r.value+=e,r.isEnclosed=!0,t=r,!1):(r.value=n._getFilterValueFromString(i,e),!0)};if(e.split(/( +)/g).forEach(function(e){if(t)t.length+=e.length," "!==e[0]?s(e,t)&&(r.push(t),t=null):t.isEnclosed&&(t.value+=e);else{var a=e.indexOf(":");if(-1!==a){var l=e.substring(0,a),c=l&&o.a.find(n.language,function(e){return o.a.includes(e.keywords,l)});if(c){var u={start:i,type:c.paramName,length:e.length,value:""};if(a!==e.length-1){var d=e.substring(a+1);s(d,u)?r.push(u):t=u}else t=u}}}i+=e.length}),t){var c=n._languageByParamName[t.type];(t.value||c.canBeEmpty)&&(t.length=e.length-t.start,delete t.isEnclosed,t.value=n._getFilterValueFromString(c,t.value),r.push(t))}return Object(l.a)(r,function(e){return e.type})},this.convertFilterToQueryString=function(e,t){if(null==t)return null;var r=n._languageByParamName[e];return r&&(r.stringify&&(t=r.stringify(t)),-1!==(t=t.replace(/"/g,'\\"')).indexOf(" ")&&(t='"'.concat(t,'"')),e=r.keywords[0]),"".concat(e,":").concat(t)},this.getAdvanced=function(e){if(n._languageByParamName[e].customGetter)return n._languageByParamName[e].customGetter();var t=n.parsedQuery[e];return t&&t.value||null},this.foldersStore=r,this.labelsStore=i,this.searchStore=s,this.services=Object(c.a)()}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(e,[{key:"_removeFilterFromQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._languageByParamName[e].customRemover)return this._languageByParamName[e].customRemover();t=t||this.parsedQuery,n=n||this.searchStore.searchQuery.currentShowText;var r=t[e];return r?(n.substr(0,r.start)+n.substr(r.start+r.length)).replace(/  +/g," ").trim():n}},{key:"_refineValue",value:function(e){return e.replace(/^"(.*)"$/,"$1").replace(/\\"/g,'"')}},{key:"_getFilterValueFromString",value:function(e,t){return t=this._refineValue(t),e.parseValue?e.parseValue(t):t}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=this.searchStore.searchQuery,o=i.currentShowText,a=this._parseQuery(o);n.forEach(Object(s.action)(function(t,r){var i=t.name,s=t.value;if((a[i]||e._languageByParamName[i].customRemover)&&(o=e._removeFilterFromQuery(i,a,o),a=e._parseQuery(o)),s||""===s){o=o.replace(/ *[a-z-\-]+\: *$/,"");var l=e.convertFilterToQueryString(i,s);o=o?o.trim()+" "+l:l}o&&(o+=" "),r<n.length-1&&(a=e._parseQuery(o))})),i.currentSuggestText=i.currentShowText=o}},{key:"_languageByParamName",get:function(){return Object(l.a)(this.language,function(e){return e.paramName})}},{key:"parsedQuery",get:function(){return{}}}]),e}()).prototype,"parsedQuery",[s.computed],Object.getOwnPropertyDescriptor(r.prototype,"parsedQuery"),r.prototype),f(r.prototype,"setMultipleAdvanced",[s.action],Object.getOwnPropertyDescriptor(r.prototype,"setMultipleAdvanced"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce(function(e,r){return e[t(r)]=n?n(r):r,e},{})}},function(e,t,n){"use strict";var r=n(3237);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(403);n.n(r);function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n=t.themesStore,r=t.generalThemesBridge;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.themesStore=n,this._generalThemesBridge=r}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"setTheme",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.themesStore.isGeneralThemeExists(t)){e.next=4;break}return e.next=3,this._generalThemesBridge.enableTheme(t);case 3:return e.abrupt("return",ns.action.run("trigger-theme-redraw",{themeId:t}));case 4:if(this.themesStore.isThemeExist(t)){e.next=6;break}return e.abrupt("return");case 6:return"colorful"===t&&(n=ns.Model.get("settings"),(i=n.getSetting("colorful-theme-skin"))&&i!==r.DEPRECATED_COLORFUL_SKIN||n.setSettings({"colorful-theme-skin":r.DEFAULT_COLORFUL_SKIN})),e.next=9,ns.action.run("change-theme",{themeId:t});case 9:if(!this.themesStore.isGeneralThemeExists(this.themesStore.currentTheme)){e.next=12;break}return e.abrupt("return",this._generalThemesBridge.disableTheme());case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"enableVideoBg",value:function(){return this._generalThemesBridge.enableVideoBg()}},{key:"disableVideoBg",value:function(){return this._generalThemesBridge.disableVideoBg()}},{key:"setScope",value:function(e){var t=ns.Model.get("themes").getCurrentTheme(),n=ns.Model.get("settings");"theme-colorful"===t.id&&n.setSettings({"colorful-theme-skin":e}),"theme-seasons"===t.id&&n.setSettings({currentScope:e}),t.saveScope(e),t.removeSavedSkin(),t.updateCurrentSkin(!0),ns.page.go()}},{key:"isVideoBgEnabled",get:function(){return this._generalThemesBridge.isVideoBgEnabled()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function e(t){var n=this,r=t.themesSelectorStore;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.openThemeSelector=function(){n.themesSelectorStore.model.open(),ns.page.go()},this.themesSelectorStore=r}},function(e,t,n){"use strict";var r,i=n(135),o=n.n(i),a=n(139),s=n.n(a),l=n(1018),c=n(360),u=n(3240);n.n(u);function d(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f={create:function(e){f.create=function(){};var t=document.createElement("div");document.body.appendChild(t),window.addEventListener("mousedown",i);var n=null;return{setAnchor:function(e){n!==e&&(n=e,u(!0),a(" "))},close:r};function r(){u(!1),window.removeEventListener("mousedown",i),setTimeout(function(){s.a.unmountComponentAtNode(t),document.body.removeChild(t),e()},200)}function i(e){var t=e.target;t&&(a(t.dataset.promoPopularContactsMetrika||"   "),r())}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Jane.c([" ",e])}function u(e){var r={cls:"promo-popular-contacts",theme:"normal",target:"anchor",anchor:n,visible:e,hasTail:!0};s.a.render(o.a.createElement(l.a,r,d("div",{className:"promo-popular-contacts-message","data-promo-popular-contacts-metrika":"  "},void 0,d(c.default,{id:"mail--Close16",cls:"promo-popular-contacts-close",data:{"data-promo-popular-contacts-metrika":"   "}}),i18n("%Compose_promo_popular_contacts"))),t)}}};t.a=f},function(e,t){},function(e,t,n){"use strict";var r=n(135),i=n.n(r),o=n(139),a=n.n(o),s=n(3242),l=n(556),c=n(447),u=n(350),d=n(548),f=n(396),p=(n.n(f),n(1536)),g=(n.n(p),n(1537));n.n(g);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={openPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=e.email,r=document.createElement("div");document.body.appendChild(r);var o={isDark:Object(l.isDarkContent)(),onClose:function(){r&&(a.a.unmountComponentAtNode(r),document.body.removeChild(r),r=null,ns.events.trigger("daria:unsubscribe-popup:hide"))},onReload:function(){p.SubscriptionCountersStore.instance().forceUpdate(),g.PendingSubscriptionsStore.instance().forceUpdate()},page:t,email:n,linkToMailPro:Object(u.getLinkToMailPro)("manage_subscriptions"),onHelp:function(){window.open("".concat(c.helpUrl,"/web/preferences/manage-subscriptions.html#opt-in"),"_blank")},onChoosePlan:function(){},onOptInEnable:function(){d.a.instance().setSettings(m({},f.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,"on")),p.SubscriptionCountersStore.instance().clearData()},onOptInDisable:function(){d.a.instance().setSettings(m({},f.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,""))}};a.a.render(i.a.createElement(s.a,o),r)}};t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(1025),c=n(3243),u=(n.n(c),n(1140));function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={CLOSE:"subscriptions.close",READY:"subscriptions.DOMReady",RELOAD:"subscriptions.reload",API_ERROR:"subscriptions.apiError",NETWORK_ERROR:"subscriptions.networkError",CHOOSE_PLAN:"subscriptions.choosePlan",HELP:"subscriptions.help",OPT_IN_ENABLE:"subscriptions.optinEnable",OPT_IN_DISABLE:"subscriptions.optinDisable"},b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=p(this,(e=g(t)).call.apply(e,[this].concat(i)))).onClose=function(){return n.props.onClose()},n._formFrameListener=function(e){switch(e.data){case v.READY:n._setSubscriptionsConfig();break;case v.RELOAD:n._onSubscriptionFolderReload();break;case v.CLOSE:n._onClose();break;case v.API_ERROR:case v.NETWORK_ERROR:n._onError();break;case v.CHOOSE_PLAN:n._onChoosePlan();break;case v.HELP:n._onHelp();break;case v.OPT_IN_ENABLE:n.props.onOptInEnable&&n.props.onOptInEnable();break;case v.OPT_IN_DISABLE:n.props.onOptInDisable&&n.props.onOptInDisable()}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){return h(l.a,{autoclosable:!0,cls:"mail-SubscriptionsPopup",theme:"normal",visible:!0,onClose:this.onClose},void 0,h("div",{className:"mail-SubscriptionsPopup_dialog"},void 0,h("iframe",{className:"js-subscriptions-frame",frameBorder:"0",src:["/subs/".concat(this.props.page||""),this.props.email?"/".concat(this.props.email):"","?platform=web","&locale=".concat(Daria.locale),"&noHistory=1","&optinExp=".concat(Object(u.isOptInSubscriptionsVisible)()?1:0),"&connectionId=".concat(Daria.Config.connection_id),Daria.Config.uid?"&uid=".concat(Daria.Config.uid):"",this.props.isDark?"&darkTheme=1":""].join("")})))}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._formFrameListener),$.Shortcuts.modalListOn("subscriptions-popup"),ns.events.on("daria:unsubscribe-popup:hide",this._onClose.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._formFrameListener),$.Shortcuts.modalListOff("subscriptions-popup"),ns.events.off("daria:unsubscribe-popup:hide",this._onClose)}},{key:"_setSubscriptionsConfig",value:function(){var e={uid:Daria.uid,client:"liza",choosePlanUrl:this.props.linkToMailPro};$(".js-subscriptions-frame")[0].contentWindow.subscriptions.setConfig(e)}},{key:"_onSubscriptionFolderReload",value:function(){this.props.onReload()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onError",value:function(){this.props.onClose()}},{key:"_onChoosePlan",value:function(){this.props.onChoosePlan&&this.props.onChoosePlan()}},{key:"_onHelp",value:function(){this.props.onHelp&&this.props.onHelp()}}]),t}();b.propTypes={isDark:s.a.bool.isRequired,onClose:s.a.func.isRequired,onReload:s.a.func.isRequired,linkToMailPro:s.a.string.isRequired,onChoosePlan:s.a.func,onHelp:s.a.func,onOptInEnable:s.a.func,onOptInDisable:s.a.func,page:s.a.oneOf(["pending","active","hidden"]),email:s.a.string}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,i=n(135),o=(n.n(i),n(139)),a=n.n(o),s=n(375),l=n(3245);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rootNode=null}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}(e,[{key:"_initRootNode",value:function(){this.rootNode||(this.rootNode=document.createElement("div"),document.body.appendChild(this.rootNode))}},{key:"showPromo",value:function(e,t,n){this._initRootNode(),a.a.render(u(s.default,{lang:Daria.locale},void 0,u(l.a,{anchor:e,onClosePromo:n,scope:t,visible:!0})),this.rootNode)}},{key:"hidePromo",value:function(){this.rootNode&&a.a.unmountComponentAtNode(this.rootNode)}}]),e}()},function(e,t,n){"use strict";var r=n(3246);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r,i=n(135),o=n.n(i),a=n(339),s=n.n(a),l=n(338),c=n.n(l),u=n(569),d=n(344),f=n(3247);n.n(f);function p(e){"@babel/helpers - typeof";return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,h(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.cls,r=e.onClosePromo,i=e.scope,o=e.visible;if(!t||!i)return null;var a=s()("mail-Compose-BetaPromo",n);return b(u.a,{theme:"promo",tone:"default",size:"m",cls:a,visible:o,anchor:t,scope:i,to:["top-right"],popupProps:{hiding:!0,mainOffset:0,secondaryOffset:-8,style:{position:"absolute"},tailOffset:8}},void 0,b(u.a.Close,{onClick:r}),b(u.a.Description,{},void 0,b(d.default,{loc:Daria.isReactiveCompose()?"compose-react/Promo_EnableOldCompose":"compose-react/Promo_EnableNewCompose"})))}}]),t}();_.propTypes={anchor:c.a.object,cls:c.a.string,onClosePromo:c.a.func.isRequired,scope:c.a.object,visible:c.a.bool.isRequired}},function(e,t){},function(e,t,n){"use strict";var r=n(135),i=n.n(r),o=n(139),a=n.n(o),s=n(3249);t.a={openPopup:function(e){var t=e.onOk,n=document.createElement("div");document.body.appendChild(n);var r={onOk:t,onClose:function(){n&&(a.a.unmountComponentAtNode(n),document.body.removeChild(n),n=null)}};a.a.render(i.a.createElement(s.a,r),n)}}},function(e,t,n){"use strict";var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(1025),c=n(763),u=n(393),d=n(375),f=n(350),p=n(3250),g=(n.n(p),n(3251)),m=n.n(g),h=n(344);function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var x="mail-YaCollectorEmailInputPopup",E="mail-YaCollectorEmailInputPopup_Content",T="mail-YaCollectorEmailInputPopup_Header",D="mail-YaCollectorEmailInputPopup_EmailInputWrapper",C="mail-YaCollectorEmailInputPopup_ControlPanel",P="mail-YaCollectorEmailInputPopup_ErrorIcon",k="mail-YaCollectorEmailInputPopup_ErrorText",A=M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_requiredField"}),I=M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_invalidEmail"}),j=M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_title"}),R=M("label",{},void 0,M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_emailField"})),F=M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_ok"}),L=M(h.default,{loc:"common-react/YaCollectorEmailInputPopup_cancel"}),B=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=S(this,(e=w(t)).call.apply(e,[this].concat(i)))).state={email:"",errorMessage:null},n.emailInputRef=o.a.createRef(),n.setEmailInputRef=function(e){return n.emailInputRef.current=e},n.onEmailChange=function(e){return n.setState({email:e})},n.onOk=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.email){e.next=4;break}return n.setState({errorMessage:A}),e.abrupt("return");case 4:return e.next=6,n.isYandexUser(t);case 6:if(e.sent){e.next=9;break}return n.setState({errorMessage:I}),e.abrupt("return");case 9:n.props.onOk({email:t}),n.props.onClose();case 11:case"end":return e.stop()}},e)})),n.isYandexUser=function(e){return ns.request("is-yandex-user",{email:e}).then(function(e){return"yes"===b(e,1)[0].get(".y")})},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,o.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.emailInputRef.current&&e.emailInputRef.current.focus()},0)}},{key:"renderErrorMessage",value:function(){var e=this.state.errorMessage;return e?M("div",{},void 0,M("img",{className:P,src:m.a}),M("div",{className:k},void 0,e)):null}},{key:"render",value:function(){var e=this.props.onClose,t=this.state.email;return M(d.default,{lang:Object(f.getLocale)()},void 0,M(l.a,{cls:x,autoclosable:!0,visible:!0,theme:"normal",onClose:e},void 0,M("div",{className:E},void 0,M("div",{className:T},void 0,j),M("div",{},void 0,M("div",{className:D},void 0,R,M(c.a,{innerRef:this.setEmailInputRef,theme:"normal",size:"xs",onChange:this.onEmailChange,text:t}),this.renderErrorMessage()),M("div",{className:C},void 0,M(u.a,{theme:"normal",size:"xs",onClick:this.onOk},void 0,F),M(u.a,{theme:"normal",size:"xs",onClick:e},void 0,L))))))}}]),t}();B.propTypes={onOk:s.a.func.isRequired,onClose:s.a.func.isRequired},t.a=B},function(e,t){},function(e,t,n){e.exports=n.p+"_/bf5cdd356233d8b8688ad3c30f8835d7-error.svg"},function(e,t,n){"use strict";n.d(t,"a",function(){return Me});var r,i,o,a,s=n(135),l=n.n(s),c=n(338),u=n.n(c),d=n(341),f=n(342),p=n(136),g=n.n(p),m=n(3253),h=n.n(m),v=n(3366),b=n.n(v),_=n(143),y=(n.n(_),n(140)),S=(n.n(y),n(347)),w=n(349),O=(n.n(w),n(350)),M=n(3368),x=n(3369),E=(n.n(x),n(382)),T=n(1187),D=n(841),C=n(1191),P=n(1189),k=n(624),A=n(548),I=n(1138),j=n(741),R=n(1193),F=n(512),L=n(414),B=n(3370),N=n(1564),U=n(3620),H=n(3623),W=n.n(H),V=n(3625),z=n.n(V),$=n(1571),q=n(394),G=n.n(q),K=n(3626),Y=n(375),X=n(743),J=n(3627),Q=n.n(J),Z=n(1572),ee=(n.n(Z),n(1573)),te=n.n(ee),ne=n(3629),re=n.n(ne),ie=n(447),oe=n(441);function ae(e){"@babel/helpers - typeof";return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function le(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){se(o,r,i,a,s,"next",e)}function s(e){se(o,r,i,a,s,"throw",e)}a(void 0)})}}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ge=".UserWidget-Iframe",me=Object(w.hasFeature)(w.Features.WEB_NEW_USER_BLOCK),he=Object(w.hasFeature)(w.Features.WEB_MAIL_DISABLE_ADV_NEW_OFFER),ve=Object(O.isCorp)()?te.a:Object(Z.withDefaultServices)(),be=b()(Q()(ve(h.a))),_e=pe(m.LogoCorp,{}),ye=pe(m.Logo360,{}),Se=pe(B.a,{}),we=pe(U.a,{}),Oe=pe(Object(f.inject)("accountInformationStore","contactSuggestStore","themesSelectorService","settingsStore","settingsService","servicesPopupStore","routerStore","themesStore","headUserStateStore","userDropdownDataStore","searchStore")(r=Object(f.observer)((o=i=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?de(e):t}(this,ue(t).call(this,e)))._disposer=new G.a,n._unreadCounterProvider=Object(S.getSupportWidgetData)().unreadCounter,n.state={isMounted:!1,showCounter:!1,supportChatCounter:0,showSupportChat:!1},n._onUserOpen=le(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.recalculateDialog(),(t=n.props.headUserStateStore).setNewLettersInMA(!1),L.default.forcedRequest("do-mail-reset-recent-counter"),n.updateUserAccountAvatarCounter(t.hasNewLettersInMA),e.next=7,n._sendNewCounters();case 7:n.onSupportContainerClose();case 8:case"end":return e.stop()}},e)})),n._sendNewCounters=le(regeneratorRuntime.mark(function e(){var t,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userDropdownDataStore,e.next=3,t.getUserAccountsCountersHash();case 3:r=e.sent,(i=t._getUserAccounts())&&i.length&&(o={},i.forEach(function(e){o[e.uid]=r[e.uid]}),a={methodCall:"onUpdateMailCounters",params:[o]},n.sendUserMessage(a));case 6:case"end":return e.stop()}},e)})),n.sendUserMessage=function(e){n.userIframe||(n.userIframe=document.querySelector(ge));var t=JSON.stringify(e);n.userIframe&&n.userIframe.contentWindow.postMessage(t,"*")},n.onMenuItemClick=function(e,t,r){if("get-premium360"===e||"premium360"===e)return he&&n.onUserIdPremiumClick();"help"===e&&(n.setState({showSupportChat:!0}),r.onClose())},n._renderLogo=function(){return Object(O.isCorp)()?_e:Object(O.hasSid)(122)||Object(O.isB2BUser)()?pe(m.Logo360,{onClick:n._onCurrentServiceClick}):ye},n._onMorePopupChangeVisibility=n._onMorePopupChangeVisibility.bind(de(n)),n.onSupportContainerClose=n.onSupportContainerClose.bind(de(n)),n.onSupportCounterChange=n.onSupportCounterChange.bind(de(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,l.a.PureComponent),function(e,t,n){t&&ce(e.prototype,t),n&&ce(e,n)}(t,[{key:"onSupportCounterChange",value:function(e){var t=e.value;this.setState({supportChatCounter:t||0})}},{key:"componentDidMount",value:function(){var e=this.props.headUserStateStore;this._unreadCounterProvider.lastValue&&this.setState({supportChatCounter:this._unreadCounterProvider.lastValue.value||0}),this._unreadCounterProvider.onChanged.addListener(this.onSupportCounterChange),this.userAccountAvaNode=document.querySelector(".user-account__pic"),this.userNode=document.querySelector(".user-account"),this.userBlock=document.querySelector(".legouser"),this.updateUserAccountAvatarCounter(e.hasNewLettersInMA),this._disposer.add(this,[this._createXivaUpdateUserCountersReaction(),this._createXivaUpdateNewLettersReaction()]),me?this._sendNewCounters():(this._disposer.addEventListener(this,{element:this.userNode,eventName:"mousedown",listener:this._onClickOnUser.bind(this)}),this._disposer.addEventListener(this,{element:this.userBlock,eventName:"mousedown",listener:this._onMetricClick.bind(this)}));var t=Object(K.a)(this.props.userDropdownDataStore);t&&this._disposer.add(this,[t]),this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){this._disposer.disposeAll(),this._unreadCounterProvider.onChanged.removeListener(this.onSupportCounterChange)}},{key:"_createXivaUpdateUserCountersReaction",value:function(){var e=this,t=this.props,n=t.headUserStateStore,r=t.userDropdownDataStore;return Object(d.reaction)(function(){return r.userCountersHash},function(){e.updateUserAccountAvatarCounter(n.hasNewLettersInMA)})}},{key:"_createXivaUpdateNewLettersReaction",value:function(){var e=this,t=this.props.headUserStateStore;return Object(d.reaction)(function(){return t.hasNewLettersInMA},function(){e.updateUserAccountAvatarCounter(t.hasNewLettersInMA)})}},{key:"updateUserAccountAvatarCounter",value:function(e){me?this.setState({showCounter:e}):e?this.userAccountAvaNode.classList.add("is-updated"):this.userAccountAvaNode.classList.remove("is-updated")}},{key:"_onClickOnUser",value:function(){var e=le(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.headUserStateStore,r=t.userDropdownDataStore,n.setNewLettersInMA(!1),L.default.forcedRequest("do-mail-reset-recent-counter"),this.updateUserAccountAvatarCounter(n.hasNewLettersInMA),e.next=6,r.getUserAccountsCountersHash();case 6:i=e.sent,o=this._getUserAccountsNodesWithUid(),Array.prototype.slice.call(o).forEach(function(e){var t=a._getUserAccountNodeUid(e);if(t){var n=e.getElementsByClassName("counterLabel")[0];if(!n){var r=document.createElement("div");r.classList.add("counterLabel","is-hidden"),e.querySelector(".user-pic").appendChild(r),n=r}i[t]>0&&(n.classList.remove("is-hidden"),n.innerText=i[t])}});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_onMetricClick",value:function(e){var t=Object(M.a)(e.target,"count-me");if(t){var n={};try{n=JSON.parse(t.dataset.count)}catch(e){n=t.dataset.count}Object($.countMetrikaFn)(n.name,n)}}},{key:"_getUserAccountNodeUid",value:function(e){return g.a.get(JSON.parse(e.getAttribute("data-bem")),".legouser__account.uid")}},{key:"_getUserAccountsNodesWithUid",value:function(){var e=this,t=document.querySelectorAll(".PSHeader .legouser__popup .legouser__multi-auth .legouser__account");return Array.prototype.slice.call(t).filter(function(t){return Boolean(e._getUserAccountNodeUid(t))})}},{key:"_maybeRenderRightContent",value:function(){return this.state.isMounted?Se:null}},{key:"onSupportContainerClose",value:function(){this.setState({showSupportChat:!1})}},{key:"recalculateDialog",value:function(){var e=document.querySelector(".UserID-Avatar"),t=document.querySelector(".UserWidget-Dialog");if(e&&t){var n=document.documentElement.clientHeight-e.getBoundingClientRect().bottom-30;t.style.maxHeight="".concat(n,"px")}}},{key:"onUserIdPremiumClick",value:function(){Object(S.getTuningPopupBridge)().show()}},{key:"render",value:function(){var e=this.props,t=e.routerStore,n=e.searchStore,r=e.contactSuggestStore,i=e.settingsService,o=t.isAbookPage,a=Object(S.getSupportChat)(),s=null;o?s=we:t.isSetupPage&&i.isCompactHeaderMode||(s=Object(N.b)());var c=Object(O.getConfig)(),u=[{text:i18n("%Yandex_homepage"),url:c["morda-url"],action:"homepage"}];Object(O.isCorp)()?u.unshift({text:i18n("%ServiceTabs_staff"),url:c["staff-host"],action:"staff"}):this.props.settingsStore.hideYandexJobs||u.unshift({text:i18n("%Hiring_long"),url:"".concat(c["hiring-url"],"?from=mail_account"),action:"hiring"});var d=t.isAbookPage?!r.isFolded:!n.isFolded,f=this.props.accountInformationStore.isB2BUser,p=this.props.settingsStore.hideB2cTariffPromo,g=!(c.hasProSubscription||p||Object(O.isCorp)()||f),m={links:ie.headerServicesLinks,corpLinks:ie.headerServicesLinks,currentService:"Mail",showDocuments:c.headerWithDocs,onCurrentServiceClick:this._onCurrentServiceClick,onMorePopupChangeVisibility:this._onMorePopupChangeVisibility,theme:this._getTheme(),popupTheme:this._getPopupTheme(),subscriptionButtonTheme:this._getButtonSkin(),LegoButton:y.Button,LegoPopup:_.Popup,freeBadgeSettings:{active:g,features:["FreeBadgeFeatureGpt","FreeBadgeFeatureDisk","FreeBadgeFeatureAd"],ctaUrl:"".concat(c["yandex360-url"],"/premium-plans?from=mail-header-tooltip"),useFallback:!0},allServicesLink:!Object(O.isCorp)()&&c["all-url"],timeZone:c.timeZone,leftContent:s,searchOpened:d,rightContent:this._maybeRenderRightContent(),tld:c.domain,lang:Object(O.getLocale)(),userProps:{uid:Object(O.getUid)(),name:c.headerUserName,avatarId:c.avatarId,yu:Object(O.getYandexUid)(),avatarHost:c["avatar-host"],retpath:c["origin-url"],yaplusAvailable:!p&&!Object(O.isCorp)(),hasPlus:Object(O.hasPlus)(),noCounter:!0,helpUrl:c["help-url"],accountsUrl:c["accounts-url"],customMenuItems:u,loggedByLink:!0,loggedByLinkRetpath:c["origin-url"],subname:c.headerUserSubname,isInternal:Object(O.isCorp)(),counterVariant:"dot",showCounter:this.state.showCounter,onOpen:this._onUserOpen,avatarSize:null,onMenuItemClick:this.onMenuItemClick,queryParams:he?{"yandex360.customSupportClick":"1","yandex360.customPremium360Click":"1"}:{"yandex360.customSupportClick":"1"}},isMailUserBlock:!0,isB2bAdmin:this.props.accountInformationStore.data.isAdmin,isB2bUser:f,isPDD:O.isPDD,countMetrikaFn:function(e,t){if(!i.isCompactHeaderMode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];$.countMetrikaFn.apply(void 0,r)}},customLogoUrl:c.customLogoImageUrl,customLogoTitle:"",getI18nFn:function(e,t){return Object(O.getTranslations)()[e]["mail-liza"]["ps-header"][t]()},yandex360Link:p||f||Object(O.hasSid)(122)?"/":c["yandex360-url"],hideTuning:p,showFan:f,onlyUserHTMLInSSR:!0,useLegoV3:!0,renderLogo:this._renderLogo,onLogoClick:this._onCurrentServiceClick,useUserID:me,morePopupProps:{enableFocusTrap:!0},premiumAvailableTlds:["kz","by"],supportChatCounter:this.state.supportChatCounter,onUserIdPremiumClick:this.onUserIdPremiumClick},h="".concat(ie.headerServicesLinks.Wiki,"/HR/NDA");return l.a.createElement(l.a.Fragment,null,l.a.createElement(be,m),Object(O.isCorp)()&&pe("a",{className:re.a.ndaStamp,href:h}),!Object(O.isCorp)()&&this.state.showSupportChat&&pe(a,{onClose:this.onSupportContainerClose}))}},{key:"_onCurrentServiceClick",value:function(e){e.preventDefault(),Object(O.runAction)("mailbox.check")}},{key:"_onMorePopupChangeVisibility",value:function(e){this.props.servicesPopupStore.toggle(e)}},{key:"_getTheme",value:function(){var e=this.props.themesStore;return W()(e.currentTheme,e.currentSkin,"page")}},{key:"_getPopupTheme",value:function(){var e=this.props.themesStore;return W()(e.currentTheme,e.currentSkin,"content")}},{key:"_getButtonSkin",value:function(){var e=this.props.themesStore;return z()(e.currentTheme,e.currentSkin)}}]),t}(),i.propTypes={accountInformationStore:u.a.instanceOf(T.a).isRequired,contactSuggestStore:u.a.instanceOf(D.a).isRequired,headUserStateStore:u.a.instanceOf(P.a).isRequired,servicesPopupStore:u.a.instanceOf(C.a).isRequired,searchStore:u.a.instanceOf(k.a).isRequired,settingsStore:u.a.instanceOf(X.c).isRequired,settingsService:u.a.instanceOf(A.a).isRequired,themesSelectorService:u.a.instanceOf(I.a).isRequired,routerStore:u.a.instanceOf(j.a).isRequired,themesStore:u.a.instanceOf(oe.ThemesStore).isRequired,userDropdownDataStore:u.a.instanceOf(R.a).isRequired},r=o))||r)||r,{}),Me=function(){var e={contactSuggestStore:Object(E.getContactSuggestStore)(),accountInformationStore:Object(E.getAccountInformationStore)(),routerStore:Object(E.getRouterStore)(),themesSelectorService:Object(F.getThemesSelectorService)(),themesStore:oe.ThemesStore.instance(),routerService:Object(F.getRouterService)(),servicesPopupStore:Object(E.getServicesPopupStore)(),settingsService:Object(F.getSettingsService)(),settingsStore:Object(E.getSettingsStore)(),settingsSelectorStore:Object(E.getSettingsSelectorStore)(),searchLogService:Object(F.getSearchLogService)(),searchStore:Object(E.getSearchStore)(),userDropdownDataStore:Object(E.getUserDropdownDataStore)(),headUserStateStore:Object(E.getHeadUserStateStore)()};return pe(Y.default,{lang:Object(O.getLocale)()},void 0,l.a.createElement(f.Provider,e,Oe))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){for(var n=e;n&&!n.classList.contains(t);)n=n.parentElement;return n}},function(e,t){},function(e,t,n){"use strict";var r=n(3371);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r,i,o,a,s=n(135),l=(n.n(s),n(338)),c=n.n(l),u=n(342),d=n(3372),f=(n.n(d),n(1138)),p=n(1192),g=n(3556);n.n(g);function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.NewSettings,{}),S=Object(u.inject)("themesSelectorService","settingsSelectorStore")(r=Object(u.observer)((o=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,b(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,s["PureComponent"]),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"render",value:function(){return y}}]),t}(),i.propTypes={themesSelectorService:c.a.instanceOf(f.a).isRequired,settingsSelectorStore:c.a.instanceOf(p.a).isRequired},r=o))||r)||r},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewSettings=void 0;var s=o(n(135)),l=n(342),c=a(n(339)),u=n(140),d=n(1088),f=a(n(360)),p=n(3373),g=n(3522),m=n(350),h=a(n(353)),v=a(n(3555)),b=n(177),_=a(n(375));t.NewSettings=l.observer(function(){var e,t=s.useRef(null),n=g.useSettingsPopupStore(),r=n.isPopupVisible,i=n.setPopupVisible,o=n.isAllThemesVisible,a=n.setAllThemesVisible,l=s.useCallback(function(){return i(!r)},[i,r]),y=s.useCallback(function(){return i(!1)},[i]),S=s.useCallback(function(e){var t=e.target;t.classList.contains("mail-Region-Autocompleter_inner")||t.classList.contains("mail-Region-Autocompleter-List-Item")||y()},[y]),w=s.useMemo(function(){return{showAllThemes:o,setShowAllThemes:a}},[o,a]),O=g.useSettings(),M=g.useThemes(),x=g.usePromo(),E=!m.isCorp()&&Object.values(x.promos).some(function(e){return e.isNew}),T=s.useRef(document.querySelector(".js-mail-layout")),D=s.useMemo(function(){return E?h.default("settings-popup-react/popupTitle")+", "+h.default("settings-popup-react/popupNewPromosTitle"):h.default("settings-popup-react/popupTitle")},[E]);return s.default.createElement(_.default,{lang:m.getLocale()},s.default.createElement(u.Button,{className:c.default("mail-GhostButton","mail-SettingsButton","promozavr-anchor-settingsButton"),view:"clear",onClick:l,innerRef:t,"aria-label":D,icon:function(){return s.default.createElement("span",{className:c.default(v.default.icon)},s.default.createElement(f.default,{id:"mail--Yandex-header_settings"}),E&&s.default.createElement("span",{className:v.default.badge},s.default.createElement(b.Badge,{outlineColor:"var(--badge-fill-color)"})))}}),s.default.createElement(d.Popup,{className:c.default(v.default.popup,(e={},e[v.default.dark]=M.isDark,e)),view:"default",visible:r,target:"anchor",anchor:t,hasTail:!0,tailSize:22,direction:"bottom",onClose:S,modifiers:[{name:"hide",enabled:!1}],keepMounted:!1,enableFocusTrap:!0,role:"dialog","aria-label":h.default("settings-popup-react/popupTitle"),boundary:T},s.default.createElement(p.MailSettings,{view:w,settings:O,themes:M,promo:x,onClose:y})))}),window.ReactClientBridge&&window.ReactClientBridge.headerSettingsPromise.resolve(t.NewSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsPopupProps=t.MailSettings=void 0;var r=n(3374);Object.defineProperty(t,"MailSettings",{enumerable:!0,get:function(){return r.MailSettings}}),Object.defineProperty(t,"MailSettingsPopupProps",{enumerable:!0,get:function(){return r.MailSettingsPopupProps}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettings=void 0;var s=o(n(135)),l=n(342),c=a(n(339)),u=n(398),d=n(389),f=n(3379),p=n(3383),g=n(3514),m=n(513),h=a(n(1161));t.MailSettings=l.observer(function(e){var t,n=e.view,r=e.settings,i=e.themes,o=e.promo,a=e.onClose,l=n.showAllThemes,v=n.setShowAllThemes,b=s.useRef(null),_=s.useRef(null),y=s.useCallback(function(){v(!0),setTimeout(function(){b.current&&b.current.focus()},100),m.logPopupMetric([u.HEADER_METRIKA_SHOW_ALL_THEMES])},[v]),S=s.useCallback(function(){v(!1),setTimeout(function(){_.current&&_.current.focus()},100),m.logPopupMetric([u.HEADER_METRIKA_HIDE_ALL_THEMES])},[v]);return s.useEffect(function(){return m.logPopupMetric(),function(){return v(!1)}},[v]),s.default.createElement(d.SettingsContext.Provider,{value:r},s.default.createElement(d.ThemesContext.Provider,{value:i},s.default.createElement(d.PromoContext.Provider,{value:o},s.default.createElement("div",{className:h.default.root},s.default.createElement(f.SettingsHeader,{onClose:a}),s.default.createElement("div",{className:c.default(h.default.container,(t={},t[h.default.showAllThemes]=l,t))},s.default.createElement(p.MailSettingsMain,{buttonRef:_,onShowAllThemes:y,closePopup:a}),s.default.createElement(g.MailSettingsThemes,{onHide:S,buttonRef:b}))))))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_OFF=t.STATE_ON=t.PROMO_DISABLE_AD=t.PROMO_BEAUTIFUL_EMAIL=t.FREE_USER=t.PAID_USER=t.PREMIUM_USER=t.ONBOARDING_BEAUTIFUL_EMAIL_METRIKA=t.OPT_IN_SUBSCRIPTIONS_METRIKA=t.BUY_PRO_BUTTON=t.HEADER_METRIKA_LOGO_360=t.HEADER_METRIKA_LOGO_SERVICE=t.HEADER_METRIKA_LOGO_BASE=t.HEADER_METRIKA_LOGO=t.SHOW=t.CLICK=t.HEADER_METRIKA_USER_MENU_SWITCH_USER=t.HEADER_METRIKA_USER_MENU=t.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER=t.HEADER_METRIKA_USER_MESSAGES_COUNT=t.HEADER_METRIKA_USER_NO_MESSAGES=t.HEADER_METRIKA_USER_HAS_MESSAGES=t.HEADER_METRIKA_USER_POPUP=t.HEADER_METRIKA_TOGGLE_VIDEO_BG=t.HEADER_METRIKA_CHANGE_THEME=t.HEADER_METRIKA_HIDE_ALL_THEMES=t.HEADER_METRIKA_SHOW_ALL_THEMES=t.HEADER_METRIKA_CHANGE_LAYOUT=t.HEADER_METRIKA_MAIN_SETTING=t.HEADER_METRIKA_SETTINGS_ALL=t.HEADER_METRIKA_SETTINGS_OPEN=t.HEADER_METRIKA_SETTINGS=t.HEADER_METRIKA_NAV_NAMES=t.HEADER_METRIKA_EXTRA_NAMES=t.HEADER_METRIKA_SIMPLE_SERVICES=t.HEADER_METRIKA_SERVICES=t.HEADER_METRIKA_RIGHT=t.HEADER_METRIKA_LEFT=t.YANDEX_HEADER_PREFIX=void 0,t.YANDEX_HEADER_PREFIX="Yandex header PRO",t.HEADER_METRIKA_LEFT="Login header.Left part",t.HEADER_METRIKA_RIGHT="Login header.Right part",t.HEADER_METRIKA_SERVICES="Portal navigation/Services",t.HEADER_METRIKA_SIMPLE_SERVICES="Services",t.HEADER_METRIKA_EXTRA_NAMES={all:"All services",calendar:"Calendar",disk:"Disk",mail:"Mail PRO",notes:"Notes",concept:"Concept",telemost:"Telemost",staff:"Staff"},t.HEADER_METRIKA_NAV_NAMES={inbox:"Inbox",contacts:"Contacts"},t.HEADER_METRIKA_SETTINGS="Settings",t.HEADER_METRIKA_SETTINGS_OPEN="Opening settings popup",t.HEADER_METRIKA_SETTINGS_ALL="Click on 'All settings'",t.HEADER_METRIKA_MAIN_SETTING="Click on one of main settings",t.HEADER_METRIKA_CHANGE_LAYOUT="Change layout",t.HEADER_METRIKA_SHOW_ALL_THEMES="Show all themes",t.HEADER_METRIKA_HIDE_ALL_THEMES="Hide all themes",t.HEADER_METRIKA_CHANGE_THEME="Change theme",t.HEADER_METRIKA_TOGGLE_VIDEO_BG="Video background",t.HEADER_METRIKA_USER_POPUP="Menu behind login",t.HEADER_METRIKA_USER_HAS_MESSAGES="Has new messages",t.HEADER_METRIKA_USER_NO_MESSAGES="No new messages",t.HEADER_METRIKA_USER_MESSAGES_COUNT="Messages count",t.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER=" messages",t.HEADER_METRIKA_USER_MENU={"add-account":"Add user",passport:"Account settings","change-password":"Change password","footer-help":"Help and feedback",exit:"Sign out of Yandex services",homepage:"Yandex home page",plus:"Yandex Plus",staff:"Staff",hiring:"Hiring"},t.HEADER_METRIKA_USER_MENU_SWITCH_USER="Switch user",t.CLICK="Click",t.SHOW="Show",t.HEADER_METRIKA_LOGO="Logo",t.HEADER_METRIKA_LOGO_BASE='Click on "Yandex"',t.HEADER_METRIKA_LOGO_SERVICE='Click on "Mail"',t.HEADER_METRIKA_LOGO_360='Click on "360"',t.BUY_PRO_BUTTON="Buy PRO button",t.OPT_IN_SUBSCRIPTIONS_METRIKA="Opt-in subscriptions",t.ONBOARDING_BEAUTIFUL_EMAIL_METRIKA="Onboarding beautiful email",t.PREMIUM_USER="premium user",t.PAID_USER="paid user",t.FREE_USER="free user",t.PROMO_BEAUTIFUL_EMAIL="Promo Beautiful Email",t.PROMO_DISABLE_AD="Promo Disable Ad",t.STATE_ON="on",t.STATE_OFF="off"},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsContext=t.SettingsContext=void 0;var a=o(n(135));t.SettingsContext=a.default.createContext({});t.useSettingsContext=function(){return a.useContext(t.SettingsContext)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemesContext=t.ThemesContext=void 0;var a=o(n(135));t.ThemesContext=a.default.createContext({});t.useThemesContext=function(){return a.useContext(t.ThemesContext)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromoContext=t.PromoContext=t.PromoType=void 0;var a=o(n(135)),s=n(136);!function(e){e.BEAUTIFUL_EMAIL="setup-beautiful-email",e.SUBSCRIPTIONS="setup-unsubscribe-filters",e.DISABLE_AD="disable-ad"}(t.PromoType||(t.PromoType={})),t.PromoContext=a.default.createContext({beautifulEmail:"",openSubscribesSettings:s.noop,optinEnabled:!1,promos:{},markPromoViewed:s.noop});t.usePromoContext=function(){return a.useContext(t.PromoContext)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var r=n(3380);Object.defineProperty(t,"SettingsHeader",{enumerable:!0,get:function(){return r.SettingsHeader}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var s=o(n(135)),l=a(n(339)),c=n(398),u=a(n(344)),d=n(138),f=n(140),p=n(513),g=a(n(3381)),m=a(n(3382)),h=n(1557);t.SettingsHeader=function(e){var t=e.onClose,n=s.useCallback(function(e){return s.default.createElement("div",{className:l.default(m.default.icon,e)},s.default.createElement(g.default,{width:"16"}))},[]),r=s.useCallback(function(){p.logPopupMetric([c.HEADER_METRIKA_SETTINGS_ALL]),t()},[t]),i=h.getConfigurePermission();return s.default.createElement("div",{className:m.default.container},s.default.createElement(d.Text,{className:m.default.header,typography:"subheader-s",as:"h1",weight:"medium",color:"primary"},s.default.createElement(u.default,{loc:"settings-popup-react/popupTitle"})),i&&s.default.createElement(f.Button,{view:"clear",size:"s",type:"link",url:"#setup",iconRight:n,onClick:r,className:m.default.button},s.default.createElement(d.Text,{weight:"medium",typography:"body-long-m"},s.default.createElement(u.default,{loc:"settings-popup-react/allSettingsButton"}))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.045 6.941l-3.403-3.408a.672.672 0 00-.947 0c-.26.26-.26.68 0 .94l1.543 1.543c.508.509 1.07.96 1.675 1.349l-.165.164a10 10 0 00-1.97-.196H2a.667.667 0 000 1.334h8.779a10 10 0 001.969-.196l.165.165a9.996 9.996 0 00-1.675 1.348l-1.543 1.543c-.26.26-.26.68 0 .94.26.26.687.26.947 0l3.403-3.408a1.497 1.497 0 000-2.118z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={container:"SettingsHeader__container--1ufpD",header:"SettingsHeader__header--2GaJk",button:"SettingsHeader__button--1qYzu",icon:"SettingsHeader__icon--msPHR"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsMain=void 0;var i=r(n(135)),o=n(350),a=n(3384),s=n(3482),l=n(3508),c=n(346),u=r(n(1161));t.MailSettingsMain=function(e){var t=e.onShowAllThemes,n=e.closePopup,r=e.buttonRef;return i.default.createElement("div",{className:u.default.main},!o.isCorp()&&!c.getMailboxUid()&&i.default.createElement(i.default.Fragment,null,i.default.createElement(l.SettingsPromo,{closePopup:n})),i.default.createElement(a.SettingsDisplay,null),i.default.createElement(s.SettingsThemes,{buttonRef:r,onShowAll:t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var r=n(3385);Object.defineProperty(t,"SettingsDisplay",{enumerable:!0,get:function(){return r.SettingsDisplay}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var l=o(n(135)),c=n(396),u=n(398),d=s(n(344)),f=n(389),p=n(1156),g=n(3388),m=n(3391),h=n(513),v=s(n(3475)),b=s(n(3476)),_=s(n(3477)),y=s(n(3478)),S=s(n(3479)),w=s(n(3480)),O=s(n(3481)),M=s(n(353)),x=n(491),E=function(){var e=f.useThemesContext().isDark,t=f.useSettingsContext(),n=t.settings,r=t.setSettings,i=l.useCallback(function(e){r({layout:e}),h.logPopupMetric([u.HEADER_METRIKA_CHANGE_LAYOUT])},[r]),o=l.useCallback(function(e){return function(){return i(e)}},[i]),s=a(e?[b.default,y.default,w.default]:[v.default,_.default,S.default],3),p=s[0],m=s[1],x=s[2];return l.default.createElement("div",{className:O.default.displaySwitchContainer,role:"radiogroup","aria-label":M.default("settings-popup-react/layoutTitle")},l.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane2,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout2PaneHint"}),label:M.default("settings-popup-react/layout2PaneHint"),onClick:o(c.LayoutTypes.Pane2)},l.default.createElement(p,{className:O.default.svg})),l.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane3,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHint"}),label:M.default("settings-popup-react/layout3PaneHint"),onClick:o(c.LayoutTypes.Pane3)},l.default.createElement(m,{className:O.default.svg})),l.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane3Horizontal,hint:l.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHorizontalHint"}),label:M.default("settings-popup-react/layout3PaneHorizontalHint"),onClick:o(c.LayoutTypes.Pane3Horizontal)},l.default.createElement(x,{className:O.default.svg})))};t.SettingsDisplay=function(){var e=f.useSettingsContext().settings,t=l.useMemo(function(){return e[c.Settings.LAYOUT]===c.LayoutTypes.Pane2},[e]),n=l.useCallback(function(){return x.triggerNsEvent("daria:settings:changed")},[]),r=l.useCallback(function(){x.triggerNsEvent(e[c.Settings.FOLDER_THREAD_VIEW]?"daria:settings:thread-view-off":"daria:settings:thread-view-on")},[e]);return l.default.createElement(p.SettingsSection,{title:l.default.createElement(d.default,{loc:"settings-popup-react/displaySectionTitle"})},l.default.createElement(E,null),l.default.createElement(m.SettingsCheckboxesContainer,null,l.default.createElement(m.SettingsCheckbox,{name:c.Settings.WITH_BIGGER_TEXT,metricName:"Bigger text",className:"qa-SettingsPopup-BiggerTextCheckbox",onChangeSuccess:n,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingBiggerText"})}),l.default.createElement(m.CompactLeftColumnCheckbox,{metricName:"Compact left column",className:"qa-SettingsPopup-CompactLeftColumnCheckbox",label:l.default.createElement(d.default,{loc:"settings-popup-react/settingCompactLeftColumn"})}),l.default.createElement(m.SettingsCheckbox,{metricName:"Thread view",className:"qa-SettingsPopup-ThreadViewCheckbox",name:c.Settings.FOLDER_THREAD_VIEW,onChangeSuccess:r,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingFolderThreadLabel"})}),t&&l.default.createElement(m.SettingsCheckbox,{name:c.Settings.MINIFIED_MAIL_LIST,metricName:"Minified mail list",className:"qa-SettingsPopup-MinifiedListCheckbox",onChangeSuccess:n,label:l.default.createElement(d.default,{loc:"settings-popup-react/settingMinifiedMailList"})})))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var o=i(n(135)),a=i(n(339)),s=n(138),l=n(140),c=i(n(3387));t.SettingsSection=function(e){var t=e.title,n=e.children,i=e.className,u=e.button;return o.default.createElement("section",{className:a.default(c.default.container,i)},o.default.createElement("header",{className:c.default.header},o.default.createElement(s.Text,{className:c.default.headerText,as:"h2",typography:"body-short-m",weight:"medium"},t),u&&o.default.createElement(l.Button,r({view:"clear",size:"m"},u,{className:a.default(c.default.button,u.className)}),o.default.createElement(s.Text,{weight:"medium",typography:"body-long-m"},u.children))),n)}},function(e,t){e.exports={container:"SettingsSection__container--ovhl5",header:"SettingsSection__header--34nNe",headerText:"SettingsSection__headerText--3_nSJ",button:"SettingsSection__button--31RuD"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var r=n(3389);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return r.Layout}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var i=r(n(135)),o=r(n(339)),a=n(142),s=r(n(3390)),l=n(389);t.Layout=function(e){var t,n=e.selected,r=e.hint,c=e.children,u=e.onClick,d=e.label,f=l.useThemesContext().isDark;return i.default.createElement(a.TooltipStateful,{view:"default",size:"s",state:"warning",direction:"top",className:s.default.hint,content:r},i.default.createElement("div",{role:"radio","aria-checked":n,"aria-label":d,tabIndex:0,className:o.default(s.default.pane,(t={},t[s.default.selected]=n,t[s.default.dark]=f,t)),onClick:u},c))}},function(e,t){e.exports={pane:"Layout__pane--11cm4",dark:"Layout__dark--2_ffv",selected:"Layout__selected--2Ksdw",hint:"Layout__hint--EmyFv"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=t.SettingsCheckbox=t.CompactLeftColumnCheckbox=void 0;var r=n(3392);Object.defineProperty(t,"CompactLeftColumnCheckbox",{enumerable:!0,get:function(){return r.CompactLeftColumnCheckbox}});var i=n(3473);Object.defineProperty(t,"SettingsCheckbox",{enumerable:!0,get:function(){return i.SettingsCheckbox}});var o=n(3474);Object.defineProperty(t,"SettingsCheckboxesContainer",{enumerable:!0,get:function(){return o.SettingsCheckboxesContainer}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompactLeftColumnCheckbox=void 0;var u=a(n(135)),d=n(340),f=c(n(339)),p=n(146),g=n(349),m=n(347),h=n(398),v=n(1558),b=n(513),_=n(491),y=n(3472),S=c(n(1158)),w=d.compose(v.withLinesMulti)(p.Checkbox);t.CompactLeftColumnCheckbox=function(e){var t=e.metricName,n=e.className,i=s(e,["metricName","className"]),o=y.isCompactColumn(),a=l(u.useState(o),2),c=a[0],d=a[1],p=u.useCallback(function(e){b.logPopupMetric([h.HEADER_METRIKA_MAIN_SETTING,t,e.target.checked?h.STATE_ON:h.STATE_OFF]),g.hasFeature(g.Features.REACT_LAYOUT)?m.toggleCompactLeftColumn():_.triggerNsEvent("daria:toggle-left-column-width"),d(e.target.checked),e.target.checked&&document.body.offsetWidth>document.documentElement.offsetWidth&&window.scrollTo({left:document.body.offsetWidth-document.documentElement.offsetWidth})},[t]);return u.useEffect(function(){d(o)},[o]),u.default.createElement(w,r({},i,{disabled:!y.isPageWithResizableLeftColumn(),size:"s",view:"default",onChange:p,checked:c,className:f.default(S.default.checkbox,n)}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompactColumn=function(){if(Object(r.hasFeature)(r.Features.REACT_LAYOUT))return Object(i.getLayoutResizeModel)().isCompactLeftColumn;return Daria.resize.isWithCompactLeftColumn},t.isPageWithResizableLeftColumn=function(){return Daria.isPageWithResizableLeftColumn()};var r=n(349),i=(n.n(r),n(347))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckbox=void 0;var c=a(n(135)),u=n(340),d=l(n(339)),f=n(146),p=n(398),g=n(389),m=n(513),h=n(1558),v=u.compose(h.withLinesMulti)(f.Checkbox),b=l(n(1158));t.SettingsCheckbox=function(e){var t=e.name,n=e.invert,i=e.metricName,o=e.className,a=e.onChangeSuccess,l=s(e,["name","invert","metricName","className","onChangeSuccess"]),u=g.useSettingsContext(),f=u.settings,h=u.setSettings,_=c.useMemo(function(){var e=Boolean(f[t]);return n?!e:e},[n,t,f]),y=c.useCallback(function(e){var r;h(((r={})[t]=n?!e.target.checked:e.target.checked,r),a),m.logPopupMetric([p.HEADER_METRIKA_MAIN_SETTING,i,e.target.checked?p.STATE_ON:p.STATE_OFF])},[n,h,t,i,a]);return c.default.createElement(v,r({size:"s",view:"default"},l,{onChange:y,checked:_,className:d.default(b.default.checkbox,o)}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=void 0;var i=r(n(135)),o=r(n(1158));t.SettingsCheckboxesContainer=function(e){var t=e.children;return i.default.createElement("div",{className:o.default.container},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"}));t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"1 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:11,fill:"#2E2F34"}),l=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"})),c=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),u=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),d=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),f=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),p=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u,d,f,p)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:12,fill:"#fff"}),l=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),c=a("rect",{opacity:.5,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#999"}),u=a("rect",{opacity:.3,x:58.115,y:26,width:22,height:2,rx:1,fill:"#999"}),d=a("rect",{opacity:.3,x:58.115,y:38,width:29,height:2,rx:1,fill:"#999"}),f=a("rect",{opacity:.3,x:58.115,y:32,width:38,height:2,rx:1,fill:"#999"}),p=a("rect",{opacity:.3,x:58.115,y:44,width:22,height:2,rx:1,fill:"#999"}),g=a("rect",{opacity:.3,x:58.115,y:61,width:10,height:2,rx:1,fill:"#999"}),m=a("rect",{opacity:.3,x:58.115,y:51,width:38,height:2,rx:1,fill:"#999"}),h=a("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),v=a("rect",{opacity:.3,x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#999"}),b=a("rect",{opacity:.3,x:69.231,y:18,width:9,height:2,rx:1,fill:"#999"}),_=a("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D9D9D9"});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u,d,f,p,g,m,h,v,b,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),_)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("rect",{width:129,height:68,rx:12,fill:"#2E2F34"}),l=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),c=a("rect",{opacity:.7,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),u=a("rect",{x:58.115,y:26,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),d=a("rect",{x:58.115,y:38,width:29,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),f=a("rect",{x:58.115,y:32,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),p=a("rect",{x:58.115,y:44,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),g=a("rect",{x:58.115,y:61,width:10,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),m=a("rect",{x:58.115,y:51,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),h=a("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),v=a("rect",{x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),b=a("rect",{x:69.231,y:18,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),_=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),y=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),S=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),w=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),O=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),M=a("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:69,viewBox:"0 0 129 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u,d,f,p,g,m,h,v,b,_,y,S,w,O,M)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#fff"}),l=a("rect",{opacity:.5,x:23,y:38,width:58,height:4,rx:1.4,fill:"#999"}),c=a("rect",{opacity:.3,x:23,y:58,width:22,height:2,rx:1,fill:"#999"}),u=a("rect",{opacity:.3,x:23,y:63,width:58,height:2,rx:1,fill:"#999"}),d=a("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),f=a("rect",{opacity:.3,x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#999"}),p=a("rect",{opacity:.3,x:34.115,y:50,width:9,height:2,rx:1,fill:"#999"}),g=a("g",{opacity:.7,fill:"#D9D9D9"},void 0,a("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),a("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:34,width:111.001,height:1,rx:.5}));t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u,d,f,p,g,a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:9,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:15,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:21,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),a("rect",{x:4,y:27,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#2E2F34"}),l=a("rect",{opacity:.7,x:23,y:38,width:58,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),c=a("rect",{x:23,y:58,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),u=a("rect",{x:23,y:63,width:58,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),d=a("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),f=a("rect",{x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),p=a("rect",{x:34.115,y:50,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),g=a("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,a("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),a("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),a("rect",{x:18,y:34,width:111.001,height:1,rx:.5})),m=a("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),h=a("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),v=a("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),b=a("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),_=a("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=function(e){return i.createElement("svg",o({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u,d,f,p,g,m,h,v,b,_)}},function(e,t){e.exports={displaySwitchContainer:"SettingsDisplay__displaySwitchContainer--3uR-v",item:"SettingsDisplay__item--37Zd7",checkbox:"SettingsDisplay__checkbox--1M6X3",svg:"SettingsDisplay__svg--2-J1m"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var r=n(3483);Object.defineProperty(t,"SettingsThemes",{enumerable:!0,get:function(){return r.SettingsThemes}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var c=o(n(135)),u=l(n(344)),d=n(549),f=n(729),p=n(1560),g=n(1156),m=n(389),h=n(347),v=n(350),b=l(n(3507)),_=[{theme:d.ThemeName.GeneralDefault,displayed:!0},{theme:d.ThemeName.GeneralNewYear2024,displayed:f.isThemeAvailable(d.ThemeName.GeneralNewYear2024,new Date(v.promoNow()))},{theme:d.ThemeName.GeneralFlow,displayed:!0},{theme:d.ThemeName.GeneralDarkflow,displayed:!0},{theme:d.ThemeName.GeneralGrass,displayed:!f.isThemeAvailable(d.ThemeName.GeneralNewYear2024,new Date(v.promoNow()))}].filter(function(e){return e.displayed}).map(function(e){return e.theme}),y=_.filter(function(e){return e!==d.ThemeName.GeneralDefault});t.SettingsThemes=function(e){var t=e.onShowAll,n=e.buttonRef,r=m.useThemesContext(),i=r.currentTheme,o=r.currentThemeProps,a=h.getVideoBgSwitch(),l=c.useMemo(function(){return _.includes(i)||o.isDark?_:s([i],y)},[i,o.isDark]),d=c.useMemo(function(){return{onClick:t,children:c.default.createElement(u.default,{loc:"settings-popup-react/showAllThemesButton"}),controlRef:n}},[n,t]);return c.default.createElement(g.SettingsSection,{title:c.default.createElement(u.default,{loc:"settings-popup-react/themesSectionTitle"}),button:d},c.default.createElement("div",{className:b.default.videoBg},c.default.createElement(a,null)),c.default.createElement(p.ThemesWithScope,{themes:l}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var l=o(n(135)),c=o(n(353)),u=n(389),d=n(731),f=n(1561),p=n(347),g=s(n(3503)),m=n(599),h=n(1159),v=n(513);t.ThemesWithScope=function(e){var t=e.themes,r=u.useThemesContext(),i=r.generalThemes,o=r.currentTheme,s=r.currentThemeProps,b=r.orderedThemes,_=r.setTheme,y=r.getThemeThumbnail,S=r.preloadTheme,w=p.getThemeCard(),O=l.useCallback(function(e){return e===o},[o]),M=l.useCallback(function(e){return function(){return S(e)}},[S]),x=l.useMemo(function(){return o===f.ColorfulThemeName?l.default.createElement(f.ThemeScopeColorful,null):o===f.SeasonsThemeName?l.default.createElement(f.ThemeScopeSeasons,null):o===f.WeatherThemeName?l.default.createElement(f.ThemeScopeWeather,null):s.isDark?l.default.createElement(f.ThemeScopeDark,null):null},[o,s.isDark]),E=l.useMemo(function(){return t.map(function(e){var t=i.find(function(t){return t.name===e}),n=b.find(function(t){return t.name===e});return t||n}).filter(m.isDefined)},[t,i,b]),T=l.useMemo(function(){return s.isDark?3:E.findIndex(function(e){return e.name===o})},[E,s.isDark,o]),D=a(l.useState(!1),2),C=D[0],P=D[1],k=l.useMemo(function(){return Boolean(x&&C)},[x,C]),A=l.useCallback(function(e){return function(){_(e),i.find(function(t){return t.name===e})||P(!0)}},[_,i]);return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:g.default.themes,role:"radiogroup","aria-label":c.default("settings-popup-react/themesSectionTitle")},E.map(function(e){return e.isGeneral?l.default.createElement(w,{key:e.name,themeName:e.name,className:g.default.card,selected:O(e.name),displayName:c.i18nSafeText(d.THEME_LOCALES[e.name],""),label:c.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:M(e.name),thumbnail:y(e.name),isVideo:!e.isDefault,show360Label:!0,background:v.getThemeBg(e.name)}):l.default.createElement(h.ThemeCard,{key:e.name,className:g.default.card,selected:O(e.name),displayName:c.i18nSafeText(d.THEME_LOCALES[e.name],""),label:c.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:M(e.name),onClick:A(e.name),thumbnail:y(e.name)})}),E.length<4&&l.default.createElement(h.ThemeCard,{className:g.default.card,selected:s.isDark,displayName:c.i18nSafeText("settings-popup-react/darkThemes",""),onClick:A("cosmos"),thumbnail:n(3506),key:"cosmos",label:c.i18nSafeText(d.THEME_LOCALES.cosmos,"")})),l.default.createElement(f.ThemeScopeContainer,{isVisible:k,selectedIndex:T},x))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeContainer=void 0;var i=r(n(135)),o=r(n(339)),a=n(389),s=r(n(3486)),l=r(n(3487));t.ThemeScopeContainer=function(e){var t,n,r=e.selectedIndex,c=e.isVisible,u=e.children,d=a.useThemesContext(),f=d.currentTheme,p=d.isDark;return i.default.createElement("div",{className:o.default(l.default.container,(t={},t[l.default.isVisible]=c,t[l.default.dark]=p,t))},i.default.createElement(s.default,{"aria-hidden":!0,className:o.default(l.default.selected,(n={},n[l.default.weather]="weather"===f&&3!==r,n[l.default.one]=0===r,n[l.default.two]=1===r,n[l.default.three]=2===r,n[l.default.four]=3===r,n))}),i.default.createElement("div",{className:o.default(l.default.content)},u))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("defs",{},void 0,a("linearGradient",{id:"tail_x_svg__a",x1:0,x2:1},void 0,a("stop",{offset:"0%",stopColor:"var(--tooltip-tail-bg-start-color)"}),a("stop",{offset:"100%",stopColor:"var(--tooltip-tail-bg-end-color)"}))),l=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0C8 0 5.5 7 0 7h22c-5.5 0-8-7-11-7z",fill:"url(#tail_x_svg__a)"});t.default=function(e){return i.createElement("svg",o({width:22,height:7,viewBox:"0 0 22 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l)}},function(e,t){e.exports={container:"ThemeScopeContainer__container--2dj8n",isVisible:"ThemeScopeContainer__isVisible--3snJG",content:"ThemeScopeContainer__content--37bOp",selected:"ThemeScopeContainer__selected--1dq4i",one:"ThemeScopeContainer__one--1Fi4r",two:"ThemeScopeContainer__two--SinFt",three:"ThemeScopeContainer__three--3hil6",four:"ThemeScopeContainer__four--yvhYZ",weather:"ThemeScopeContainer__weather--UeFqB"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeColorful=t.ColorfulThemeName=void 0;var s=o(n(135)),l=a(n(339)),c=n(396),u=n(389),d=a(n(3489)),f=a(n(3490));t.ColorfulThemeName="colorful";t.ThemeScopeColorful=function(){var e=u.useThemesContext(),n=e.themes,r=e.setScope,i=u.useSettingsContext().settings,o=s.useMemo(function(){return Object.keys(n[t.ColorfulThemeName].skins.scopes||{})},[n]),a=s.useCallback(function(e){r(e)},[r]),p=s.useCallback(function(e){return i[c.Settings.COLORFUL_THEME_SKIN]===e},[i]);return s.default.createElement("div",{className:d.default.container,role:"radiogroup"},o.map(function(e){var t,n=p(e);return s.default.createElement("div",{key:e,className:l.default(d.default.item,d.default[e],(t={},t[d.default.checked]=n,t)),onClick:function(){return a(e)},role:"radio","aria-checked":n,"aria-label":e,tabIndex:0},p(e)&&s.default.createElement("div",{className:d.default.check},s.default.createElement(f.default,null)))}))}},function(e,t){e.exports={container:"ThemeScopeColorful__container--1pvdM",item:"ThemeScopeColorful__item--2tTyW",checked:"ThemeScopeColorful__checked--9SV3Z",check:"ThemeScopeColorful__check--ve9wv",blue:"ThemeScopeColorful__blue--1G6SM",lightblue:"ThemeScopeColorful__lightblue--3xcWQ",green:"ThemeScopeColorful__green--pkLMO",grass_green:"ThemeScopeColorful__grass_green--3tPcD",turquoise:"ThemeScopeColorful__turquoise--2alqd",yellow:"ThemeScopeColorful__yellow--I_Cft",orange:"ThemeScopeColorful__orange--1t4QB",red:"ThemeScopeColorful__red--2IacW",pink:"ThemeScopeColorful__pink--33nxF",violet:"ThemeScopeColorful__violet--GaiTE",white:"ThemeScopeColorful__white--3_Spx",gray:"ThemeScopeColorful__gray--2o8MM",black:"ThemeScopeColorful__black--1pn9E","sea-wave":"ThemeScopeColorful__sea-wave--OnJaT","pink-navy-sand":"ThemeScopeColorful__pink-navy-sand--2RfwO","plum-navy":"ThemeScopeColorful__plum-navy--3AgNH","teal-orange":"ThemeScopeColorful__teal-orange--3LkwW","terra-salad":"ThemeScopeColorful__terra-salad--QRM3a"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{d:"M6.442 11.538l-2.699-3.11a1 1 0 00-1.486 1.338l3.5 4a1 1 0 001.534-.057l6.5-9a1 1 0 10-1.582-1.223l-5.767 8.052z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeWeather=t.WeatherThemeName=void 0;var l=o(n(135)),c=n(176),u=n(342),d=n(396),f=n(138),p=n(389),g=s(n(3492));t.WeatherThemeName="weather";var m=function(e){var t=e.weather,n=p.useThemesContext(),r=n.autocompleter,i=n.themeWeatherStore,o=p.useSettingsContext().setSettings,s=a(l.useState(""),2),u=s[0],m=s[1],h=l.useRef(null),v=l.useCallback(function(e){return m(e.target.value)},[m]);l.useEffect(function(){m(t.city||"")},[t.city]);var b=l.useCallback(function(){if(h.current){var e=h.current;e.style.padding="0 8px",r.bindField({field:e,focus:1}),r.setOptions({width:320}),r.sections[0].onselect=function(){return e.blur()},r.sections[0].onresult=function(t){var n;e.value=t.name_short,o(((n={})[d.Settings.GEO_ID]=t.geoid,n)),i.getWeather()}}},[r,o,i]),_=l.useCallback(function(){m(t.city||"")},[t.city]),y=l.useMemo(function(){var e=t.now.temperature;return(e>0?"+":"")+e+""},[t.now.temperature]),S=l.useMemo(function(){return t.now.image},[t.now.image]);return l.default.createElement("div",{className:g.default.container},l.default.createElement("div",{className:g.default.control},l.default.createElement(c.Textinput,{className:g.default.input,value:u,controlRef:h,onInput:v,view:"default",size:"s",inputMode:"text",type:"text",maxLength:70,onFocus:b,onBlur:_}),l.default.createElement(f.Text,{typography:"subheader-xl",weight:"medium",color:"inverse"},y),S&&l.default.createElement("img",{className:g.default.forecastIcon,"aria-hidden":"true",src:S,alt:""})))};t.ThemeScopeWeather=u.observer(function(){var e,t=p.useThemesContext().themeWeatherStore;return(null===(e=t.weather)||void 0===e?void 0:e.city)?l.default.createElement(m,{weather:t.weather}):null})},function(e,t){e.exports={container:"ThemeScopeWeather__container--70_fY",control:"ThemeScopeWeather__control--1iZQJ",input:"ThemeScopeWeather__input--3Yo4c",forecastIcon:"ThemeScopeWeather__forecastIcon--uzlvs"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeSeasons=t.SeasonsThemeName=void 0;var s=o(n(135)),l=n(396),c=a(n(360)),u=a(n(344)),d=n(389),f=n(731),p=n(1562),g=a(n(353)),m=a(n(3496)),h=a(n(3497));t.SeasonsThemeName="seasons";t.ThemeScopeSeasons=function(){var e=d.useThemesContext(),n=e.themes,r=e.setScope,i=d.useSettingsContext().settings,o=s.useMemo(function(){return n[t.SeasonsThemeName].skins.scopes||{}},[n]),a=s.useMemo(function(){return Object.keys(o)},[o]),v=s.useCallback(function(e){r(e)},[r]),b=s.useCallback(function(e){return!i[l.Settings.SELECTED_SCOPE]&&""===e||i[l.Settings.SELECTED_SCOPE]===e},[i]);return s.default.createElement("div",{className:h.default.container,role:"radiogroup"},a.map(function(e){return s.default.createElement(p.ThemeScopeItem,{key:e,selected:b(e),onClick:function(){return v(e)},icon:s.default.createElement(c.default,{id:"mail--Themes-Seasons_"+e}),label:s.default.createElement(u.default,{loc:f.SEASONS_LOCALES[e]}),"aria-label":g.default(f.SEASONS_LOCALES[e]),role:"radio",tabIndex:0,"aria-checked":b(e)})}),s.default.createElement(p.ThemeScopeItem,{selected:b(""),onClick:function(){return v("")},icon:s.default.createElement(m.default,null),label:s.default.createElement(u.default,{loc:"settings-popup-react/seasonsChange"}),"aria-label":g.default("settings-popup-react/seasonsChange"),role:"radio",className:"qa-ThemeScope-SeasonsChange",tabIndex:0,"aria-checked":b("")}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var a=o(n(135)),s=o(n(339)),l=n(138),c=o(n(3495));t.ThemeScopeItem=function(e){var t,n=e.className,o=e.selected,u=e.icon,d=e.label,f=i(e,["className","selected","icon","label"]);return a.default.createElement(l.Text,r({className:s.default(c.default.item,(t={},t[c.default.selected]=o,t),n),color:"secondary",typography:"caption-m"},f),u,a.default.createElement("div",{className:c.default.label},d))}},function(e,t){e.exports={item:"ThemeScopeItem__item--zf-1A",selected:"ThemeScopeItem__selected--1dOte",label:"ThemeScopeItem__label--32iEr"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.3 2a1 1 0 00-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 00-.945.945c-.218.407-.334.811-.334 1.926v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.115 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 00-.945-.945c-.381-.204-.76-.319-1.721-.333V3a1 1 0 10-2 0v1h-8V3a1 1 0 00-1-1zm-2 6v9.675c0 .469.019.763.049.933a.413.413 0 00.049.148.29.29 0 00.124.137c.06.035.073.04.134.053.155.033.422.054.849.054H18.09c.426 0 .694-.02.849-.054a.332.332 0 00.134-.053.29.29 0 00.124-.137.413.413 0 00.049-.148c.03-.17.049-.464.049-.933L19.3 8h-14zm1 2.75a.75.75 0 01.75-.75h10.5a.75.75 0 01.75.75v.5a.75.75 0 01-.75.75H7.05a.75.75 0 01-.75-.75v-.5z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={container:"ThemeScopeSeasons__container--29oJh"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.useDarkThemes=void 0;var s=o(n(135)),l=a(n(344)),c=n(389),u=n(731),d=n(1562),f=a(n(3499)),p=a(n(3500)),g=a(n(3501)),m=a(n(3502)),h=a(n(353)),v=function(e){switch(e.scope){case"lamp":return s.default.createElement(f.default,null);case"cosmos":return s.default.createElement(p.default,null);case"zverushki":return s.default.createElement(g.default,null);default:return null}};function b(){var e=c.useThemesContext().orderedThemes;return s.useMemo(function(){return e.filter(function(e){return e.isDark})},[e])}t.useDarkThemes=b;t.ThemeScopeDark=function(){var e=c.useThemesContext(),t=e.setTheme,n=e.currentTheme,r=e.preloadTheme,i=b(),o=s.useCallback(function(e){t(e)},[t]);return s.default.createElement("div",{className:m.default.container,role:"radiogroup"},i.map(function(e){return s.default.createElement(d.ThemeScopeItem,{key:e.name,selected:n===e.name,onClick:function(){return o(e.name)},icon:s.default.createElement(v,{scope:e.name}),label:s.default.createElement(l.default,{loc:u.THEME_LOCALES[e.name]}),onMouseEnter:function(){return r(e.name)},"aria-label":h.default(u.THEME_LOCALES[e.name]),role:"radio",tabIndex:0,"aria-checked":n===e.name})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.07 17.898c2.437 3.059 7.033 4.626 10.867 3.595 5.282-1.42 8.418-6.857 7.005-12.145-1.026-3.84-4.68-7.041-8.544-7.624a.992.992 0 00-1.02 1.45c1.868 3.48 2.02 6.456.526 9.047-1.495 2.592-4.146 3.948-8.09 4.067a.992.992 0 00-.745 1.61zm15.96-8.036c1.13 4.23-1.38 8.58-5.604 9.717-2.41.647-5.68.004-7.74-1.497 3.438-.551 6.384-2.185 7.932-4.87 1.549-2.684 1.482-6.049.24-9.306 2.328 1.036 4.527 3.543 5.172 5.956z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("circle",{cx:12.5,cy:12,r:8,stroke:"currentColor",strokeWidth:2}),l=a("path",{d:"M18.106 5.283c2.568-.636 4.489-.512 5.083.518 1.106 1.914-2.79 6.233-8.701 9.645C8.577 18.86 2.889 20.074 1.784 18.16c-.671-1.163.365-2.965 2.714-5.16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),c=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19a.5.5 0 00-.5.5v.5H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V21h.5a.5.5 0 000-1h-.5v-.5a.5.5 0 00-.5-.5zM10 9a.5.5 0 00-.5.5v.5H9a.5.5 0 000 1h.5v.5a.5.5 0 001 0V11h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0010 9zM17.497 1a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336v-.333A.333.333 0 0017.497 1zM4.497 22a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H4.83v-.333A.333.333 0 004.497 22z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("path",{d:"M12.5 9c.333-.834 1.4-2.7 3-3.5 1-.5 1.5 4.5 0 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),l=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 1a.5.5 0 00-.5.5V2H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V3h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0021 1zM16.497 0a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336V.333A.333.333 0 0016.497 0zM1.497 4a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H1.83v-.333A.333.333 0 001.497 4z",fill:"currentColor"}),c=a("path",{d:"M8 1l3.5 6.5s1.5 0 1.5-1C13 6.444 8 1 8 1z",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"}),u=a("path",{d:"M12.5 9C12 11.334 5 15.5 2 9c1-.333 3.277-.207 5-1.5 2-1.5 4-1 4-1M10.529 14.152c.43.082 1.408.017 1.88-.897M6 13c-.5.667-1.8 2.3-3 3.5-1.5 1.5 1.5 4 4.5 3 1.5-.5 2-1 2-1 1.334.667 4.4 1.3 6-1.5.4 0 1.167 4 1.5 6M17.5 10.5c1 .333 3.5 2.5 5.5 8.5M17.5 7c2.5.5 5.5 2 6.5 5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});t.default=function(e){return i.createElement("svg",o({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l,c,u)}},function(e,t){e.exports={container:"ThemeScopeDark__container--3YwUu"}},function(e,t){e.exports={themes:"ThemesWithScope__themes--kIT3A",card:"ThemesWithScope__card--IlEXA"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var i=r(n(135)),o=r(n(339)),a=n(138),s=r(n(3505));t.ThemeCard=function(e){var t,n=e.className,r=e.onClick,l=e.onHover,c=e.selected,u=e.displayName,d=e.thumbnail,f=e.label;return i.default.createElement("div",{onClick:r,onMouseOver:l,className:o.default(s.default.thumbnail,(t={},t[s.default.selected]=c,t),n),style:{backgroundImage:"url("+d+")"},role:"radio","aria-label":f,"aria-checked":c,tabIndex:0},i.default.createElement(a.Text,{className:s.default.label,overflow:"ellipsis",typography:"caption-m",align:"center"},u))}},function(e,t){e.exports={thumbnail:"ThemeCard__thumbnail--3Kn5x",selected:"ThemeCard__selected--3Mmcw",label:"ThemeCard__label--3N_nj",icon:"ThemeCard__icon--3yXVU",iconVideo:"ThemeCard__iconVideo--3BZIz",icon360:"ThemeCard__icon360--2ge7n"}},function(e,t,n){e.exports=n.p+"_/1f4d5baadd27593d42191d846e9ecb59-dark-meta.jpg"},function(e,t){e.exports={videoBg:"SettingsThemes__videoBg--3jwd6"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var r=n(3509);Object.defineProperty(t,"SettingsPromo",{enumerable:!0,get:function(){return r.SettingsPromo}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var i=r(n(135)),o=r(n(339)),a=n(3510),s=n(3512),l=n(3513),c=r(n(732)),u=n(389),d=[{type:u.PromoType.DISABLE_AD,component:l.PromoDisableAd},{type:u.PromoType.BEAUTIFUL_EMAIL,component:a.PromoBeautifulEmail},{type:u.PromoType.SUBSCRIPTIONS,component:s.PromoSubscribes}];t.SettingsPromo=function(e){var t,n=u.useThemesContext().isDark,r=u.usePromoContext().promos;return i.default.createElement("div",{className:o.default(c.default.container,(t={},t[c.default.dark]=n,t))},d.map(function(t){var n=r[t.type];return n?i.default.createElement(t.component,{key:t.type,closePopup:e.closePopup,isNew:n.isNew}):null}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoBeautifulEmail=void 0;var s=o(n(135)),l=a(n(344)),c=n(350),u=n(401),d=n(398),f=n(389),p=n(1160),g=a(n(732));t.PromoBeautifulEmail=function(e){var t=e.closePopup,n=e.isNew,r=f.usePromoContext(),i=r.beautifulEmail,o=r.markPromoViewed,a=s.useMemo(function(){return i?s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitleEnabled",params:{email:i}},s.default.createElement("span",{"data-ref":"email"})):s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitle"})},[i]),m=s.useMemo(function(){return u.hasSubscriptionWithDomain()?d.PREMIUM_USER:d.FREE_USER},[]),h=s.useCallback(function(){t(),o(f.PromoType.BEAUTIFUL_EMAIL)},[o,t]);return s.default.createElement(p.PromoItem,{className:g.default.email,caption:a,metricName:d.PROMO_BEAUTIFUL_EMAIL,userType:m,type:"link",url:c.getLinkToBeautifulEmail(),onClick:h,isNew:n})}},function(e,t){e.exports={item:"SettingsPromo__item--3t0Fn",button:"SettingsPromo__button--2kcUQ",badge:"SettingsPromo__badge--3OBGW"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoSubscribes=void 0;var s=o(n(135)),l=a(n(344)),c=n(398),u=n(350),d=n(389),f=n(1160),p=a(n(732));t.PromoSubscribes=function(e){var t=e.closePopup,n=e.isNew,r=d.usePromoContext(),i=r.openSubscribesSettings,o=r.optinEnabled,a=r.subscriptionCounters,g=r.markPromoViewed,m=s.useMemo(function(){return o?c.PREMIUM_USER:u.hasProSubscription()?c.PAID_USER:c.FREE_USER},[o]),h=s.useCallback(function(){o&&(null===a||void 0===a?void 0:a.pending)?i({page:"pending"}):i(),t(),g(d.PromoType.SUBSCRIPTIONS)},[o,a,i,t,g]),v=s.useMemo(function(){return o&&(null===a||void 0===a?void 0:a.pending)?s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/newSubscribesCounter",params:{count:a.pending}}):s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/shortSubscribesTitle"})},[o,a]);return s.default.createElement(f.PromoItem,{className:p.default.subscribes,caption:v,metricName:c.OPT_IN_SUBSCRIPTIONS_METRIKA,userType:m,onClick:h,isNew:n})}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoDisableAd=void 0;var s=o(n(135)),l=a(n(344)),c=n(398),u=n(347),d=n(389),f=n(1160),p=a(n(732));t.PromoDisableAd=function(e){var t=e.closePopup,n=d.usePromoContext().markPromoViewed,r=s.useMemo(function(){return u.getDisableAdPopupBridge()},[]),i=s.useMemo(function(){return s.default.createElement(l.default,{tag:s.Fragment,loc:"settings-popup-react/promoDisableAdText"})},[]),o=s.useCallback(function(){t(),r.openDisableAdPopup("PromoSettingsPopup"),n(d.PromoType.DISABLE_AD)},[n,t,r]);return s.default.createElement(f.PromoItem,{className:p.default.disableAd,caption:i,metricName:c.PROMO_DISABLE_AD,userType:c.FREE_USER,type:"button",onClick:o})}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsThemes=void 0;var s=o(n(135)),l=n(1480),c=a(n(344)),u=n(1156),d=a(n(1161)),f=n(3515),p=n(3519);t.MailSettingsThemes=function(e){var t=e.onHide,n=e.buttonRef,r=s.useCallback(function(){return t()},[t]),i=s.useMemo(function(){return{onClick:r,children:s.default.createElement(c.default,{loc:"settings-popup-react/collapseThemesButton"}),controlRef:n}},[n,r]);return s.default.createElement(u.SettingsSection,{className:d.default.themesSection,title:s.default.createElement(c.default,{loc:"settings-popup-react/themesSectionTitle"}),button:i},s.default.createElement(l.SmartScroll,{className:d.default.scrollRoot,containerClass:d.default.scrollContainer},s.default.createElement(f.GeneralThemes,null),s.default.createElement(p.MailThemes,null)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var r=n(3516);Object.defineProperty(t,"GeneralThemes",{enumerable:!0,get:function(){return r.GeneralThemes}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var i=r(n(135)),o=n(138),a=r(n(3517)),s=r(n(344)),l=n(353),c=n(389),u=n(731),d=r(n(3518)),f=n(1159),p=n(142),g=n(347),m=n(513);t.GeneralThemes=function(){var e=c.useThemesContext(),t=e.generalThemes,n=e.currentTheme,r=e.getThemeThumbnail,h=e.setTheme,v=g.getVideoBgSwitch(),b=g.getThemeCard();return i.default.createElement("section",null,i.default.createElement("header",{className:d.default.header},i.default.createElement("div",{className:d.default.text},i.default.createElement(o.Text,{typography:"body-short-m"},i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTitle"})),i.default.createElement(p.TooltipStateful,{className:d.default.tooltip,content:i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTooltip"}),state:"warning",size:"s",direction:"top",view:"default"},i.default.createElement("div",{className:d.default.info},i.default.createElement(a.default,null)))),i.default.createElement(v,null)),i.default.createElement("div",{className:d.default.cards,role:"radiogroup"},t.map(function(e){return e.isGeneral?i.default.createElement(b,{key:e.name,themeName:e.name,selected:n===e.name,displayName:l.i18nSafeText(u.THEME_LOCALES[e.name],""),label:l.i18nSafeText(u.THEME_LOCALES[e.name],""),thumbnail:r(e.name)||"",isVideo:!e.isDefault,show360Label:!1,background:m.getThemeBg(e.name),className:d.default.card}):i.default.createElement(f.ThemeCard,{key:e.name,selected:n===e.name,displayName:l.i18nSafeText(u.THEME_LOCALES[e.name],""),onClick:function(){return h(e.name)},thumbnail:r(e.name),isVideo:!0})})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 118 0a8 8 0 010 16zm-.43-3.414c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 01-.243-.306l.077-.331a.35.35 0 01.272-.264l2.358-.473a.5.5 0 01.583.611l-.955 3.832a.19.19 0 00.329.17l.869-1.002a.325.325 0 01.511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.046-.26.046-.368 0-.504-.398-.933-1.102-.933-.673 0-1.193.383-1.346.995-.031.122-.046.26-.046.367z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t){e.exports={header:"GeneralThemes__header--3kspf",cards:"GeneralThemes__cards--WG4tQ",text:"GeneralThemes__text--TVFDk",info:"GeneralThemes__info--3HR-U",tooltip:"GeneralThemes__tooltip--2BhWW",card:"GeneralThemes__card--2gEjx"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var r=n(3520);Object.defineProperty(t,"MailThemes",{enumerable:!0,get:function(){return r.MailThemes}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var s=o(n(135)),l=a(n(344)),c=n(138),u=n(389),d=n(731),f=n(1159),p=n(1560),g=a(n(3521)),m=a(n(353)),h=["colorful","seasons","weather"];t.MailThemes=function(){var e=u.useThemesContext(),t=e.orderedThemes,n=e.currentTheme,r=e.getThemeThumbnail,i=e.setTheme,o=e.preloadTheme,a=s.useCallback(function(e){return function(){return i(e)}},[i]),v=s.useCallback(function(e){return e===n},[n]),b=s.useMemo(function(){return t.filter(function(e){return!e.isDark&&!h.includes(e.name)})},[t]);return s.default.createElement("section",null,s.default.createElement("header",{className:g.default.header},s.default.createElement(c.Text,{typography:"body-short-m"},s.default.createElement(l.default,{loc:"settings-popup-react/mailThemesSectionTitle"}))),s.default.createElement(p.ThemesWithScope,{themes:h}),s.default.createElement("div",{className:g.default.themes,role:"radiogroup"},b.map(function(e){return s.default.createElement(f.ThemeCard,{key:e.name,selected:v(e.name),displayName:s.default.createElement(l.default,{loc:d.THEME_LOCALES[e.name]}),onClick:a(e.name),thumbnail:r(e.name),onHover:function(){return o(e.name)},label:m.default(d.THEME_LOCALES[e.name])})})))}},function(e,t){e.exports={header:"MailThemes__header--obMi-",themes:"MailThemes__themes--I76PN"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=t.usePromo=t.useThemes=t.useSettings=void 0;var r=n(3523);Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return r.useSettings}});var i=n(3524);Object.defineProperty(t,"useThemes",{enumerable:!0,get:function(){return i.useThemes}});var o=n(3552);Object.defineProperty(t,"usePromo",{enumerable:!0,get:function(){return o.usePromo}});var a=n(3554);Object.defineProperty(t,"useSettingsPopupStore",{enumerable:!0,get:function(){return a.useSettingsPopupStore}})},function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=t.getSettingsObject=t.refreshPage=void 0;var c=n(135),u=n(396),d=n(556),f=n(517),p=l(n(414)),g=n(1037);function m(){return o(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return[4,f.goPage()];case 1:return e.sent(),g.customDispatchEvent(window,"resize"),[2]}})})}t.refreshPage=m;var h=((r={})[u.Settings.LAYOUT]=function(){return f.forceReload()},r[u.Settings.MINIFIED_HEADER]=m,r[u.Settings.MINIFIED_MAIL_LIST]=m,r[u.Settings.SHOW_FOLDERS_TABS]=m,r[u.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=m,r[u.Settings.DISABLE_INBOX_ATTACH]=m,r[u.Settings.TIMELINE_ENABLED]=function(){d.getSign(u.Settings.TIMELINE_ENABLED)&&p.default.request("module-timeline")},r);function v(){var e,t;return(e={})[u.Settings.MINIFIED_MAIL_LIST]=d.getSign(u.Settings.MINIFIED_MAIL_LIST),e[u.Settings.MINIFIED_HEADER]=d.getSign(u.Settings.MINIFIED_HEADER),e[u.Settings.SHOW_FOLDERS_TABS]=d.getSign(u.Settings.SHOW_FOLDERS_TABS),e[u.Settings.WITH_BIGGER_TEXT]=d.getSign(u.Settings.WITH_BIGGER_TEXT),e[u.Settings.FOLDER_THREAD_VIEW]=d.getSign(u.Settings.FOLDER_THREAD_VIEW),e[u.Settings.DISABLE_INBOX_ATTACH]=d.getSign(u.Settings.DISABLE_INBOX_ATTACH),e[u.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=d.getSign(u.Settings.SHOW_SIDEBAR_WITH_WIDGETS),e[u.Settings.HIDE_EMPTY_FOLDERS]=d.getSign(u.Settings.HIDE_EMPTY_FOLDERS),e[u.Settings.TIMELINE_ENABLED]=d.getSign(u.Settings.TIMELINE_ENABLED),e[u.Settings.DISABLE_PROMO]=Boolean(d.getSetting(u.Settings.DISABLE_PROMO)),e[u.Settings.LAYOUT]=null!==(t=d.getSetting(u.Settings.LAYOUT))&&void 0!==t?t:u.LayoutTypes.Pane2,e[u.Settings.COLOR_SCHEME]=d.getSetting(u.Settings.COLOR_SCHEME),e[u.Settings.COLORFUL_THEME_SKIN]=d.getSetting(u.Settings.COLORFUL_THEME_SKIN),e[u.Settings.OVERRIDEN_THEME]=d.getSetting(u.Settings.OVERRIDEN_THEME),e[u.Settings.SEASONS_MODIFIER]=d.getSetting(u.Settings.SEASONS_MODIFIER),e[u.Settings.SELECTED_SCOPE]=d.getSetting(u.Settings.SELECTED_SCOPE),e[u.Settings.GEO_ID]=d.getSetting(u.Settings.GEO_ID),e[u.Settings.MAIL_INBOXGPT_ENABLED]=Boolean(d.getSetting(u.Settings.MAIL_INBOXGPT_ENABLED)),e}t.getSettingsObject=v;var b=[u.Settings.MINIFIED_MAIL_LIST,u.Settings.MINIFIED_HEADER,u.Settings.SHOW_FOLDERS_TABS,u.Settings.WITH_BIGGER_TEXT,u.Settings.FOLDER_THREAD_VIEW,u.Settings.DISABLE_INBOX_ATTACH,u.Settings.SHOW_SIDEBAR_WITH_WIDGETS,u.Settings.HIDE_EMPTY_FOLDERS,u.Settings.TIMELINE_ENABLED];t.useSettings=function(){var e=this,t=s(c.useState(v()),2),n=t[0],r=t[1],l=c.useCallback(function(e){return b.includes(e)},[]),u=c.useCallback(function(){return r(i({},v()))},[]),f=c.useCallback(function(t,n){return o(e,void 0,void 0,function(){var e,r;return a(this,function(i){return(e=Object.keys(t)).length&&(e.forEach(function(e){var n=e;l(n)&&(t[n]=d.signToSetting(n,t[n]))}),r=d.setSettings(t,n),e.forEach(function(e){e in h&&r.then(h[e])})),[2]})})},[l]);return c.useEffect(function(){return d.registerChangeSettingsHandler(u),function(){return d.unregisterChangeSettingsHandler(u)}},[u]),{settings:n,setSettings:f}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemes=t.GENERAL_THEMES=t.GENERAL_THEMES_SELECTORS=void 0;var s=n(135),l=n(549),c=n(350),u=n(811),d=a(n(3551)),f=n(512),p=n(398),g=n(1561),m=n(441),h=n(729),v=n(599),b=function(){return c.logMetric([p.YANDEX_HEADER_PREFIX,p.HEADER_METRIKA_RIGHT,p.HEADER_METRIKA_SETTINGS,p.HEADER_METRIKA_CHANGE_THEME])},_=function(e){return c.logMetric([p.YANDEX_HEADER_PREFIX,p.HEADER_METRIKA_RIGHT,p.HEADER_METRIKA_SETTINGS,p.HEADER_METRIKA_TOGGLE_VIDEO_BG,e?p.STATE_ON:p.STATE_OFF])},y=function(e){return function(t){return t?{isGeneral:e,isDark:Boolean(t.page_is_dark&&t.content_is_dark&&t.aside_is_dark),name:t.name,isDefault:e&&t.name===l.ThemeName.GeneralDefault}:{isGeneral:e,isDark:!1,name:l.ThemeName.GeneralDefault,isDefault:!1}}};t.GENERAL_THEMES_SELECTORS=[{theme:l.ThemeName.GeneralDefault,displayed:!0},{theme:l.ThemeName.GeneralNewYear2024,displayed:h.isThemeAvailable(l.ThemeName.GeneralNewYear2024,new Date(c.promoNow()))},{theme:l.ThemeName.GeneralFlow,displayed:!0},{theme:l.ThemeName.GeneralDarkflow,displayed:!0},{theme:l.ThemeName.GeneralGrass,displayed:!0}],t.GENERAL_THEMES=t.GENERAL_THEMES_SELECTORS.filter(function(e){return e.displayed}).map(function(e){return e.theme}),t.useThemes=function(){var e=this,n=m.ThemesStore.instance(),a=f.getThemesService(),l=d.default.Instance(),p=n.themesData,h=s.useMemo(function(){return t.GENERAL_THEMES.map(function(e){return n.generalThemes.find(function(t){return t.name===e})}).filter(v.isDefined).map(y(!0))},[n.generalThemes]),S=s.useMemo(function(){return n.orderedThemes.filter(function(e){return"u2709"!==e.name}).map(y(!1))},[n.orderedThemes]),w=n.currentTheme,O=n.isContentDark,M=o(s.useState(w),2),x=M[0],E=M[1],T=o(s.useState(a.isVideoBgEnabled),2),D=T[0],C=T[1];s.useEffect(function(){E(w)},[w]);var P=s.useCallback(function(t){return r(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return t!==g.WeatherThemeName?[3,2]:(E(t),[4,l.waitForData()]);case 1:e.sent(),e.label=2;case 2:return[4,a.setTheme(t)];case 3:return e.sent(),b(),[2]}})})},[l,a]),k=s.useCallback(function(e){a.setScope(e),b()},[a]),A=s.useCallback(function(){var e=!a.isVideoBgEnabled;_(e),C(e),a.isVideoBgEnabled?a.disableVideoBg():a.enableVideoBg()},[a,C]);return{themes:p,generalThemes:h,orderedThemes:S,currentTheme:x,currentThemeProps:y(!1)(p[x]),setTheme:P,setScope:k,getThemeThumbnail:u.getThemeThumbnail,autocompleter:c.getRegionAutocompleter(),themeWeatherStore:l,isDark:O,isVideoBgEnabled:D,toggleVideoBg:A,preloadTheme:u.runTheme}}},function(e,t,n){e.exports=n.p+"_/a609317dcc5e948346b12db0c236d43f-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a80a0642c93a46c18af20df3d4f31af9-thumbnail-alt.large.png"},function(e,t,n){e.exports=n.p+"_/d3340cd8b3742dbe21b94f580ec7b52c-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/8c89e27e071365154219372f4f10ed51-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/35e0a77f112cf7740849f15035594c99-thumbnail-alt.large.png"},function(e,t,n){e.exports=n.p+"_/611030797b6447dd62aa58a73be5a496-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/14b3c1bd0046dc669ba238efd482348a-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/88a96ec152b922ccbcff50c6ed6f3e4c-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/8399ac1e9ce432672844c9d8cb80cfd0-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/5b31545c39790c76ad00edf8615b2edf-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/537a2b8b9e6333e1ad96ed181b5b9a03-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/dd5f07ea4361187a4f0f0a4d574b8717-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a7bfddbd59abd7c2a7aa012f83188787-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a89656bce22f981f7678367cad8561b9-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/3bf8b6e392d4295db14615f54ae6eab0-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a72b4fc9736709e3e5d1bac405188ca5-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/4c265ebf8e9129ed8ef7fc49581d6aed-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a52a155576c4b70dab2b6fcc8b6975aa-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/9c6f60bc1c8465d9b44a76b6dbe9bb7b-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/0236da1d5127c3ff1fff198e7811c4eb-thumbnail-alt.large.png"},function(e,t,n){e.exports=n.p+"_/74d3d03070490f404439f03a66212980-thumbnail_winter.new.jpg"},function(e,t,n){e.exports=n.p+"_/4f4527a24aa76bc6561f87a6835f85d5-thumbnail_spring.new.jpg"},function(e,t,n){e.exports=n.p+"_/50b07fe78e674fab825f2dccae9b3f9b-thumbnail_summer.new.jpg"},function(e,t,n){e.exports=n.p+"_/0fa5326ba9e330fb4f43ec0d08d12687-thumbnail_autumn.new.jpg"},function(e,t,n){e.exports=n.p+"_/b19adbd17be0858655448df779258a47-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/48f3ee188a2adf78437d6a3221de5e66-thumbnail.new.jpg"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(341),s=o(n(390)),l=n(136),c=n(811),u=function(e){function t(){var t=e.call(this)||this;return t.weatherData=null,t._addModelSubscription("theme-weather",{},{onChanged:function(e){var n;t.weatherData=null!==(n=e.weather)&&void 0!==n?n:null},onDestroyed:function(){t.weatherData=null}}),t}return r(t,e),Object.defineProperty(t.prototype,"weather",{get:function(){return this.weatherData},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){var e;return this.loadPromise||((null===(e=this.weatherData)||void 0===e?void 0:e.city)||this.error?this.loadPromise=Promise.resolve():this.loadPromise=this.getWeather()),this.loadPromise},Object.defineProperty(t.prototype,"error",{get:function(){return c.getThemeWeather().getWeatherError()},enumerable:!1,configurable:!0}),t.prototype.getWeather=function(){return c.getThemeWeather().getWeather()},t.Instance=l.memoize(function(){return new t}),i([a.observable],t.prototype,"weatherData",void 0),i([a.computed],t.prototype,"weather",null),t}(s.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromo=void 0;var i=n(135),o=n(350),a=n(429),s=n(1536),l=n(389),c=n(3553),u=n(382),d=n(512),f=n(401),p=n(349);function g(e){return e.substring(0,c.MAX_SETTING_NAME_LENGTH-2)+"_s"}t.usePromo=function(){var e,t=u.getSettingsStore(),n=a.BeautifulEmailStore.instance(),c=o.isCorp()?null:s.SubscriptionCountersStore.instance(),m=d.getSettingsService();c&&c.waitForData();var h=i.useCallback(function(e){return o.emitUnsubscribePopupShow(e)},[]),v=function(e){var t=[],n=o.getConfig(),i=!o.hasProSubscription()&&"com"!==n.domain;return p.hasFeature(p.Features.WEB_MAIL_ADV_CLOSE_BUTTON)&&i&&t.push(l.PromoType.DISABLE_AD),t.push(l.PromoType.SUBSCRIPTIONS),f.isAvailable()&&!o.isPDD()&&t.push(l.PromoType.BEAUTIFUL_EMAIL),t.reduce(function(t,n){var i;return r(r({},t),((i={})[n]={isNew:!e.isSet(g(n))},i))},{})}(t),b=i.useCallback(function(e){var t;return m.setSettings(((t={})[g(e)]="on",t))},[m]);return{beautifulEmail:n.email,optinEnabled:null!==(e=null===c||void 0===c?void 0:c.optinEnabled)&&void 0!==e&&e,subscriptionCounters:null===c||void 0===c?void 0:c.counters,openSubscribesSettings:h,promos:v,markPromoViewed:b}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_SETTING_NAME_LENGTH=void 0,t.MAX_SETTING_NAME_LENGTH=30},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=void 0;var i=n(135),o=n(382);t.useSettingsPopupStore=function(){var e=o.getMailSettingsPopupStore(),t=r(i.useState(e.visible),2),n=t[0],a=t[1],s=r(i.useState(e.showAllThemes),2),l=s[0],c=s[1];return i.useEffect(function(){a(e.visible),c(e.showAllThemes)},[e.visible,e.showAllThemes]),{isPopupVisible:n,setPopupVisible:i.useCallback(function(t){e.toggle(t)},[e]),isAllThemesVisible:l,setAllThemesVisible:i.useCallback(function(t){e.toggleAllThemes(t)},[e])}}},function(e,t){e.exports={popup:"NewSettings__popup--3_kxq",dark:"NewSettings__dark--1ZULZ",icon:"NewSettings__icon--1MMbG",badge:"NewSettings__badge--7Gftm"}},function(e,t){},function(e,t,n){"use strict";var r=n(3558);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r,i,o,a,s,l,c,u,d,f=n(135),p=n.n(f),g=n(338),m=n.n(g),h=n(510),v=n.n(h),b=n(350),_=n(339),y=n.n(_),S=n(341),w=n(342),O=n(375),M=n(740),x=n(624),E=n(598),T=n(548),D=n(809),C=n(3559),P=(n.n(C),n(137));n.n(P);function k(e){"@babel/helpers - typeof";return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function L(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var B=E.a.SEARCH_TRIGGER,N=n(3560).default,U=Object(w.inject)("foldersStore","searchStore","searchService","searchLogService","settingsService","routerService")(r=Object(w.observer)((u=c=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),F(j(r=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?j(e):t}(this,I(t).call(this,e,n))),"_selectItem",o,j(r)),r._logSelectSuggestItem=function(e){var t=r.props,n=t.searchStore,i=t.searchLogService,o=e.data,a=n.getItemPosition(e)+1,s={text:n.searchQuery.currentShowText,suggestUsed:!0,target:o.target,show_text:o.show_text,search_text:o.search_text,itemPos:a};i.logSearchSuggest(s),i.suggestWasLogged=!0},F(j(r),"_handleMessageClick",a,j(r)),F(j(r),"_handleQueryLanguageClick",s,j(r)),F(j(r),"_setAdvancedOption",l,j(r)),r._getContainerClass=r._getContainerClass.bind(j(r)),r._searchViaEnterPress=r._searchViaEnterPress.bind(j(r)),r._searchViaButton=r._searchViaButton.bind(j(r)),r._startSuggest=r._startSuggest.bind(j(r)),r._activateSearchViaShortcut=r._activateSearchViaShortcut.bind(j(r)),r._suggestWrapper=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,p.a.Component),function(e,t,n){t&&A(e.prototype,t),n&&A(e,n)}(t,[{key:"componentDidMount",value:function(){this.props.searchLogService.setSuggestTrigger()}},{key:"_getItemShowText",value:function(e){var t=e.data;switch(t.target){case"mail":return t.show_text;default:return t.search_text}}},{key:"_searchViaEnterPress",value:function(){var e=this.props.searchLogService;e.setSearchTrigger(B.ENTER),e.endSuggestScenario(B.ENTER),this._startSearch({force:!0})}},{key:"_searchViaButton",value:function(){var e=this.props,t=e.searchLogService;e.searchStore.isFolded||(t.setSearchTrigger(B.BUTTON),t.endSuggestScenario(B.BUTTON),this._startSearch({force:!0}))}},{key:"_activateSearchViaShortcut",value:function(){this._startSuggest(v.a.HOTKEY),this._setFocusOnInput()}},{key:"_startSearch",value:function(e){var t=this.props,n=t.searchStore,r=t.searchService;n.showSuggest=!1,r.startSearch(n.searchQuery.currentShowText,e)}},{key:"_setFocusOnInput",value:function(e,t){this._suggestWrapper&&this._suggestWrapper.focusInput(e,t)}},{key:"toggleFolded",value:function(e){this._suggestWrapper&&this._suggestWrapper.toggleFolded(e)}},{key:"_startSuggest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.a.CLICK,t=this.props,n=t.foldersStore,r=t.searchStore,i=t.searchService,o=t.searchLogService,a=r.searchQuery;if(i.startSuggest(),Object(b.emitSuggestOpened)(e),r.isFolded&&Object(b.isCorp)()&&!i.getAdvanced("fid")){var s=n.getFolderBySymbol(P.WellKnownFolderSymbol.INBOX);s&&s.data.fid&&i.setAdvanced("fid",s.data.fid)}o.setSuggestTrigger(e),o.logSuggestActivation({suggestWithEmptyRequest:!a.currentSearchText})}},{key:"_getContainerClass",value:function(){var e=this.props.settingsService;return y()({"mail-SearchContainer":!0,"is-in-compact-header":e.isCompactHeaderMode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.toneDefault,r=t.toneActive,i=t.searchStore,o=t.settingsService,a=t.placeholder,s={searchQuery:i.searchQuery},l={toneDefault:n,toneActive:r,placeholder:a,isCompact:o.isCompactHeaderMode,getContainerClass:this._getContainerClass,getItemShowText:this._getItemShowText,startSuggest:this._startSuggest,searchViaButton:this._searchViaButton,searchViaEnterPress:this._searchViaEnterPress,selectItem:this._selectItem,ref:function(t){e._suggestWrapper=t}};return function(e,t,n,r){d||(d="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:d,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(O.default,{lang:Daria.locale},void 0,p.a.createElement(w.Provider,s,p.a.createElement(N,l)))}}]),t}(),c.propTypes={foldersStore:m.a.instanceOf(M.a).isRequired,searchStore:m.a.instanceOf(x.a).isRequired,searchService:m.a.instanceOf(E.b).isRequired,searchLogService:m.a.instanceOf(E.a).isRequired,settingsService:m.a.instanceOf(T.a).isRequired,routerService:m.a.instanceOf(D.a).isRequired,toneDefault:m.a.string,toneActive:m.a.string,className:m.a.string,placeholder:m.a.string},L((i=u).prototype,"_startSearch",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_startSearch"),i.prototype),o=L(i.prototype,"_selectItem",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!0},r=e.props,i=r.searchStore,o=r.searchService,a=r.searchLogService,s=t.data,l=!1,c=!1;switch(e._logSelectSuggestItem(t),a.setSearchTrigger(B.SUGGEST),i.showSuggest=!1,s.target){case"mail":c=l=e._handleMessageClick(s);break;case"ql":e._handleQueryLanguageClick(s),l=!0,c=void 0;break;case"folder":l=e._setAdvancedOption("fid",s.fid);break;case"label":case"important":l=e._setAdvancedOption("lid",s.lid);break;case"unread":l=e._setAdvancedOption("unread",!0)}return l||(i.searchQuery.currentShowText=s.search_text,o.startSearch(s.search_text,n)),window.Apdex.start(["Performance_searchResult"],!0),c}}}),a=L(i.prototype,"_handleMessageClick",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.routerService;return!!t.mid&&(n.navigateToMessage(t.mid,t.fid),!0)}}}),s=L(i.prototype,"_handleQueryLanguageClick",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.searchStore.searchQuery;n.currentSearchText=t.search_text,n.currentSuggestText=t.search_text,n.currentShowText=t.search_text,e._setFocusOnInput()}}}),l=L(i.prototype,"_setAdvancedOption",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.props,i=r.searchStore.searchQuery,o=r.searchService;return!!n&&(o.setAdvanced(t,n),i.currentSearchText="",i.currentSuggestText="",i.currentShowText="",!0)}}}),r=i))||r)||r;t.a=U},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,l,c,u=n(135),d=n.n(u),f=n(338),p=n.n(f),g=n(341),m=n(342),h=n(350),v=n(510),b=n.n(v),_=n(624),y=n(741),S=n(740),w=n(809),O=n(548),M=n(1137),x=n(598),E=n(3561),T=n(3562),D=n(3563),C=n(393),P=n(1017),k=n(1565),A=n(1162),I=n(3581),j=n(808),R=n(625),F=n(3599),L=n(376),B=n.n(L);function N(e){"@babel/helpers - typeof";return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t,n,r){c||(c="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:c,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var G=k.a.SEARCH_TRIGGER,K=k.a.FOLD_SOURCE,Y=i18n("%ServiceTabs__Search_Button"),X=i18n("%Toolbar_Mobile_SearchMessages"),J=i18n("%Search_Bubble_Remove"),Q=(z(l={},K.SHORTCUT,b.a.HOTKEY),z(l,K.CLOSE_CLICK,b.a.CLICK),z(l,K.RIGHT_CONTENT_CLICK,b.a.CLICK),z(l,K.BG_CLICK,b.a.BG_CLICK),l),Z=$(F.a,{"aria-hidden":"true"}),ee=$(P.a,{}),te=Object(m.inject)("searchStore","routerStore","foldersStore","routerService","searchService","searchLogService","settingsService","queryLanguageService")(r=Object(m.observer)((s=a=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(W(r=function(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?W(e):t}(this,H(t).call(this,e,n))),"_changeQuery",o,W(r)),r._suggest=null,r._isSuggestVisible=r._isSuggestVisible.bind(W(r)),r._foldSuggest=r._foldSuggest.bind(W(r)),r._unfoldSuggest=r._unfoldSuggest.bind(W(r)),r._changeQuery=r._changeQuery.bind(W(r)),r._onClearClick=r._onClearClick.bind(W(r)),r._onCloseClick=r._onCloseClick.bind(W(r)),r._onFoldedChanged=r._onFoldedChanged.bind(W(r)),r._onSearchFinish=r._onSearchFinish.bind(W(r)),r._onSubmit=r._onSubmit.bind(W(r)),r._onSuggestStateChanged=r._onSuggestStateChanged.bind(W(r)),r._shouldFoldOnEsc=r._shouldFoldOnEsc.bind(W(r)),r._showAdvancedSearch=r._showAdvancedSearch.bind(W(r)),r._onKeyDownA11y=r._onKeyDownA11y.bind(W(r)),r._updateSuggestWithA11y=r._updateSuggestWithA11y.bind(W(r)),r._onBubblesRemove=r._onBubblesRemove.bind(W(r)),r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,d.a.Component),function(e,t,n){t&&U(e.prototype,t),n&&U(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchStore,n=e.routerStore,r=e.searchService,i=e.settingsService,o=e.queryLanguageService;this._navigationSearchReaction=new D.a({routerStore:n,searchStore:t},{searchService:r,settingsService:i},{fold:this._foldSuggest,unfold:this._unfoldSuggest}),this._searchSuggestReaction=new E.a(t,r,this._isSuggestVisible),this._searchReaction=new T.a({searchStore:t,routerStore:n},{searchService:r,queryLanguageService:o}),window.addEventListener("keydown",this._onKeyDownA11y,!0)}},{key:"componentWillUnmount",value:function(){this._navigationSearchReaction.cancel(),this._searchSuggestReaction.cancel(),this._searchReaction.cancel(),window.removeEventListener("keydown",this._onKeyDownA11y)}},{key:"focusInput",value:function(){var e;this._suggest&&(e=this._suggest).focusInput.apply(e,arguments)}},{key:"toggleFolded",value:function(e){e?this._foldSuggest():this._unfoldSuggest()}},{key:"_isSuggestVisible",value:function(){return Boolean(this._suggest&&this._suggest.isSuggestVisible())}},{key:"_onFoldedChanged",value:function(e){var t=this.props,n=t.searchStore,r=t.searchService,i=t.searchLogService,o=t.isCompact;n.isFolded=e,e?(r.resetSearch(),r.cleanupSuggest(),n.dropSearchSession(),o&&Object(h.toolbarRestruct)()):i.countSearchActivation(),Object(h.toggleSearchAppMode)(!e),this._updateSuggestWithA11y()}},{key:"_onSuggestStateChanged",value:function(e){this.setState({suggestState:e})}},{key:"_onSearchFinish",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.routerService,i=n.searchLogService;i.logSearchFinish(Q[e]),i.endSuggestScenario(Q[e]),t&&r.openLastPageBeforeSearch()}},{key:"_renderItem",value:function(e){return $(I.a,{item:e})}},{key:"_shouldFoldOnEsc",value:function(){return!this.props.routerStore.isSearchResultsPage}},{key:"_getItemType",value:function(e){return e.data.target}},{key:"_onSubmit",value:function(e){var t=this.props,n=t.searchViaButton,r=t.searchViaEnterPress;e===G.ENTER_PRESS?r():n(),window.Apdex.start(["Performance_searchResult"],!0)}},{key:"_onClearClick",value:function(){var e=this.props.searchLogService;e.countTextCleared(),e.logSuggestClear()}},{key:"_onCloseClick",value:function(){var e=this.props,t=e.searchLogService,n=e.searchStore.searchQuery;n.isAdvancedDirty&&(n.reset(),this.focusInput()),t.countSuggestClose()}},{key:"_showAdvancedSearch",value:function(){var e=this.props,t=e.searchService,n=e.searchStore,r=n.searchQuery;r.currentShowText&&r.currentShowText!==r.currentSearchText?this._onSubmit():t.shouldDisplayAdvancedSearch||n.setForceShowAdvancedSearch(!0),this._unfoldSuggest()}},{key:"_maybeRenderAdvancedSearchButton",value:function(){var e=this.props,t=e.searchService,n=e.searchStore;return!t.shouldDisplayAdvancedSearch||this.state.suggestState===A.b.UNFOLDED_ACTIVE&&n.suggestItems.length?$(C.a,{theme:"normal",view:"default",tone:"mail-suggest-themed",size:"n",cls:"search-input__advanced-button",icon:Z,title:i18n("%Search_Advanced_Search"),onClick:this._showAdvancedSearch}):null}},{key:"_renderRocksSuggest",value:function(){var e=this,t=this.props,n=t.searchStore,r=t.toneActive,i=t.isCompact,o=t.selectItem,a=t.startSuggest,s=t.getItemShowText,l=t.searchService,c=t.placeholder;this._logShowDefaultSuggest();var u=l.hasUserBubbles;return d.a.createElement(k.a,{ref:function(t){e._suggest=t},suggestQuery:n.searchQuery.currentShowText,isNarrow:!0,isMobile:!1,isCompact:i,toneDefault:"mail-suggest-themed",toneActive:r,maxLength:j.d,clsActivator:"mail-GhostButton",runsInIE:R.default.isIE(),iconPosition:"right",bubbles:l.bubbles,onBubblesRemove:this._onBubblesRemove,placeholderDefault:c||X,placeholderCustom:c||X,suggestItems:n.suggestItems,keepExpanded:u,shouldNotDeactivateOnClose:n.searchQuery.isAdvancedDirty,renderItem:this._renderItem,showClose:!0,removeSearchBubbleTitle:J,searchButtonText:Y,getShowText:s,getItemType:this._getItemType,handleItemSelect:o,shouldFoldOnEsc:this._shouldFoldOnEsc,startSuggest:a,onTextChange:this._changeQuery,onClearClick:this._onClearClick,onFoldedChanged:this._onFoldedChanged,onStateChanged:this._onSuggestStateChanged,onSubmit:this._onSubmit,onCloseClick:this._onCloseClick,onActiveChange:h.toggleVerticalScrollBar,onSearchFinish:this._onSearchFinish,advancedButton:this._maybeRenderAdvancedSearchButton(),cls:"js-a11y-suggest"})}},{key:"_logShowDefaultSuggest",value:function(){var e=this.props,t=e.searchStore,n=e.searchLogService;this._isSuggestVisible()&&t.searchQuery.isDefaultSuggest&&t.hasSuggestItems&&n.logSearchSuggest({suggestWithEmptyRequest:!0})}},{key:"_foldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!0,this._suggest.fold())}},{key:"_unfoldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!1,this._suggest.unfold())}},{key:"_updateSuggestWithA11y",value:function(){var e=document.querySelector(".js-a11y-suggest");if(e){e.querySelectorAll(".ufo-icon").forEach(function(e){e.setAttribute("aria-hidden","true")});var t=e.querySelector(".search-input__advanced-button");t&&t.setAttribute("aria-label",i18n("%Search_Advanced_Search"));var n=e.querySelector(".search-input__narrow-close-button");n&&n.setAttribute("aria-label",i18n("%"))}}},{key:"_onKeyDownA11y",value:function(e){var t=document.querySelector(".js-a11y-suggest");if(this._isSuggestVisible()&&t){var n=e.keyCode===B.a.TAB,r=t.querySelector(".search-input__form-button");n&&!this._suggest._inputFocused&&r===document.activeElement&&this._suggest._deactivate(K.SHORTCUT)}}},{key:"_onBubblesRemove",value:function(e){var t=this,n=this.props.searchService,r=this._suggest;n.removeBubbles(e),r&&r._inputRef&&setTimeout(function(){t.focusInput(),r._inputRef.setFocus("end")},0)}},{key:"render",value:function(){return $("div",{className:(0,this.props.getContainerClass)()},void 0,this._renderRocksSuggest(),ee)}}]),t}(),a.propTypes={searchStore:p.a.instanceOf(_.a).isRequired,routerStore:p.a.instanceOf(y.a).isRequired,foldersStore:p.a.instanceOf(S.a).isRequired,routerService:p.a.instanceOf(w.a).isRequired,searchService:p.a.instanceOf(x.b).isRequired,searchLogService:p.a.instanceOf(x.a).isRequired,settingsService:p.a.instanceOf(O.a).isRequired,queryLanguageService:p.a.instanceOf(M.a).isRequired,toneActive:p.a.string,placeholder:p.a.string,isCompact:p.a.bool.isRequired,getContainerClass:p.a.func.isRequired,getItemShowText:p.a.func.isRequired,startSuggest:p.a.func.isRequired,searchViaButton:p.a.func.isRequired,searchViaEnterPress:p.a.func.isRequired,selectItem:p.a.func.isRequired},o=q((i=s).prototype,"_changeQuery",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.searchStore.searchQuery;n.currentSuggestText=t,n.currentShowText=t}}}),q(i.prototype,"_onFoldedChanged",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"_onFoldedChanged"),i.prototype),q(i.prototype,"_onCloseClick",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"_onCloseClick"),i.prototype),q(i.prototype,"_foldSuggest",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"_foldSuggest"),i.prototype),q(i.prototype,"_unfoldSuggest",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"_unfoldSuggest"),i.prototype),r=i))||r)||r;t.default=te},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(717);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).call(this,function(){return e.searchQuery.paramsForSuggest},function(){r()&&n.startSuggest()}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(717),i=n(136),o=n.n(i);function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(e,n){var r=e.searchStore,i=e.routerStore,a=n.searchService;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,l(t).call(this,function(){return r.searchQuery.getAutosearchParams()},function(){var e=!i.isMessagesListPage,t=i.isNavigatingToMessageInList,n=r.isFolded&&!r.forceShowAdvancedSearch,o=a.isSearchLocked;e||t||n||o||a.startSearch(r.searchQuery.currentShowText,{force:!0})},{equals:function(e,t){return o.a.isEqual(e,t)}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,r["a"]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(717);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(e,n,r){var i=e.routerStore,s=e.searchStore,l=n.searchService,c=n.settingsService,u=r.fold,d=r.unfold;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,a(t).call(this,function(){return{page:i.currentPage.page,params:i.currentPage.params}},function(){var e=i.isSearchResultsPage,t=i.isCollectorSearch();if(s.forceShowAdvancedSearch&&s.setForceShowAdvancedSearch(!1),!s.wasSearchRequestSimplified||!e&&!t){if(t)return u(),void s.searchQuery.reset();l.syncSearchQuery();var n=!c.isCompactHeaderMode||!i.currentPage.params.ids;s.searchQuery.currentShowText=n?s.searchQuery.currentSuggestText:"";var r=s.searchQuery.isAdvancedDirty||Boolean(s.searchQuery.currentSearchText);s.isFolded&&e&&r&&n?d():s.isFolded||e||u()}},{fireImmediately:!0}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["a"]),t}()},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r,i,o,a,s=n(135),l=n.n(s),c=n(338),u=n.n(c),d=n(342),f=n(743),p=n(598),g=n(790),m=(n.n(g),n(3)),h=(n.n(m),n(3582)),v=n(3585),b=n(3588),_=n(3589),y=n(3590),S=n(3591),w=n(3592),O=n(3593),M=n(3594),x=n(3595),E=n(3596),T=n(3597),D=(n.n(T),n(3598));n.n(D);function C(e){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=Object(d.inject)("settingsStore","searchService","searchLogService")(r=Object(d.observer)((o=i=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=k(this,(e=A(t)).call.apply(e,[this].concat(i))))._onClickRemove=function(){var e=n.props,t=e.item,r=e.searchService,i=e.searchLogService;r.removeSuggestItem(t),i.countSuggestAction("Delete history item"),i.logSuggestHistoryItemRemove()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,l.a.PureComponent),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"_isAttach",value:function(){var e=this.props.item.data,t=e.scopes,n=void 0===t?[]:t,r=e.attachments,i=void 0===r?[]:r;return 1===n.length&&"attachment"===n[0]&&i.length>0}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.settingsStore,r=t.data;switch(r.target){case"history":return j(h.a,{itemData:r,onRemove:this._onClickRemove});case"subject":return j(w.a,{itemData:r});case"ql":return j(O.a,{itemData:r});case"contact":return j(v.a,{itemData:r});case"mail":return this._isAttach()?j(_.a,{itemData:r,isBiggerText:n.isBiggerText}):j(b.a,{itemData:r});case"show-all-results":return j(S.a,{itemData:r});case"folder":return j(y.a,{itemData:r});case"label":return j(M.a,{itemData:r});case"important":return j(x.a,{itemData:r});case"unread":return j(E.a,{itemData:r});default:return Object(g.log)({type:m.ErrorType.Render,source:m.ErrorSource.Logic,sourceMethod:m.ErrorSourceMethod.Search,block:m.ErrorBlock.Search,method:"SearchSuggestRocksItem.render",message:"Unsupported target",additional:{target:r.target}}),null}}}]),t}(),i.propTypes={settingsStore:u.a.instanceOf(f.c).isRequired,searchService:u.a.instanceOf(p.b).isRequired,searchLogService:u.a.instanceOf(p.a).isRequired,item:u.a.object.isRequired},r=o))||r)||r},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(446),c=n(360),u=n(393);function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=i18n("%Search_Suggest_RemoveItemTitle"),b=h("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,h(c.default,{id:"mail--SearchSuggest-History_2",cls:"mail-IconContainer"})),_=h(c.default,{id:"mail--SearchSuggest-Close"}),y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=p(this,(e=g(t)).call.apply(e,[this].concat(i)))).onRemoveClick=function(e){e.stopPropagation(),(0,n.props.onRemove)()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){var e=this.props.itemData;return h("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-History"},void 0,b,h("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,h(l.a,{htmlText:e.show_text_highlighted})),h(u.a,{theme:"clear",size:"m",cls:"mail-SuggestItem-Rocks-History-Remove",onClick:this.onRemoveClick,title:v,controlAttrs:{"aria-label":v}},void 0,_))}}]),t}();y.propTypes={itemData:s.a.object.isRequired,onRemove:s.a.func.isRequired},y.defaultProps={onRemove:function(){}}},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(339),l=n.n(s),c=n(3584);n.n(c);function u(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.text,n=e.htmlText,r=e.cls,i=void 0===r?"":r;if(!t&&!n)return null;var o=l()(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"mail-LimitLongText":!0},i,!0));return t?u("span",{className:o},void 0,t):u("span",{className:o,dangerouslySetInnerHTML:{__html:n}})};d.propTypes={text:a.a.string,htmlText:a.a.string,cls:a.a.string},t.a=d},function(e,t){},function(e,t,n){"use strict";var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(353),c=n(446),u=n(3586),d=n(1087);n.n(d);function f(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f("span",{className:"mail-SuggestItem-Rocks-Divider"},void 0,""),g=function(e){var t=e.itemData;return f("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Contact"},void 0,f("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,Object(i.useMemo)(function(){var e=f(u.a,{email:t.email,name:t.display_name,className:"mail-IconContainer"});return f(d.AvatarTooltip,{contact:{email:t.email,name:t.display_name},avatar:e})},[t])),f("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,f("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,f(c.a,{htmlText:t.display_name_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Name"})),f("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,f(c.a,{htmlText:t.email_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Email"}),t.isExternal&&o.a.createElement(o.a.Fragment,null,p,f("div",{className:"mail-SuggestItem-Rocks-ExternalBadge"},void 0,Object(l.default)("contact-card/externalContactShort"))))))};g.propTypes={itemData:s.a.object.isRequired},t.a=g},function(e,t,n){"use strict";var r=n(3587);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(785);function c(e){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,f(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.cls,n=e.email,i={email:n,name:e.name||n,size:30,href:!1,mode:"MessageSnippet-Item_userpic"};return function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:t,dangerouslySetInnerHTML:{__html:Object(l.a)(i)}})}}]),t}();g.propTypes={email:s.a.string.isRequired,name:s.a.string,cls:s.a.string}},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446),l=n(360),c=n(391);function u(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=u("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,u(l.default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),f=function(e){var t=e.itemData;return u("div",{className:"mail-SuggestItem-Rocks"},void 0,d,u("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,u("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,u(s.a,{htmlText:t.display_name_highlighted||t.display_name,cls:"mail-SuggestItem-Rocks-Mail-From"}),u("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(c.getMessagesListDate)(t.received_date))),u("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,u(s.a,{htmlText:t.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Mail-Subject"}))))};f.propTypes={itemData:a.a.object.isRequired},t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(391),c=n(1107),u=n(360),d=n(446);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b={normalText:{font:"13px Arial, sans-serif",width:180},bigText:{font:"15px Arial, sans-serif",width:210}},_=v("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,v(u.default,{id:"mail--SearchSuggest-Attach",cls:"mail-IconContainer"})),y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=g(this,(e=m(t)).call.apply(e,[this].concat(i))))._renderAttach=function(e){var t=n.props.isBiggerText?b.bigText:b.normalText,r=e.fileext&&"."===e.fileext[0]?e.fileext.substr(1):e.fileext;return v("li",{className:"mail-SuggestItem-Rocks-Attach-FilesItem mail-File_type_".concat(r),tabIndex:"0"},e.hid,v("span",{className:"mail-SuggestItem-Rocks-Attach-Extension mail-File-Extension"},void 0,r),v(c.default,{text:e.filename,className:"mail-SuggestItem-Rocks-Attach-FileName",font:t.font,width:t.width}))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.Component),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"_maybeRenderMoreAttachesButton",value:function(e){return e.length<3?null:v("li",{className:"mail-SuggestItem-Rocks-Attach-Total"},void 0,i18n("%Search_Suggest_TotalAttaches",e.length))}},{key:"render",value:function(){var e=this.props.itemData;return v("div",{className:"mail-SuggestItem-Rocks"},void 0,_,v("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,v("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,v(d.a,{htmlText:e.display_name_highlighted||e.display_name,cls:"mail-SuggestItem-Rocks-Attach-From"}),v(d.a,{htmlText:e.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Attach-Subject"}),v("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(l.getMessagesListDate)(e.received_date))),v("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,v("ul",{className:"mail-SuggestItem-Rocks-Attach-Files"},void 0,e.attachments.slice(0,2).map(this._renderAttach),this._maybeRenderMoreAttachesButton(e.attachments)))))}}]),t}();y.propTypes={isBiggerText:s.a.bool.isRequired,itemData:s.a.object.isRequired}},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446);function l(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=l("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,l(n(360).default,{id:"mail--SearchSuggest-Folder",cls:"mail-IconContainer"})),u=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem-Rocks"},void 0,c,l("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,l(s.a,{htmlText:t.show_text_highlighted})))};u.propTypes={itemData:a.a.object.isRequired},t.a=u},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446),l=n(360),c=n(136),u=n.n(c);function d(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=d("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,d(l.default,{id:"mail--Header-Search",cls:"mail-IconContainer"}));function p(e){var t=e.itemData;return d("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-AllResults"},void 0,f,d("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,d(s.a,{htmlText:i18n("%Search_Suggest_ShowAllResults",'<span class="mail-SuggestItem-Rocks__search-term">'.concat(u.a.escape(t.search_text),"</span>"))})))}p.propTypes={itemData:a.a.object.isRequired},t.a=p},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446);function l(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=l("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,l(n(360).default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),u=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Subject"},void 0,c,l("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,l(s.a,{htmlText:t.show_text_highlighted})))};t.a=u,u.propTypes={itemData:a.a.object.isRequired}},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446);function l(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=l(n(360).default,{id:"mail--SearchSuggest-Ql",cls:"mail-IconContainer"}),u=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,c,l(s.a,{htmlText:t.show_text_highlighted||t.show_text}))};u.propTypes={itemData:a.a.object.isRequired},t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var r,i,o,a,s=n(135),l=n.n(s),c=n(338),u=n.n(c),d=n(789),f=(n.n(d),n(446)),p=n(360),g=n(342),m=n(844),h=n(790),v=(n.n(h),n(808)),b=n(3);n.n(b);function _(e){"@babel/helpers - typeof";return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var x=Object(g.inject)("labelsStore")(r=Object(g.observer)((o=i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,w(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,l.a.PureComponent),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"_getLabelColor",value:function(){var e=this.props,t=e.labelsStore,n=e.itemData,r=t.getLabelById(n.lid);return r?Object(d.getLabelColors)(r.data.color).background:(Object(h.log)({type:b.ErrorType.Render,source:b.ErrorSource.Logic,sourceMethod:b.ErrorSourceMethod.Search,block:b.ErrorBlock.Search,method:"_getLabelColor",message:"Search suggest unknown label",lid:n.lid}),v.e)}},{key:"render",value:function(){var e=this.props.itemData;return M("div",{className:"mail-SuggestItem"},void 0,M(p.default,{id:"mail--SearchSuggest-Label",color:this._getLabelColor(),cls:"mail-IconContainer"}),M(f.a,{htmlText:e.show_text_highlighted}))}}]),t}(),i.propTypes={labelsStore:u.a.instanceOf(m.a).isRequired,itemData:u.a.object.isRequired},r=o))||r)||r},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446);function l(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=l(n(360).default,{id:"mail--SearchSuggest-Important",cls:"mail-IconContainer"}),u=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,c,l(s.a,{htmlText:t.show_text_highlighted}))};u.propTypes={itemData:a.a.object.isRequired},t.a=u},function(e,t,n){"use strict";var r,i=n(135),o=(n.n(i),n(338)),a=n.n(o),s=n(446);function l(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=l(n(360).default,{id:"mail--SearchSuggest-Unread",cls:"mail-IconContainer"}),u=function(e){var t=e.itemData;return l("div",{className:"mail-SuggestItem"},void 0,c,l(s.a,{htmlText:t.show_text_highlighted}))};u.propTypes={itemData:a.a.object.isRequired},t.a=u},function(e,t){},function(e,t){},,function(e,t,n){"use strict";var r=n(3601),i=n(440),o=(n.n(i),n(403)),a=(n.n(o),Object(i.withPsTheme)({source:o.DarkSource.Content})(r.a));t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return se});var r,i,o,a,s,l=n(135),c=n.n(l),u=n(338),d=n.n(u),f=n(342),p=n(341),g=n(339),m=n.n(g),h=n(624),v=n(740),b=n(844),_=n(598),y=n(548),S=n(588),w=n(1137),O=n(393),M=n(395),x=n.n(M),E=n(143),T=(n.n(E),n(360)),D=n(375),C=n(717),P=n(350),k=n(136),A=n.n(k),I=n(3602),j=n(3605),R=n(3608),F=n(3611),L=n(3614),B=n(3619),N=(n.n(B),n(1136)),U=n(344);function H(e){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,n,r){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),l=0;l<o;l++)a[l]=arguments[l+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:s,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var G=function(){return x()()("mail-AdvancedSearch")},K=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_service"}),Y=q(U.default,{loc:"suggest-react/advanced-search-filter-services"}),X=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_attach"}),J=q(U.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),Q=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_calendar"}),Z=q(U.default,{loc:"suggest-react/advanced-search-label-date"}),ee=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_folder"}),te=q(U.default,{loc:"suggest-react/advanced-search-label-folder"}),ne=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_from"}),re=q(U.default,{loc:"suggest-react/advanced-search-filter-from"}),ie=q(T.default,{ariaHidden:!0,id:"mail--AdvancedSearch_to"}),oe=q(U.default,{loc:"suggest-react/advanced-search-filter-to"}),ae=q(U.default,{loc:"suggest-react/advanced-search-label-more"}),se=Object(f.inject)("searchStore","foldersStore","labelsStore","searchService","searchLogService","settingsService","queryLanguageService")(r=Object(f.observer)((a=o=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?z(e):t}(this,V(t).call(this,e)))._logAction=n._logAction.bind(z(n)),n._onDateSelected=n._onDateSelected.bind(z(n)),n._onFolderSelected=n._onFolderSelected.bind(z(n)),n._onServiceSelected=n._onServiceSelected.bind(z(n)),n._toggleImportantFilterValue=n._toggleImportantFilterValue.bind(z(n)),n._onPopupOutsideClick=n._onPopupOutsideClick.bind(z(n)),n._onScopeSelected=n._onScopeSelected.bind(z(n)),n._toggleUnreadFilterValue=n._toggleUnreadFilterValue.bind(z(n)),n._toggleAttachesFilterValue=n._toggleAttachesFilterValue.bind(z(n)),n._togglePopup=n._togglePopup.bind(z(n)),n._hidePopupOnWindowScroll=n._hidePopupOnWindowScroll.bind(z(n)),n._toggleScopeFilterValue=n._toggleScopeFilterValue.bind(z(n)),n._servicesButton=c.a.createRef(),n._datesButton=c.a.createRef(),n._foldersButton=c.a.createRef(),n._fromButton=c.a.createRef(),n._toButton=c.a.createRef(),n._moreButton=c.a.createRef(),n._showHideReaction=new C.a(function(){return e.searchService.shouldDisplayAdvancedSearch},function(){Object(P.toggleAdvancedSearchAppMode)(e.searchService.shouldDisplayAdvancedSearch),Object(P.changeRightColumSize)(),n.setState({displayedPopup:null})}),n.state={buttonKey:"firstButtonKey"},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,c.a.PureComponent),function(e,t,n){t&&W(e.prototype,t),n&&W(e,n)}(t,[{key:"componentDidMount",value:function(){Object(P.toggleAdvancedSearchAppMode)(this.props.searchService.shouldDisplayAdvancedSearch),window.addEventListener("scroll",this._hidePopupOnWindowScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._hidePopupOnWindowScroll),this._showHideReaction.cancel()}},{key:"_toggleAttachesFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("attaches");e.setAdvanced("attaches",t),this._logAction("Attaches button",t)}},{key:"_onDateSelected",value:function(e){var t=e.from,n=e.to;this.props.searchService.setMultipleAdvanced({name:"from",value:t},{name:"to",value:n}),this.setState({displayedPopup:null})}},{key:"_onFolderSelected",value:function(e){this.props.searchService.setAdvanced("fid",e),this.setState({displayedPopup:null}),this._logAction("Folder item",Boolean(e))}},{key:"_onServiceSelected",value:function(e){this.props.searchService.setAdvanced("serviceId",e),this.setState({displayedPopup:null}),this._logAction("Service item",Boolean(e))}},{key:"_onScopeSelected",value:function(e){this._toggleScopeFilterValue(e),this.setState({displayedPopup:null})}},{key:"_toggleImportantFilterValue",value:function(){var e=this.props,t=e.searchService,n=e.labelsStore.getImportantId(),r=n===t.getAdvanced("lid")?null:n;t.setAdvanced("lid",r),this.setState({displayedPopup:null}),this._logAction("Important item",Boolean(r))}},{key:"_toggleUnreadFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("unread");e.setAdvanced("unread",t),this.setState({displayedPopup:null}),this._logAction("Unread item",t)}},{key:"_onContactSelected",value:function(e,t){var n=this.props.searchService;e&&n.setAdvanced("hdr_"+t,e.email),this._logAction("".concat(A.a.capitalize(t)," item"),!0),this._togglePopup()}},{key:"_togglePopup",value:function(e){this.state.displayedPopup===e?this.setState({displayedPopup:null}):this.setState({displayedPopup:e})}},{key:"_hidePopupOnWindowScroll",value:function(){this.state.displayedPopup&&Object(P.hasFixedToolbar)()&&(this.setState(function(e){return{buttonKey:"firstButtonKey"===e.buttonKey?"secondButtonKey":"firstButtonKey"}}),setTimeout(this._togglePopup,0))}},{key:"_toggleScopeFilterValue",value:function(e){var t,n=this.props.searchService;t=n.getAdvanced("scope")===e,n.setAdvanced("scope",t?null:e),this._logAction("Scope button ".concat(e),!t)}},{key:"_isScopeActive",value:function(e){return this.props.searchService.getAdvanced("scope")===e}},{key:"_onPopupOutsideClick",value:function(e){for(var t=e.target;t.parentElement;){if(t.classList.contains("js-prevent-popup-close"))return;t=t.parentElement}"HTML"===t.nodeName&&this.setState({displayedPopup:null})}},{key:"_logAction",value:function(e,t){var n=this.props,r=n.searchLogService,i=n.searchService;r.countNewAdvancedSearch(e,t?"on":"off",i.bubbles.length)}},{key:"maybeRenderPopup",value:function(){var e=this,t=this.state.displayedPopup;if(!t)return null;var n,r,i=this.props,o=i.searchService,a=i.foldersStore,s=i.labelsStore;switch(t){case"service":var l=Object(N.a)()||[];n=q(j.a,{cls:G().e("popup-content"),services:l||[],selectedServiceId:o.getAdvanced("serviceId"),onServiceSelected:this._onServiceSelected}),r=this._servicesButton.current;break;case"date":n=q(F.a,{cls:G().e("popup-content"),from:o.getAdvanced("from"),to:o.getAdvanced("to"),onDateSelected:this._onDateSelected,logAction:this._logAction}),r=this._datesButton.current;break;case"folder":n=q(I.a,{cls:G().e("popup-content"),folders:a.foldersForSearch.map(function(e){return e.data}),selectedFid:o.getAdvanced("fid"),onFolderSelected:this._onFolderSelected}),r=this._foldersButton.current;break;case"more":var c=o.getAdvanced("scope"),u=o.getAdvanced("lid");n=q(R.a,{cls:G().e("popup-content"),scope:c,onScopeSelected:this._onScopeSelected,important:Boolean(u&&u===s.getImportantId()),onImportantSelected:this._toggleImportantFilterValue,unread:Boolean(o.getAdvanced("unread")),onUnreadSelected:this._toggleUnreadFilterValue,logAction:this._logAction}),r=this._moreButton.current;break;case"from":case"to":n=q(L.a,{cls:G().e("popup-content"),type:t,onValueSelected:function(n){return e._onContactSelected(n,t)},onCancel:this._togglePopup,value:o.getAdvanced("hdr_"+t)}),r=this["_".concat(t,"Button")].current}return q(E.Popup,{visible:!0,anchor:{current:r.control},theme:"normal",view:"default",target:"anchor",onClose:this._onPopupOutsideClick,direction:"bottom-start",enableFocusTrap:!0},t,n)}},{key:"_maybeRenderServicesButton",value:function(){var e=this;if(Object(P.isCorp)()){var t=this.props.searchService;return c.a.createElement(O.a,{theme:"action",size:"l",cls:G().e("button").m({active:Boolean(t.getAdvanced("serviceId"))}),ref:this._servicesButton,onClick:function(){return e._togglePopup("service")}},K,Y)}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchService,r=t.className,i=t.labelsStore,o=this.state.buttonKey;if(!n.shouldDisplayAdvancedSearch)return null;var a=Boolean(n.getAdvanced("from")||n.getAdvanced("to")),s=this._isScopeActive("hdr_from")||Boolean(n.getAdvanced("hdr_from")),l=this._isScopeActive("hdr_to")||Boolean(n.getAdvanced("hdr_to")),u=n.getAdvanced("lid"),d=this._isScopeActive("hdr_subject")||this._isScopeActive("body_text")||Boolean(n.getAdvanced("unread"))||Boolean(u&&u===i.getImportantId());return q(D.default,{lang:Daria.locale},void 0,q("div",{className:m()(G().toString(),r)},void 0,this._maybeRenderServicesButton(),q(O.a,{theme:"action",size:"l",cls:G().e("button").m({active:Boolean(n.getAdvanced("attaches"))}),onClick:this._toggleAttachesFilterValue,checked:Boolean(n.getAdvanced("attaches"))},void 0,X,J),c.a.createElement(O.a,{key:o+"date",theme:"action",size:"l",cls:G().e("button").m({active:a}),ref:this._datesButton,onClick:function(){return e._togglePopup("date")},checked:a},Q,Z),c.a.createElement(O.a,{key:o+"fid",theme:"action",size:"l",cls:G().e("button").m({active:Boolean(n.getAdvanced("fid"))}),ref:this._foldersButton,onClick:function(){return e._togglePopup("folder")},checked:Boolean(n.getAdvanced("fid"))},ee,te),c.a.createElement(O.a,{key:o+"from",theme:"action",size:"l",cls:G().e("button").m({active:s}),ref:this._fromButton,onClick:function(){return e._togglePopup("from")},checked:s},ne,re),c.a.createElement(O.a,{key:o+"to",theme:"action",size:"l",cls:G().e("button").m({active:l}),ref:this._toButton,onClick:function(){return e._togglePopup("to")},checked:l},ie,oe),c.a.createElement(O.a,{key:o+"more",theme:"action",size:"l",cls:G().e("button").m({active:!1}),ref:this._moreButton,onClick:function(){return e._togglePopup("more")},checked:d},ae),this.maybeRenderPopup()))}}]),t}(),o.propTypes={searchStore:d.a.instanceOf(h.a).isRequired,foldersStore:d.a.instanceOf(v.a).isRequired,labelsStore:d.a.instanceOf(b.a).isRequired,searchService:d.a.instanceOf(_.b).isRequired,searchLogService:d.a.instanceOf(S.a).isRequired,settingsService:d.a.instanceOf(y.a).isRequired,queryLanguageService:d.a.instanceOf(w.a).isRequired,className:d.a.string},function(e,t,n,r,i){var o={};Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null)}((i=a).prototype,"_toggleScopeFilterValue",[p.action],Object.getOwnPropertyDescriptor(i.prototype,"_toggleScopeFilterValue"),i.prototype),r=i))||r)||r},function(e,t,n){"use strict";var r=n(3603);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(761),d=n(376),f=n.n(d),p=n(3604);n.n(p);function g(e){"@babel/helpers - typeof";return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?v(e):t}(this,(e=h(t)).call.apply(e,[this].concat(i))))._onKeyDown=function(e){var t=n.props.folders,r=n.state.focusedIndex,i=Array.isArray(t)?t.map(function(e){return e.fid}):[],o=r+1>i.length-1?0:r+1,a=r-1<0?i.length-1:r-1,s=i[r];switch(e.keyCode){case f.a.DOWN:n.setState({focusedIndex:o});break;case f.a.UP:n.setState({focusedIndex:a});break;case f.a.ENTER:s&&n._onFolderClick(s)}e.preventDefault()},n._updateMenuItems=function(){if(n._popupRef&&n._popupRef.current){var e=n.state.focusedIndex,t=n._popupRef.current.querySelector(".menu");if(t){var r=t.querySelectorAll(".menu__item");r.forEach(function(e){e.removeAttribute("aria-selected")});var i=r[e];if(i){var o=i.offsetHeight,a=i.offsetTop,s=t.offsetHeight,l=t.scrollTop,c=a+o>l+s;a<l&&t.scrollTo(0,a),c&&t.scrollTo(0,a-s+o)}}}},n._onFolderClick=n._onFolderClick.bind(v(n)),n._onKeyDown=n._onKeyDown.bind(v(n)),n._updateMenuItems=n._updateMenuItems.bind(v(n)),n.state={focusedIndex:0},n._popupRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"componentDidMount",value:function(){this._updateMenuItems()}},{key:"componentDidUpdate",value:function(e,t){this.state.focusedIndex!==t.focusedIndex&&this._updateMenuItems()}},{key:"_onFolderClick",value:function(e){var t=this.props,n=t.onFolderSelected;n(e===t.selectedFid?null:e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.folders,i=t.selectedFid,a=this.state.focusedIndex;return o.a.createElement("div",{className:c()()("mail-AdvancedSearch-FolderSelector").mix(n),ref:this._popupRef},_("input",{role:"combobox","aria-activedescendant":"a11y-folder-item-".concat(a),"aria-autocomplete":"none","aria-readonly":"true","aria-expanded":!0,onKeyDown:this._onKeyDown,tabIndex:0,readOnly:!0,className:"a11yComboboxInput"}),_(u.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i,tabIndex:"-1"},a,r.map(function(t,n){return _(u.a.Item,{val:t.fid,onClick:function(){return e._onFolderClick(t.fid)},hovered:a===n,controlAttrs:{id:"a11y-folder-item-".concat(n),tabIndex:0,"aria-checked":i===t.fid}},t.fid,t.name)})))}}]),t}();y.propTypes={cls:s.a.object,folders:s.a.array,onFolderSelected:s.a.func,selectedFid:s.a.string}},function(e,t){},function(e,t,n){"use strict";var r=n(3606);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(761),d=n(3607);n.n(d);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?m(e):t}(this,(e=g(t)).call.apply(e,[this].concat(i))))._onServiceClick=n._onServiceClick.bind(m(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(t,[{key:"_onServiceClick",value:function(e){var t=this.props,n=t.onServiceSelected;n(e===t.selectedServiceId?null:e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.services,i=t.selectedServiceId;return v("div",{className:c()()("mail-AdvancedSearch-ServiceSelector").mix(n)},void 0,v(u.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i},void 0,r.map(function(t){return v(u.a.Item,{val:t.serviceId,onClick:function(){return e._onServiceClick(t.serviceId)}},t.serviceId,t.name)})))}}]),t}();b.propTypes={cls:s.a.object,services:s.a.array,onServiceSelected:s.a.func.isRequired,selectedServiceId:s.a.string}},function(e,t){},function(e,t,n){"use strict";var r=n(3609);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(375),d=n(761),f=n(360),p=n(344),g=n(376),m=n.n(g),h=n(3610);n.n(h);function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(){return c()()("mail-AdvancedSearch-MoreSelector")},M=3,x=w(p.default,{loc:"suggest-react/advanced-search-label-scope"}),E=w(p.default,{loc:"suggest-react/advanced-search-filter-subject"}),T=w(p.default,{loc:"suggest-react/advanced-search-filter-body"}),D=w(f.default,{ariaHidden:!0,id:"mail--AdvancedSearch_important"}),C=w(p.default,{loc:"suggest-react/advanced-search-filter-important"}),P=w(f.default,{ariaHidden:!0,id:"mail--AdvancedSearch_unread"}),k=w(p.default,{loc:"suggest-react/advanced-search-filter-unread"}),A=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=function(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?y(e):t}(this,(e=_(t)).call.apply(e,[this].concat(i))))._onKeyDown=function(e){var t=n.props,r=t.important,i=t.unread,o=t.onImportantSelected,a=t.onUnreadSelected,s=t.onScopeSelected,l=n.state.focusedIndex,c=l+1>M?0:l+1,u=l-1<0?M:l-1;switch(e.keyCode){case m.a.DOWN:n.setState({focusedIndex:c});break;case m.a.UP:n.setState({focusedIndex:u});break;case m.a.ENTER:switch(l){case 0:s("hdr_subject");break;case 1:s("body_text");break;case 2:o(!r);break;case 3:a(!i)}}e.preventDefault()},n._updateMenuItems=function(){if(n._popupRef&&n._popupRef.current){var e=n._popupRef.current.querySelectorAll(".menu");e.length&&e.forEach(function(e){e.removeAttribute("aria-multiselectable"),e.querySelectorAll(".menu__item").forEach(function(e){e.removeAttribute("aria-selected")})})}},n._onKeyDown=n._onKeyDown.bind(y(n)),n._updateMenuItems=n._updateMenuItems.bind(y(n)),n.state={focusedIndex:0},n._popupRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"componentDidMount",value:function(){this._updateMenuItems()}},{key:"componentDidUpdate",value:function(e,t){this.state.focusedIndex!==t.focusedIndex&&this._updateMenuItems()}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.scope,i=t.important,a=t.unread,s=t.onImportantSelected,l=t.onUnreadSelected,c=t.onScopeSelected,f=["important","unread"].filter(function(t){return e.props[t]}),p=this.state.focusedIndex;return w(u.default,{lang:Daria.locale},void 0,o.a.createElement("div",{className:O().mix(n),ref:this._popupRef},w("div",{className:O().e("popup-header"),role:"heading","aria-level":"1",id:"a11y-more-heading"},void 0,x),w("input",{role:"combobox","aria-activedescendant":"a11y-more-item-".concat(p),"aria-autocomplete":"none","aria-readonly":"true","aria-expanded":"true","aria-describedby":"a11y-more-heading",tabIndex:0,onKeyDown:this._onKeyDown,readOnly:!0,className:"a11yComboboxInput"}),w(d.a,{theme:"normal",view:"classic",size:"s",type:"check",val:r,tabIndex:"-1"},p,w(d.a.Item,{val:"hdr_subject",onClick:function(){return c("hdr_subject")},controlAttrs:{"aria-checked":(r||[]).includes("hdr_subject"),id:"a11y-more-item-0",tabIndex:0},hovered:0===p},void 0,E),w(d.a.Item,{val:"body_text",onClick:function(){return c("body_text")},controlAttrs:{"aria-checked":(r||[]).includes("body_text"),id:"a11y-more-item-1",tabIndex:0},hovered:1===p},void 0,T)),w("div",{"aria-hidden":"true",className:O().e("separator")}),w(d.a,{cls:O().e("iconed-menu"),theme:"normal",view:"classic",size:"s",type:"check",val:f,tabIndex:"-1"},"".concat(p,"-unread"),w(d.a.Item,{val:"important",onClick:function(){return s(!i)},controlAttrs:{"aria-checked":i,id:"a11y-more-item-2",tabIndex:0},hovered:2===p},void 0,w("div",{className:O().e("icon-row")},void 0,D,C)),w(d.a.Item,{val:"unread",onClick:function(){return l(!a)},controlAttrs:{"aria-checked":a,id:"a11y-more-item-3",tabIndex:0},hovered:3===p},void 0,w("div",{className:O().e("icon-row")},void 0,P,k)))))}}]),t}();A.propTypes={cls:s.a.object,onUnreadSelected:s.a.func,onImportantSelected:s.a.func,onScopeSelected:s.a.func,unread:s.a.bool,important:s.a.bool,scope:s.a.oneOfType([s.a.string,s.a.arrayOf(s.a.string)])}},function(e,t){},function(e,t,n){"use strict";var r=n(3612);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return F});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(375),d=n(1278),f=n(1085),p=n.n(f),g=n(350),m=n(393),h=n(360),v=n(391),b=n(344),_=n(343),y=n.n(_),S=n(353),w=n(3613);n.n(w);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e){"@babel/helpers - typeof";return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(){return c()()("mail-AdvancedSearch-DateSelector")},k=C(b.default,{loc:"suggest-react/advanced-search-label-wrong-dates"}),A=C(b.default,{loc:"suggest-react/advanced-search-label-exchange-dates"}),I=C(b.default,{loc:"suggest-react/advanced-search-label-date-find"}),j=C(b.default,{loc:"suggest-react/advanced-search-label-select-date"}),R=C(h.default,{ariaHidden:!0,id:"mail--AdvancedSearch_arrow"}),F=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?T(e):t}(this,(e=E(t)).call.apply(e,[this].concat(i))))._onInputFocus=function(e){var t=n.inputFromRef&&n.inputFromRef.current,r=n.inputToRef&&n.inputToRef.current;return t&&t.input===e.currentTarget?(r.cancelFocusInput(),void r.setOpen(!1)):r&&r.input===e.currentTarget?(t.cancelFocusInput(),void t.setOpen(!1)):void 0},n._customDateSelected=n._customDateSelected.bind(T(n)),n._applyCustomDates=n._applyCustomDates.bind(T(n)),n._exchangeDates=n._exchangeDates.bind(T(n)),n.props.from||n.props.to?n.state={from:n.props.from,to:n.props.to}:n.state={from:new Date(Daria.passportNow()),to:new Date(Daria.passportNow())},n.inputFromRef=o.a.createRef(),n.inputToRef=o.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&x(e.prototype,t),n&&x(e,n)}(t,[{key:"_customDateSelected",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t&&Object(v.getDateComponentOfDatetime)(t.toDate())))}},{key:"_exchangeDates",value:function(){this.setState({from:this.state.to,to:this.state.from})}},{key:"_applyCustomDates",value:function(){var e=this.props,t=e.onDateSelected,n=e.logAction;t({from:this.state.from,to:this.state.to}),n&&n("Custom dates",!0)}},{key:"_renderButtons",value:function(){var e=this.state,t=e.from,n=e.to;return C("div",{className:P().e("buttons-block")},void 0,t&&n&&n<t&&C("div",{className:P().e("error-message")},void 0,k,C(m.a,{theme:"link",size:"s",onClick:this._exchangeDates},void 0,A)),C("div",{className:P().e("buttons-row")},void 0,C(m.a,{theme:"action",size:"n",onClick:this._applyCustomDates},void 0,I)))}},{key:"render",value:function(){var e=this,t=this.props.cls,n={locale:p.a[Object(g.getLocale)()],dateFormat:"DD.MM.YYYY",size:"m",width:"available",fixedHeight:!0,maxDate:Daria.passportNow(),calendarClassName:"js-prevent-popup-close suggest-datepicker-calendar",onFocus:this._onInputFocus},r=function(e){return C("div",{"aria-hidden":"true"},void 0,e.children)};return C(u.default,{lang:Daria.locale},void 0,C("div",{className:P().mix(t)},void 0,C("div",{className:P().e("select-date-header"),role:"heading","aria-level":"1"},void 0,j),C("div",{className:P().e("date-picker-row")},void 0,o.a.createElement(d.a,O({},n,{onChange:function(t){return e._customDateSelected("from",t)},selected:this.state.from,innerRef:this.inputFromRef,popperContainer:r,placeholderText:"01.01.2000",customInput:C("input",{type:"text","aria-label":Object(S.default)("suggest-react/advanced-search-from")})})),R,o.a.createElement(d.a,O({},n,{onChange:function(t){return e._customDateSelected("to",t)},selected:this.state.to,innerRef:this.inputToRef,popperContainer:r,placeholderText:y()(Daria.passportNow()).format("DD.MM.YYYY"),customInput:C("input",{type:"text","aria-label":Object(S.default)("suggest-react/advanced-search-to")})}))),this._renderButtons()))}}]),t}();F.propTypes={cls:s.a.object,from:s.a.instanceOf(Date),to:s.a.instanceOf(Date),onDateSelected:s.a.func,logAction:s.a.func}},function(e,t){},function(e,t,n){"use strict";var r=n(3615);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return j});var r,i,o,a,s=n(342),l=n(135),c=n.n(l),u=n(338),d=n.n(u),f=n(395),p=n.n(f),g=n(375),m=n(763),h=n(784),v=n(1535),b=n(376),_=n.n(b),y=n(136),S=n.n(y),w=n(3616),O=(n.n(w),n(3617)),M=n(344);function x(e){"@babel/helpers - typeof";return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=function(){return p()()("mail-AdvancedSearch-ContactSelector")},A=P(M.default,{loc:"suggest-react/advanced-search-filter-from"}),I=P(M.default,{loc:"suggest-react/advanced-search-filter-to"}),j=Object(s.inject)("avatarsService","contactsSuggestService")((o=i=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(n=T(this,(e=D(t)).call.apply(e,[this].concat(i))))._onTextChange=function(e){n.setState({text:e}),n._makeQueryDebounced()},n._makeQuery=function(){var e=n.state.text;n.props.contactsSuggestService.getContacts(e).then(function(t){n.state.text===e&&n._handleSuggestResult(t)})},n._handleSuggestResult=function(e){n.setState({contacts:e,selectedIndex:e.length?0:null,avatars:null});var t=e;n.props.avatarsService.loadAvatars(t).then(function(e){n.state.contacts===t&&n.setState({avatars:e.map(function(e){return e.avatar})})})},n._selectNext=function(){var e=n.state,t=e.selectedIndex,r=e.contacts,i=null===t||t>=r.length-1?0:t+1;n.setState({selectedIndex:i})},n._selectPrev=function(){var e=n.state,t=e.selectedIndex,r=e.contacts,i=null===t||t<=0?r.length-1:t-1;n.setState({selectedIndex:i})},n._selectContact=function(e){var t=n.state.contacts.indexOf(e);-1!==t&&n.setState({selectedIndex:t})},n._onKeyDown=function(e){var t=n.state,r=t.selectedIndex,i=t.contacts,o=n.props,a=o.onCancel,s=o.onValueSelected;switch(e.keyCode){case _.a.DOWN:n._selectNext();break;case _.a.UP:n._selectPrev();break;case _.a.ENTER:null!==r&&r>=0&&r<i.length&&s(i[r]),e.preventDefault();break;case _.a.ESC:a()}};var a=n.props.value;return n.state={text:a||"",contacts:[],avatars:null},n._makeQueryDebounced=S.a.debounce(n._makeQuery,200),n._makeQuery(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,c.a.PureComponent),function(e,t,n){t&&E(e.prototype,t),n&&E(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.type,i=t.onValueSelected,o=this.state,a=o.text,s=o.contacts,l=o.avatars,c=o.selectedIndex;return P(g.default,{lang:Daria.locale},void 0,P("div",{className:k().mix(n)},void 0,P("div",{className:k().e("header"),role:"heading","aria-level":"1",id:"a11y-contact-heading"},void 0,"from"===r?A:I),P(m.a,{pin:"round-round",theme:"websearch",view:"default",text:a,onKeyDown:this._onKeyDown,onChange:this._onTextChange,controlAttrs:{role:"combobox","aria-activedescendant":"number"==typeof c?"a11y-contact-item-".concat(c):"","aria-owns":"a11y-contact-listbox","aria-autocomplete":"list","aria-expanded":"true","aria-describedby":"a11y-contact-heading"}}),P("div",{role:"listbox","aria-describedby":"a11y-contact-heading",id:"a11y-contact-listbox"},void 0,s.map(function(t,n){return P(O.a,{isSelected:n===c,contact:t,avatar:l&&l[n],onClick:i,onFocus:e._selectContact,id:"a11y-contact-item-".concat(n)},t.email+" "+t.name)}))))}}]),t}(),i.propTypes={cls:d.a.object,type:d.a.string,value:d.a.string,onValueSelected:d.a.func.isRequired,onCancel:d.a.func.isRequired,logAction:d.a.func,avatarsService:d.a.instanceOf(h.a).isRequired,contactsSuggestService:d.a.instanceOf(v.a).isRequired},r=o))||r},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(3618),d=(n.n(u),n(795)),f=n.n(d),p=n(1087);n.n(p);function g(e){"@babel/helpers - typeof";return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(){return c()()("mail-AdvancedSearch-ContactItem")},S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,v(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.avatar,r=e.isSelected,i=e.onClick,a=e.onFocus,s=e.id,l=[t.name,t.title].filter(function(e){return e}).join("\n"),c=function(e,t){var n=[];if(e&&e!==t&&n.push(e),t&&n.push(t),n.length)return n.join(", ")}(t.name,t.email);return _("div",{className:y().m({selected:r}),onClick:function(){return i(t)},onMouseEnter:a?function(){return a(t)}:null,title:l,role:"option","aria-label":c,"aria-selected":r,id:s},void 0,_("div",{"aria-hidden":"true",className:y().e("avatar")},void 0,_(p.AvatarTooltip,{contact:t,avatar:o.a.createElement(f.a,n)})),_("div",{"aria-hidden":"true",className:y().e("text")},void 0,t.name!==t.email&&_("div",{className:y().e("name")},void 0,t.name),_("div",{className:y().e("email")},void 0,t.email)))}}]),t}();S.propTypes={cls:s.a.object,contact:s.a.object.isRequired,avatar:s.a.object,onClick:s.a.func.isRequired,onFocus:s.a.func,isSelected:s.a.bool,id:s.a.string}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(135),i=n.n(r),o=n(3621),a=n(342),s=n(382),l=n(512);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t=Object(r.useMemo)(function(){return{routerService:Object(l.getRouterService)(),settingsService:Object(l.getSettingsService)(),searchLogService:Object(l.getSearchLogService)(),contactSuggestStore:Object(s.getContactSuggestStore)(),routerStore:Object(s.getRouterStore)()}},[]),n=Object(r.useCallback)(function(e){Daria.React._searchRef=e},[]);return i.a.createElement(a.Provider,t,i.a.createElement(o.a,c({},e,{ref:n})))};window.ReactClientBridge&&window.ReactClientBridge.getSearchContactsSuggestPromise.resolve(u),t.a=o.a},function(e,t,n){"use strict";var r,i,o,a,s,l=n(135),c=n.n(l),u=n(339),d=n.n(u),f=n(338),p=n.n(f),g=n(1565),m=n(136),h=n.n(m),v=n(350),b=n(625),_=n(808),y=n(1017),S=n(341),w=n(342),O=n(394),M=n.n(O),x=n(3622),E=(n.n(x),n(809)),T=n(548),D=n(588),C=n(841),P=n(741);function k(e){"@babel/helpers - typeof";return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,n,r){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),l=0;l<o;l++)a[l]=arguments[l+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:s,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var B=F(y.a,{}),N=Object(w.inject)("routerService","settingsService","searchLogService","contactSuggestStore","routerStore")(r=Object(w.observer)((a=o=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?j(e):t}(this,I(t).call(this,e,n)))._disposer=new M.a,r.componentDidMount=function(){var e=r.props.routerStore;r._disposer.add(j(r),[Object(S.reaction)(function(){return e.currentPage.params.q},function(){var t=e.currentPage.params.q||"";r.state.text!==t&&(r.setState({text:t}),r._suggest&&t&&r._suggest.unfold())},{fireImmediately:!0})])},r.componentWillUnmount=function(){r._disposer.dispose(j(r))},r.state={},r._onFoldedChanged=r._onFoldedChanged.bind(j(r)),r._onTextChange=r._onTextChange.bind(j(r)),r._clearClick=r._clearClick.bind(j(r)),r._onSubmit=r._onSubmit.bind(j(r)),r._onTextChangeWithDelay=h.a.debounce(r._onTextChangeWithDelay,300),r._onActiveChange=r._onActiveChange.bind(j(r)),r._countOpen=r._countOpen.bind(j(r)),r._countCloseClick=r._countCloseClick.bind(j(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,c.a.Component),function(e,t,n){t&&A(e.prototype,t),n&&A(e,n)}(t,[{key:"_onFoldedChanged",value:function(e){Object(v.toggleSearchAppMode)(!e),this.props.contactSuggestStore.isFolded=e}},{key:"_onTextChange",value:function(e){this.setState({text:e}),this._onTextChangeWithDelay(e)}},{key:"_clearClick",value:function(){this.setState({text:""}),this.props.routerService.navigateToPage("abook",{q:""})}},{key:"_countCloseClick",value:function(){this.props.searchLogService.countSearchContactsSuggest(["close"])}},{key:"_onSubmit",value:function(){this.props.routerService.navigateToPage("abook",{q:this.state.text})}},{key:"_onActiveChange",value:function(e){e&&!this.state.text&&this._countOpen(),this._onSubmit()}},{key:"_onTextChangeWithDelay",value:function(e){var t=this.props.routerService;e&&(this.props.searchLogService.countSearchContactsSuggest(["search"]),t.navigateToPage("abook",{q:e},{shouldAddPageParams:!0}))}},{key:"_countOpen",value:function(){this.props.searchLogService.countSearchContactsSuggest(["open"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.settingsService,r=t.className,i=i18n("%Toolbar_Mobile_SearchMessages");return F("div",{className:d()("mail-Search","mail-ContactsSuggest","js-mail-search",r)},void 0,F("div",{className:"mail-SearchContainer"},void 0,c.a.createElement(g.a,{ref:function(t){e._suggest=t},suggestQuery:this.state.text,isMobile:!1,isNarrow:!0,isCompact:n.isCompactHeaderMode,toneDefault:"mail-suggest-themed",maxLength:_.d,clsActivator:"mail-GhostButton",runsInIE:b.default.isIE(),iconPosition:"right",keepExpanded:Boolean(this.state.text),placeholderDefault:i,placeholderCustom:i,suggestItems:[],showClose:!0,onActiveChange:this._onActiveChange,onTextChange:this._onTextChange,onClearClick:this._clearClick,onCloseClick:this._countCloseClick,onFoldedChanged:this._onFoldedChanged,onSubmit:this._onSubmit,searchButtonText:i18n("%ServiceTabs__Search_Button"),renderItem:function(){},getShowText:function(){},handleItemSelect:function(){},removeSearchBubbleTitle:""}),B))}}]),t}(),o.propTypes={className:p.a.string,routerService:p.a.instanceOf(E.a).isRequired,settingsService:p.a.instanceOf(T.a).isRequired,searchLogService:p.a.instanceOf(D.a).isRequired,contactSuggestStore:p.a.instanceOf(C.a).isRequired,routerStore:p.a.instanceOf(P.a).isRequired},L((i=a).prototype,"_onFoldedChanged",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_onFoldedChanged"),i.prototype),L(i.prototype,"_onTextChange",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_onTextChange"),i.prototype),L(i.prototype,"_clearClick",[S.action],Object.getOwnPropertyDescriptor(i.prototype,"_clearClick"),i.prototype),r=i))||r)||r;t.a=N},function(e,t){},function(e,t,n){"use strict";var r=n(3624),i={white:"dark",grey:"light",black:"light"};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"page";return i[r(e,t,n)]}},function(e,t,n){"use strict";var r=[function(e,t){var n=t.scope;return"colorful"===e&&"white"===n},function(e){return"foxes"===e}];e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"page";return!t||"page"===n&&t.page_is_dark||"content"===n&&t.content_is_dark?"white":r.some(function(n){return n(e,t)})?"grey":"black"}},function(e,t,n){"use strict";var r=[function(e,t){var n=t.scope;return"colorful"===e&&"grass_green"===n},function(e,t){var n=t.scope;return"colorful"===e&&"turquoise"===n},function(e,t){var n=t.scope;return"colorful"===e&&"orange"===n},function(e,t){var n=t.scope;return"colorful"===e&&"red"===n},function(e,t){var n=t.scope;return"colorful"===e&&"teal-orange"===n},function(e,t){var n=t.scope;return"colorful"===e&&"pink-navy-sand"===n},function(e){return"owls"===e},function(e){return"weather"===e},function(e,t){var n=t.skin;return"newspaper"===e&&"1"===String(n)}];e.exports=function(e,t){if(!t||r.some(function(n){return n(e,t)}))return"gray"}},function(e,t,n){"use strict";t.a=function(e){var t=a?document.querySelector(".UserWidget-Dialog"):document.querySelector(".legouser__popup");if(t){var n=new i.a({target:t,className:a?"UserWidget-Dialog_visible":"light-popup_visible_yes",onAdd:Object(r.action)(function(){return e.isDropdownOpen=!0}),onRemove:Object(r.action)(function(){return e.isDropdownOpen=!1})});return n.disconnect.bind(n)}};var r=n(341),i=n(1194),o=n(349),a=(n.n(o),Object(o.hasFeature)(o.Features.WEB_NEW_USER_BLOCK))},,,function(e,t){e.exports={ndaStamp:"PSHeader__ndaStamp--23rTc"}},function(e,t,n){"use strict";var r=n(3631);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r,i=n(135),o=n.n(i),a=n(338),s=n.n(a),l=n(395),c=n.n(l),u=n(415),d=n(502),f=n(344),p=n(350),g=n(3632);n.n(g);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(){return c()()("ComposeTurnOffPromo")},O=S(u.a,{id:"mail--ComposeReact-Effects"}),M=S(f.default,{loc:"common-react/promo-compose-turn-off-title"}),x=S(f.default,{loc:"common-react/promo-compose-turn-off-details"}),E=S(f.default,{loc:"common-react/promo-compose-turn-off-cancel"}),T=S(f.default,{loc:"common-react/promo-compose-turn-off-action"}),D=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=b(this,(e=_(t)).call.apply(e,[this].concat(i)))).onCancel=function(){n.props.onCancel(),Object(p.logMetric)([t.METRIC_ROOT,"cancel"])},n.onAction=function(){n.props.onAction(),Object(p.logMetric)([t.METRIC_ROOT,"action"])},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.PureComponent),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(t,[{key:"componentDidMount",value:function(){Object(p.logMetric)([t.METRIC_ROOT,"show"])}},{key:"render",value:function(){var e={view:"default",tone:"default",size:"m"};return S("div",{className:w()},void 0,S("div",{className:w().e("Icon")},void 0,O),S("div",{className:w().e("Description")},void 0,S("div",{className:w().e("Title")},void 0,M),S("div",{className:w().e("Details")},void 0,x)),S("div",{className:w().e("Buttons")},void 0,o.a.createElement(d.a,m({},e,{theme:"clear",onClick:this.onCancel}),E),o.a.createElement(d.a,m({},e,{theme:"normal",onClick:this.onAction}),T)))}}]),t}();D.propTypes={onCancel:s.a.func.isRequired,onAction:s.a.func.isRequired},D.METRIC_ROOT="Compose turn off promo"},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return o});var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"_getSettings",value:function(){return ns.Model.get("settings")}},{key:"isCompactMessagesList",value:function(){return this.getCompactMessagesListValue()&&!Daria.isAttachmentsLineDesign()}},{key:"getCompactMessagesListValue",value:function(){return this._getSettings().isSet("liza_minified")}},{key:"isCompactHeader",value:function(){return this.getCompactHeaderValue()}},{key:"getCompactHeaderValue",value:function(){return this._getSettings().isSet("liza_minified_header")}},{key:"toggleCompact",value:function(){var e=!this.getCompactMessagesListValue(),t=r({},"liza_minified",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}},{key:"toggleCompactHeader",value:function(){var e=!this.getCompactHeaderValue(),t=r({},"liza_minified_header",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}}]),e}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedMids={}}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"log",value:function(e){if(!this._isLogDisabled()){var t=this._extractMids(e);this._areAllMidsAlreadyRendered(t)||(this._markMidsAsRendered(t),Daria.monitoring.mailListRender(this._getLogParams(t)))}}},{key:"_extractMids",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,Daria.DEFAULT_MESSAGES_PER_PAGE).map(function(e){return e.isThread()?e.get(".last_mid"):e.get(".mid")})}},{key:"_markMidsAsRendered",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){return e._renderedMids[t]=!0})}},{key:"_areAllMidsAlreadyRendered",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every(function(t){return e._renderedMids[t]})}},{key:"_getLogParams",value:function(e){var t={mids:e},n=ns.page.current.params,r=n.current_folder,i=n.tabId;return i?t.tabId=i:r&&(t.fid=r),Daria.areFoldersTabsEnabled()&&(t.foldersTabsEnabled=!0),t}},{key:"_isLogDisabled",value:function(){return!Jane.watcher.get("pageVisible")}}]),e}()},function(e,t,n){"use strict";var r={};e.exports=Daria.getEncryptedView=function(e){return r[e]||(r[e]=Daria.getRandomName()),r[e]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default=Daria.getDirectBlockLayoutInfo=function(e){if(!i[e]){var t=Daria.getRandomName();ns.View.define(t,{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.module-direct-loaded":"forceUpdate"}},yateModule:"mail"});var n=r({},t,r({},Daria.getRandomName()+"@",function(){return ns.Model.get("app-state").get(".module-direct-loaded")?Daria.getDirectViewLayout(e):"messages-direct"===e?r({},Daria.getEncryptedView("messages-direct-line-placeholder"),{}):{}}));if("messages-direct"===e){var o=Daria.getRandomName()+"-box",a=o+"@";i[e]={id:o,name:a,layout:r({},a,function(){return n})}}else i[e]={name:t,layout:n}}return i[e]}},function(e,t){Daria.Abook={},Daria.Abook.formatContactInfo=function(e,t,n){if(n=n||{},!e)return{};var r=e.cid,i=e.name,o=$.map(e.email,function(e){return e.value}),a=o;if(t.joinName&&(i=i&&i.full||""),t.onlyFirstEmail){var s=n.email?$.inArray(n.email,o):0;o=o[s>-1?s:0]}1===o.length&&(o=o[0]);var l={cid:r,name:i,email:o};return t.withContactEmailList&&(l.emailList=a),t.shared&&(l.ya_directory=e.ya_directory),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(1530)),o=n(71);Daria.formatContacts=function(e,t){var n,r=Daria.Constants.CONTACTS.DELIMITER;t&&(n=ns.Model.get("account-information").getEmails());var i=[];$.isArray(e)||(e=[e]);for(var o=0,a=e.length;o<a;o++){var s=e[o],l=s.email,c=s.name;!l||t&&$.inArray(l,n)>-1||"no_address"!==c&&"(  )"!==c&&i.push(Jane.FormValidation.obj2contact(s))}return i.join(r)},Daria.createAutocompleteFormatter=function(e){var t=Daria.Constants.CONTACTS.DELIMITER;return function(n){return n.contacts?n.contacts.map(e).join(t):e(n)}},Daria.formatAutocompleteResult=Daria.createAutocompleteFormatter(function(e){return e.email}),Daria.showDoubleSizedContacts=function(){return Daria.Config.pddDomain||Daria.Config.workspace},Daria.getAccountAgeInDays=function(){var e=ns.Model.get("account-information");return(Daria.now()-e.getData().reg_date)/864e5},Daria.isNewAccount=function(){return Daria.getAccountAgeInDays()<=3},Daria.uidEnds=function(e){if($.isArray(e)&&e.length){var t=String(e[0]).length,n=parseInt(Daria.uid.slice(-t),10);return $.inArray(n,e)>-1}return!1},Daria.areFoldersTabsEnabled=function(){return Daria.canUseTabs()&&ns.Model.get("settings").getSign("show_folders_tabs")},Daria.canUseTabs=function(){return!Daria.IS_CORP&&!Daria.Config.isPDD},Daria.areCompactFolderTabsEnabled=function(){return Boolean(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())},Daria.isPriorityTabAvailable=function(){var e=Object(o.a)();return!Daria.IS_CORP&&ns.Model.get("labels",{mailboxUid:e}).getPriorityLID()&&(ns.Model.get("settings").getSign("priority_mail")||Daria.hasSid(669))},Daria.isPriorityTabEnabled=function(){var e=ns.Model.get("settings").getSign("show_priority_stuff");return Daria.isPriorityTabAvailable()&&e},Daria.isPriorityTab=function(){var e=Daria.isPriorityTabEnabled(),t=Object(o.a)(),n="messages"===ns.page.current.page&&ns.page.current.params.current_label===ns.Model.get("labels",{mailboxUid:t}).getPriorityLID();return e&&n},Daria.isAttachmentsTabEnabled=function(){return(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())&&Daria.is2pane()},Daria.isAttachmentsTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=ns.page.current.params||{},n=Boolean(t.attachments);return e&&n},Daria.isSearchWithAttachesTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=ns.page.current.params||{},n=Boolean(t.search&&t.attaches);return e&&n},Daria.isAttachmentsLineDesign=function(){return Daria.isAttachmentsTab()||Daria.isSearchWithAttachesTab()},Daria.isReactiveCompose=function(){return!0},Daria.enableReactiveCompose=function(e){ns.Model.get("settings").setSettings({force_ns_compose:!e,storedComposeStates:"undefined",last_used_compose_size:""}),Daria.maybeSaveReactComposeFirstUsedDate()},Daria.maybeSaveReactComposeFirstUsedDate=function(){var e=ns.Model.get("settings");e.getSign("react_compose_first_used")||e.setSettings({react_compose_first_used:Daria.now().toString()})},Daria.startScenarioForCompose=i.a,Daria.hasAmpForm=function(){var e="MSIE"!==Daria.UA.BrowserName&&"Edge"!==Daria.UA.BrowserName;return Object(r.hasFeature)(r.Features.WEB_AMP_FORM)&&e},Daria.isSearchWithoutAllResultsFallback=function(){return Object(r.hasFeature)(r.Features.WEB_SEARCH_WITHOUT_ALL_RESULTS_FALLBACK)},Daria.isAdvertisementOnWithProMail=function(){return!("ru"!==Daria.Config.TLD&&"kz"!==Daria.Config.TLD&&"by"!==Daria.Config.TLD||Daria.IS_CORP||Object(r.hasFeature)(r.Features.WEB_AUTOTESTS_MUTE_AD))}},function(e,t,n){var r={"message.ogg":n(3742),"message.mp3":n(3743),"message.wav":n(3744)};Daria.Sound={preload:function(e){this._getPlayer(e)},play:function(e){this._getPlayer(e)()},_cache:{},_getPlayer:function(e){if(!this._cache[e])if("src"in document.createElement("audio")){var t=this._createAudioEl(e);this._cache[e]=function(){t.play()}}else if("src"in document.createElement("bgsound")){var n=document.createElement("bgsound");document.getElementsByTagName("head")[0].appendChild(n),this._cache[e]=function(){n.src=r[e+".mp3"]}}else this._cache[e]=function(){};return this._cache[e]},_createAudioEl:function(e){var t=document.createElement("div");t.innerHTML='<audio preload="auto"><source src="'+r[e+".ogg"]+'" type="audio/ogg"></source><source src="'+r[e+".mp3"]+'" type="audio/mpeg"></source><source src="'+r[e+".wav"]+'" type="audio/wav"></source></audio>';var n=t.firstChild;return document.body.appendChild(n),n}}},function(e,t,n){e.exports=n.p+"_/dc22b778f507cf99af5f1fbaa09283ad-message.ogg"},function(e,t,n){e.exports=n.p+"_/c8904f7129944be785562682585d90dd-message.mp3"},function(e,t,n){e.exports=n.p+"_/a58459d090abe810c59cc0c21af602b9-message.wav"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(349));n.n(i);!function(e){var t=Daria.Constants.CONTACTS.DELIMITER;e.emailAutocompleterOpts={tpl:'<div class="b-mail-suggest b-mail-suggest_contacts"><div class="b-grid js-sections"></div></div>',activeClass:"b-grid-item_selected",width:"20em",multiple:!0,minChars:0,minClickCount:0,excludeSelected:!0,filterItem:function(e){var t,n=this.currentValue||this.prevVal;return e.data.title?(t=[].concat(e.data.contacts),(t=$.grep(t,function(e){return-1===n.indexOf(e.email)})).length):e.data.email?-1===n.indexOf(e.data.email):void 0},scroll:!0,scrollElem:".b-grid",item:".b-grid-item",sections:[{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,dataType:"json",param:"q",withCkey:!0,extraParams:{glimit:5,climit:35,useAbook:"on",alternateOrder:Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME)?"1":""},contextExtraParams:function(){var e,t=Daria.vCompose,n={};return t&&"compose"===ns.page.current.page?(e=(e=$.map(["To","Cc","Bcc"],function(e){var n=t["get"+e]();if(n)return n.replace(/\s*/g,"").split(",")})).join(","),(e=(e=$.map(Jane.FormValidation.splitContacts(e),function(e){return e.email})).join(","))&&(n.to=e),n):n},beforeRequest:function(e){return e.length>=1},parse:function(e,t){var n=[],r=this;function i(e,n,i,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var l=e[a];l&&(i[i.length]={data:l,$item:$(n.call(r,l,t))})}}return(e=jpath(e,".models[0].data")[0]||{}).contacts&&e.contacts.length&&i(e.contacts,r.formatContact,n,r.extraParams.climit),e.groups&&e.groups.length&&i(e.groups,r.formatGroup,n,r.extraParams.glimit),n},groupTpl:'<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__content__group">'+i18n("%Search_Suggest_group")+'</span>&#160;{title}</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">{emails}</span></span></span></div>',formatContact:function(e,t){var n='<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i">'+_.escape(e.name||e.email)+'</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">'+(e.name&&e.email?_.escape(e.email):"")+'</span></span></span><span class="b-grid-item__right"><span class="b-userpic b-userpic_small'+(e.cid?" cid-"+e.cid:"")+'">'+(e.ref&&e.email&&e.id>-1&&!e.popdom?Daria.Recipients.add({name:e.name,email:e.email,href:!1,size:28}):"")+"</span></span>";return n+="</div>",Daria.Autocompleter.utils.highlight(n,t)},formatGroup:function(e,n){for(var r=[],i=0,o=e.contacts.length;i<o;i++)r.push(e.contacts[i].email);return Daria.Autocompleter.utils.highlight(Daria.supplant(this.groupTpl,{title:e.title,emails:r.join(t)}),n)},formatResult:Daria.createAutocompleteFormatter(function(e){return e.name?'"'.concat(e.name,'" <').concat(e.email,">"):e.email})}]};var n=e.emailAutocompleterOpts.sections[0];e.emailAutocompleterOpts.sections.push($.extend({},n,{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,extraParams:{popular:!0,climit:10,useAbook:"on",alternateOrder:Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME)?"1":""},parse:function(e,t){var r=jpath(e,".models[0].data")[0]||{};return r.contact&&!r.contacts&&(r.contacts=r.contact),n.parse.call(this,e,t)},formatContact:function(e,t){return e.name=e.name&&e.name.full,n.formatContact.call(this,e,t)},beforeRequest:function(e,t){if(e)return!1;if("compose"!==ns.page.current.page)return!1;if(t&&t.keyPressed)return!1;var n=ns.page.current.params,i=ns.Model.get("folders").getFolderBySymbol(r.WellKnownFolderSymbol.TEMPLATE),o=i&&i.fid;return!(Daria.composeParams&&Daria.composeParams.save_symbol===r.WellKnownFolderSymbol.TEMPLATE||n.save_symbol===r.WellKnownFolderSymbol.TEMPLATE||n.ids&&ns.Model.get("message",{ids:n.ids}).inFolder(o))},onshow:function(){Jane.c(["popular_suggest","   "])},onresult:function(e){Daria.composeParams=Daria.composeParams||{},Daria.composeParams["popular-suggest-general"]||(Daria.composeParams["popular-suggest-general"]=[]),Daria.composeParams["popular-suggest-general"].push(e.email),Jane.c(["popular_suggest","    "]);var t=Jane.watcher.get("autocompleter.popularContacts")||[],n=this;t.push(e.email),Jane.watcher.set("autocompleter.popularContacts",t,{silent:!0}),this.binded||(this.binded=!0,ns.events.on("ns-page-before-load",function e(){ns.events.off("ns-page-before-load",e),n.binded=!1,Jane.watcher.set("autocompleter.popularContacts",[])}))}})),e.getEmailAutocompleter=function(){var t=new e(e.emailAutocompleterOpts),n=t.onChange;return t.onChange=function(){var e=this.$input.val();if(!this.keyPressed||e)return n.apply(this,arguments);this.hide()},t},e.getContact=function(){return e.getEmailAutocompleter()},e.getContactEmail=function(){return e.__contactEmailInstance||(e.__contactEmailInstance=function(){var t=$.extend(!0,{},e.emailAutocompleterOpts,{multiple:!1,filterItem:null});t.sections=$.each(t.sections,function(e,t){$.extend(t,{formatResult:function(e){return e.email||""},parse:function(e,t){var n=[],r=this;return(e=jpath(e,".models[0].data")[0]||{}).contacts&&e.contacts.length&&function(e,n,i,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var l=e[a];l&&(i[i.length]={data:l,$item:$(n.call(r,l,t))})}}(e.contacts,r.formatContact,n,r.extraParams.climit),n}})});var n=new e(t),r=n.onChange;return n.onChange=function(){var e=this.$input.val();if(!this.keyPressed||e)return r.apply(this,arguments);this.hide()},n}()),e.__contactEmailInstance}}(Daria.Autocompleter)},function(e,t,n){var r=n(3747),i=n(3748),o=n(3749),a=null;Daria.Autocompleter.logSuggestInfo=function(e){e.uid=Daria.uid,e.searchid=Daria.React.getSearchId(),Jane.ErrorLog.send(e)},Daria.Autocompleter.enumerate=function(e,t,n){return e.map(function(e,r){return e[n]=r+t,e})},Daria.Autocompleter.getSearch=function(){if(!a){var e=$(Jane.tt("mail:search-autocomplete"));a=new Daria.Autocompleter({tpl:e,activeClass:"b-grid-item_selected",item:".b-grid-item",blockSubmit:!1,selectFirst:!1,minChars:0,saveSelectionOnBlur:!1,position:{right:10},lastWord:!0,onrender:function(){},sections:[r(),i(),o()]})}return a}},function(e,t){e.exports=function(){return{url:Daria.api.models+"?_model.0=history-suggest",dataType:"json",param:"text",getParamFromTerm:function(e){return e},withCkey:!0,max:5,tpl:yr.run("mail",null,"search-autocomplete-suggest"),onshow:function(){Jane.c({Search:'Show "previous requests"'})},onselect:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"history",user_input:this.prevVal,user_select_idx:t+1,idx:e.idx||1,suggest_text:e.text})},onfetch:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"history",user_input:this.prevVal,empty_suggest:t})},parse:function(e,t,n){e=jpath(e,".models[0].data")[0],e=Daria.Autocompleter.enumerate(e,1,"idx");var r=this.max;""===t&&(this.max=10);var i=n.parse(e,this,t);return this.max=r,i},formatItem:function(e){return yr.run("mail",e,"search-autocomplete-suggest-item")},formatResult:function(e){return e.text}}}},function(e,t){e.exports=function(){var e={},t="";return Daria.IS_CORP||(Daria.Config.pddDomain||(e.mix_groups=Daria.uidEnds([4]),e.emails=ns.Model.get("account-information").getAllUserEmails().join(",")),t="&"+$.param(e)),{url:Daria.api.models+"?_model.0=abook-suggest"+t,dataType:"json",param:"q",withCkey:!0,max:10,tpl:yr.run("mail",null,"search-autocomplete-contacts"),parse:function(e,t){var n=[];if((e=jpath(e,".models[0].data.contacts")[0])&&e.length)for(var r=0,i=(e=Daria.Autocompleter.enumerate(e,1,"idx")).length;r<i&&r<this.max;r++){var o=e[r];o&&n.push({data:o,$item:$(this.formatItem(o,t))})}return n},formatItem:function(e){return yr.run("mail",e,"search-autocomplete-contacts-item")},formatResult:function(e){return e.email},onshow:function(){Jane.c("Search",'Show "conversation with recipients"')},onselect:function(t,n){Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"address",user_input:this.prevVal,user_select_idx:n+1,idx:t.idx||1,suggest_text:t.email,mix_groups:e.mix_groups||!0})},onfetch:function(t,n){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"address",user_input:this.prevVal,empty_suggest:n,mix_groups:e.mix_groups||!0})}}}},function(e,t){var n="//clck.yandex.ru/redir/dtype=stred/pid=2/cid=71675/*"+Daria.Config["www-url"]+"/yandsearch?text=";e.exports=function(){return{isStatic:!0,tpl:yr.run("mail",null,"search-autocomplete-internet"),onfetch:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"internet",user_input:this.prevVal,empty_suggest:t})},formatItem:function(e){var t=Daria.Autocompleter.getSearch().$input.val();return t?(e.term=t,e.url=n+encodeURIComponent(t),yr.run("mail",e,"search-autocomplete-internet-item")):null},onresult:function(e){return Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"internet",user_input:this.prevVal,idx:0,user_select_idx:1,suggest_text:e.term}),window.open(e.url,"_blank"),Jane.c("Search","Click on Search the Internet"),!0}}}},function(e,t){!function(){function e(e){var r=e.data.obj;return Daria.MessagesPager.active=r,r.isDragging=!0,r.slider.addClass("b-mail-paginator_scrolling"),$(document).on("mousemove",{obj:r},n),$(document).on("mouseup",{obj:r},t),e.preventDefault(),!1}function t(e){var r=e.data.obj;delete Daria.MessagesPager.active,r.isDragging=!1,r.slider.removeClass("b-mail-paginator_scrolling"),$(document).off("mousemove",{obj:r},n),$(document).off("mouseup",t)}function n(e){var t=e.data.obj;if(t.isDragging){t.dragged||(t.dragged=!0);var n=Math.floor(e.pageX-t.sliderWidth/2-t.$container.offset().left);return t._setSliderPosition(n),e.preventDefault(),!1}}function r(e){var t=e.data.obj;t.scrolling||t._setSliderPositionByScroll(t.$container.scrollLeft(),!1)}function i(e){var t=$(e.currentTarget),n=ns.action.getParams(t[0]);return e.data.obj.updateScroll(n,!0),!0}ns.events.on("pageVisible.change",function(){Daria.MessagesPager.active&&t({data:{obj:Daria.MessagesPager.active}})}),Daria.MessagesPager=function(e,t,n){this._params=n||{},this.$node=$(e),this.isFloat=t,this.setPagerToDate=_.debounce(this.setPagerToDate,0),this.init()},Daria.MessagesPager.incDate=function(e,t){var n=Jane.Common.n;return e=Number(e),12===(t=Number(t))?(e++,t=1):t++,[String(e),String(n(t))]},Daria.MessagesPager.decDate=function(e,t){var n=Jane.Common.n;return e=Number(e),1===(t=Number(t))?(e--,t=12):t--,[String(e),String(n(t))]},Daria.MessagesPager.prototype={init:function(){return this.slider=this.$node.find(".js-messages-pager-slider"),this.$scrollLeft=this.$node.find(".b-link_scroll-left"),this.$scrollRight=this.$node.find(".b-link_scroll-right"),0===this.slider.size()?(this.$scrollRight.add(this.$scrollLeft).addClass("b-link_disabled"),void this._showPager()):(this.$container=this.$node.find(".js-messages-pager-container"),this.scrollContainer=this.$node.find(".js-messages-pager-scroll"),this.tooltip=this.$node.find(".js-tooltip"),this.dragged=!1,this.$containerWidth=this.$container.width(),this.scrollWidth=this.scrollContainer.width(),this.sliderWidth=this.$containerWidth/this.scrollWidth*this.$containerWidth,this.dragged=!1,this.years=this.$node.find(".js-year").get().map(function(e){return{left:e.offsetLeft,year:ns.action.getParams(e).year}}),this.$containerWidth>=this.scrollWidth?(this.slider.remove(),this.$scrollLeft.remove(),this.$scrollRight.remove(),void this._showPager()):(this.minSliderX=0,this.maxSliderX=Math.floor(this.$containerWidth-this.sliderWidth),this.minScroll=0,this.maxScroll=this.scrollWidth-this.$containerWidth,this.slider.css("width",Math.ceil(this.sliderWidth)),this.isDragging=!1,this.bindEvents(),void(this.isFloat||this.updateScroll())))},_showPager:function(){this._visible||(this.$node.css("visibility","visible"),this._visible=!0)},_getItems:function(){if(!this._months){var e=this.$container.scrollLeft(),t=this._months=[];this.$node.find(".b-mail-paginator__item").each(function(){t.push($(this).position().left+e)})}return this._months},updateScroll:function(e,t){var n;e||(e=this._params.dontUsePageParams?{}:ns.page.current.params),e.datePager&&(n=(n=e.datePager).replace(/\./g,"")),n&&this.setCurrentItem(n),this.$container&&(n?this.setPagerToDate(n,t):this._setSliderPosition(this.maxSliderX))},updateTooltip:function(e,t){if(this.years.length){for(var n=0;n<this.years.length&&this.years[n].left-t<e;)n++;--n<0&&(n=0),this.tooltipYear!==this.years[n].year&&(this.tooltipYear=this.years[n].year,this.tooltip.html(this.tooltipYear))}},resetCurrentItem:function(e){this.$node.find(".b-mail-paginator__item_current, .b-mail-paginator__link_current").removeClass("b-mail-paginator__item_current b-mail-paginator__link_current");var t=this.scrollWidth-this.$containerWidth;this._setSliderPositionByScroll(t,e)},setCurrentItem:function(e){var t=this.$node.find(".item-"+e);0!==t.size()&&(t.closest(".js-messages-pager-container").find(".b-mail-paginator__item_current").removeClass("b-mail-paginator__item_current").find(".b-mail-paginator__link_current").removeClass("b-mail-paginator__link_current"),t.closest(".b-mail-paginator__item").addClass("b-mail-paginator__item_current").find(".b-mail-paginator__link").addClass("b-mail-paginator__link_current"))},setPagerToDate:function(e,t){var n=this.$node.find(".item-"+e);if(0!==n.size()){var r=n.position().left+this.$container.scrollLeft()-this.$containerWidth/2+25;this._setSliderPositionByScroll(r,t)}},_setSliderPosition:function(e,t,n){var r=this;(e=Math.floor(e))>this.maxSliderX&&(e=this.maxSliderX),e<this.minSliderX&&(e=this.minSliderX),t=t||Math.floor(e/this.maxSliderX*(this.scrollWidth-this.$containerWidth));var i=e+this.sliderWidth/2;n&&document.documentMode&&document.documentMode<9&&(n=!1);var o=e>this.minSliderX,a=e<this.maxSliderX,s=a&&i+54<this.$containerWidth,l=o&&i-54>0;n?this.slider.stop().animate({left:e},"fast"):this.slider.stop().css({left:e}),s!==this.showRightArrow&&(this.showRightArrow=s,this.slider.toggleClass("b-mail-paginator__slider_arrow_right",s)),l!==this.showLeftArrow&&(this.showLeftArrow=l,this.slider.toggleClass("b-mail-paginator__slider_arrow_left",l)),n?(this.scrolling=!0,this.$container.stop().animate({scrollLeft:t},"fast",function(){r.scrolling=!1})):this.$container.stop().scrollLeft(t),a!==this.allowRightArrow&&(this.$scrollRight.toggleClass("b-link_disabled",!a),this.allowRightArrow=a),o!==this.allowLeftArrow&&(this.$scrollLeft.toggleClass("b-link_disabled",!o),this.allowLeftArrow=o),this.updateTooltip(e+this.sliderWidth/2,t),this._showPager()},_setSliderPositionByScroll:function(e,t){e<this.minScroll?e=this.minScroll:e>this.maxScroll&&(e=this.maxScroll);var n=e/(this.scrollWidth-this.$containerWidth)*(this.$containerWidth-this.sliderWidth);this._setSliderPosition(n,e,t)},_adjustSliderPosition:function(e){var t,n=this.$container.scrollLeft();e>0&&(n+=this.$containerWidth);for(var r=this._getItems(),i=0,o=r.length;i<o;i++)if(r[i]>=n){t=e>0?r[i-1]:r[i]-this.$containerWidth;break}t||(t=this.maxScroll),this._setSliderPositionByScroll(t,!0)},_moveScroll:function(e){var t=e.currentTarget.className;return!(t.indexOf("b-link_disabled")>-1)&&(this._adjustSliderPosition(t.indexOf("left")>-1?-1:1),!1)},bindEvents:function(){this.slider.on("mousedown",{obj:this},e),this.$container.on("scroll",{obj:this},r),this.isFloat&&this.$container.find(".b-mail-paginator__link").on("click",{obj:this},i),this.$scrollLeft.add(this.$scrollRight).on("click",this._moveScroll.bind(this))},unbindEvents:function(){this.slider.off("mousedown",e),this.isFloat&&this.$container&&this.$container.find(".b-mail-paginator__link").off("click",i),this.$container&&this.$container.off("scroll"),this.$scrollLeft&&this.$scrollLeft.add(this.$scrollRight).off("click")}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(359),i=(n.n(r),n(358));n.n(i);ns.events.on("daria:folders.move",function(e,t){var n=ns.Model.get("folders"),o=t.fid,a=t.overFid,s=t.action,l=$.Deferred();switch(s){case"putin":n.moveIn(o,a).always(l.resolve);break;case"putnext":n.moveAfter(o,a).always(l.resolve);break;case"putbefore":n.moveBefore(o,a).always(l.resolve)}l.always(function(e){switch(e){case"nameduplicate":return void Object(i.showErrorMessage)(r.StatuslineName.FoldersMoveError,i18n("%Folder_Move_Error_Nameduplicate"));case"actionerror":return void Jane.ErrorLog.send({event:"folders.move.action",status:e,action:s})}ns.events.trigger("daria:folders.move:done")})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3753),i=n(1084),o=n(1583),a=n(3754),s=n(3755);Daria.requestModelsForCompose=i.c,Daria.forceRefreshModelsForCompose=i.b,Daria.composeGo=function(e){return Daria.isReactiveCompose()?Object(o.a)(e):Object(r.a)(e)},Daria.openQuickReply=a.a,Daria.composesRestore=function(e){return Daria.isReactiveCompose()&&Object(s.a)(e)},Daria.composesDestroy=function(){return Daria.React.Compose&&Daria.React.Compose.destroy()}},function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vow.promise(),n=ns.router.generateUrl("compose2",Object(r.pick)(e,function(e){return void 0!==e}));return ns.page.go(n).then(t.fulfill,function(e){"block"!==e&&t.reject(e)},t),t};var r=n(136);n.n(r)},function(e,t,n){"use strict";var r=n(814),i=n(1583);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)().then(function(){return Daria.React.QuickReply.open(e,Object(i.b)(e))})}},function(e,t,n){"use strict";var r=n(814),i=n(136);n.n(i);t.a=function(e){var t=ns.Model.get("settings").getSetting("storedComposeStates");return Object(i.get)(Daria,"React.Compose.shouldRenderStack")||t&&"undefined"!==t?Object(r.a)().then(function(){return Daria.React.Compose.restore(e)}):Promise.resolve()}},function(e,t){!function(e,t){t.Geolocation={getData:function(){var e=$.Deferred();return navigator.geolocation.getCurrentPosition(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise()},checkUserRelevance:function(){return!!Modernizr.geolocation&&(!!Modernizr.mozilla&&t.uidEnds([39,94,92,44,55]))},monitoring:function(){this.checkUserRelevance()&&this.getData().done(function(t){var n=$.extend({event:"geolocation",result:"success"},t.coords);e.ErrorLog.send(n)}).fail(function(t){var n=$.extend({event:"geolocation",result:"failure"},t);e.ErrorLog.send(n)})}}}(Jane,Daria)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);n.n(r);!function(e,t){var n,i=function(e,n){var r=ns.Model.get("messages",n);if(e.filter.type="search",e.filter.param={},$.each(["request","fid","scope","from","to","unread","lid"],function(t,r){n[r]&&(e.filter.param[r]=n[r])}),e.filter.param.reqid=t.React.getSearchSessionId(),e.message&&e.message.mid){r.isSearchTopResult(e.message.mid)&&(e.filter.param.tophits="yes");var i=r.getMessageByMid(e.message.mid),o=(r.models||[]).indexOf(i);o>-1&&(e.message.index=o+1)}e.filter.param=$.param(e.filter.param)};t.actionLog=function(n,r){var o=$.extend({},ns.page.current.params),a=r.originalAction||r.action,s=ns.page.current.page,l=r.mMessagesChecked?r.mMessagesChecked.getIds():{},c=$.extend(!0,{},{ids:[],tids:[]},r.ids||{},l),u=t.getPrevPageSearchContext();if(!1!==r.islog){c.tids.length||c.ids.length||!o.ids||c.ids.push(o.ids);var d=new Date,f={timestamp:d.getTime()+60*d.getTimezoneOffset()*1e3,action:a,platform:navigator.platform,filter:{page:s,type:null,param:null}};!function(t,n,r,i){if(1===n.ids.length^1===n.tids.length){var o=n.ids.shift(),a=n.tids.shift(),s=o||a,l=ns.Model.get("message",{ids:s}),c=l.getData()||r.messageInfo;if(c&&c.date){if(t.message={thread:a?c.count:0,timestamp:c.date.timestamp,type:c.type,from:jpath(c,'.field[.type=="from"].email')[0],index:c.idx,subject:c.subject},l.isNew()&&(t.message.isnew=1),_.forEach(["widget","widget-type","widget-controls"],function(e){r[e]&&(t.message[e]=r[e])}),c.fid){var u=ns.Model.get("folders").getFolderById(c.fid);u&&(t.message.folder={fid:u.fid},u.symbol&&(t.message.folder.symbol=u.symbol))}o?t.message.mid=o:a&&(t.message.tid=a),"show"===i&&e.watcher.get("message.may-unsubscribe")&&(t.message.actions=["unsubscribe"])}else t.message=null}else t.messages={count:n.ids.length,threads:n.tids.length}}(f,c,r,a),"search"===o.search?i(f,o):"message"===s&&u?i(f,u.page.params):o.thread_id?(f.filter.type="thread",f.filter.param=o.thread_id):o.current_label?(f.filter.type="label",f.filter.param=o.current_label):o.current_folder?(f.filter.type="folder",f.filter.param=o.current_folder):o.extra_cond&&(f.filter.type=o.extra_cond),r.btn&&(f.btn=r.btn);var p={data:JSON.stringify(f)};"search"===f.filter.type&&(p.isSearch=!0),ns.request.addRequestParams(p),t.actionLog.send(p)}},t.actionLog.send=function(e){e.model="do-action-log",$.post("".concat(t.api.journal,"?_m=").concat(e.model),e)},ns.events.on("user.action.log",t.actionLog),ns.events.on("message.action.complete",t.actionLog),ns.events.on("ns-page-after-load",function(){var e=ns.page.current;if(n&&e&&"message"===n.page&&"messages"===e.page){var i=e.params,o=i.current_folder;if(o){var a=ns.Model.get("folders").getFolderBySymbol(r.WellKnownFolderSymbol.INBOX);a&&a.fid===o&&t.actionLog("pageload",{action:"gotoinbox",eventObject:{params:$.extend({islog:!0},i)}})}}n=$.extend(!0,{},ns.page.current)})}(Jane,Daria)},function(e,t){!function(){var e=/^[^@]+@(yandex-team\.(ru|com|com\.tr)|yabank-team\.net)$/;Daria.email={},Daria.email.isCA=function(e,t){var n=e.match(/^(\+?\d+)@ya(?:ndex)?\./);return!!n&&(t&&(t.phone=n[1]),!0)},Daria.email.isCorp=function(t){return Daria.IS_CORP&&e.test(t)},Daria.email.isSupport=function(e){return new RegExp("^(?:[^@]+)@(?:support\\.yandex\\.(?:"+Daria.Config.domainZonesForReg+"|com\\.ua))$").test(e)},Daria.email.getDomain=function(e){return Daria.email.split(e).pop()},Daria.email.getLogin=function(e){var t=Daria.email.split(e);return t.pop(),t.join("@")},Daria.email.split=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("@")},Daria.email.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.email.getLogin(e).replace(/-/g,"."),"@").concat(Daria.email.getDomain(e))}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3760);!function(e){var t={doc:"doc",docx:"doc",htm:"doc/text",html:"doc/text",mht:"doc",odt:"doc",rtf:"doc",txt:"doc/txt",pdf:"pdf",odp:"ppt",ppt:"ppt",pptx:"ppt",csv:"xls/xls",ods:"xls",ots:"xls",xls:"xls",xlsx:"xls",eml:"mail/eml",vcf:"mail/eml",exe:"application/exe",aac:"audio/audio",mka:"audio",mp3:"audio/mp3",ogg:"audio/audio",wav:"audio",wma:"audio/wma",ai:"image/ai",bmp:"image/bmp",cdr:"image/cdr",djvu:"image",eps:"image",gif:"image/gif",ico:"image",jpe:"image",jpeg:"image/jpg",jpg:"image/jpg",pcx:"image/pcx",pjpeg:"image",png:"image/png",ps:"image",psd:"image/psd",tga:"image",tif:"image/tiff",tiff:"image/tiff","3gp":"video",avi:"video/avi",flv:"video/video",m2v:"video",mkv:"video",mov:"video/mov",mp4:"video/mp4",mpe:"video",mpeg:"video",mpg:"video",qt:"video",vob:"video",wmv:"video/wmv","7z":"zip/zip",arj:"zip/zip",bz2:"zip",lzh:"zip/zip",uc2:"zip/zip",zip:"zip",rar:"rar"},n=["bmp","gif","jpg","jpeg","pjpeg","pcx","png","tif","tiff"];["apk","cab","dmg","docb","docm","gz","js","msi","phps","pptb","pptm","sea","sit","tar","torrent","xlsb","xlsm","xpi"].forEach(function(e){t[e]="general/general"}),e.getExtensionInfo=function(e){var i=Object(r.a)(e),o=(t[i]||"").split("/"),a={class:o[0]||"general",preview:$.inArray(i,n)>-1};return o.length>1&&(a.icon=o[1]),a},e.getExtension=r.a,e.splitName=r.c,e.splitAttachmentName=r.b}(Daria)},function(e,t,n){"use strict";function r(e){var t=e||"",n=t.split(".");if(1===n.length)return[t,""];var r=n.pop();return[n.join("."),r]}t.c=r,t.a=function(e){return r(e)[1].toLowerCase()},t.b=function(e){var t=r(e)[0],n=t.length,i=Math.min(6,n);for(;" "===t[n-i];)i--;var o=t.slice(0,n-i),a=t.slice(-i);return{prefix:o,suffix:a}}},function(e,t){Daria.MessageTime={getFormattedTime:function(e){var t={attach:void 0,title:void 0,message:void 0,list:void 0,full:void 0,isRelative:!1},n=this._getUserTZ(),r=new Date(Daria.now()-n),i=new Date(e-n);return r.getUTCDate()===i.getUTCDate()&&r.getUTCMonth()===i.getUTCMonth()&&r.getUTCFullYear()===i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_today_at_HM",i,!0),t.list=Jane.Date.format("%Date_HM__colon",i,!0),t.attach=t.list,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0),t.isRelative=!0):r.getUTCFullYear()!==i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_dmy_at_HM",i,!0),t.list=Jane.Date.format("%Date_dmy__dot",i,!0),t.attach=Jane.Date.format("%Date_db",i,!0),t.title=Jane.Date.format("%Date_Format_dBY_short_year_in_HM",i,!0),t.full=t.title):(t.message=Jane.Date.format("%Date_dB_in_HM",i,!0),t.list=Jane.Date.format("%Date_db",i,!0),t.attach=t.list,t.title=t.message,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0)),t},_getUserTZ:function(){return ns.Model.get("account-information").get(".tz_offset")*Jane.Date.MINUTE}}},function(e,t){Daria.getPageTitle=function(e,t){var n,r,i="",o=t.ids,a=t.mailboxUid||null;switch(e){case"message":r=(n=ns.Model.get("message",{ids:o,mailboxUid:a})).getSubject();var s=n.getFromName();r&&s&&(i+=i18n("%Title_message",r)+"  "+s);break;case"messages":var l,c=t.current_folder,u=0;if(Daria.isFoldersTabPage(t)){var d=ns.Model.get("tabs",{mailboxUid:a}).getTab(t.tabId);d&&(u=d.getUnreadCount(),l=d.get(".title"))}else if(c){var f=ns.Model.get("folders",{mailboxUid:a}).getFolderById(c);f&&(l=f.name,u=f.new)}l&&(i+=u>0?u+"  "+l:l);break;case"compose":if(n=ns.Model.get("message",{ids:o,mailboxUid:a}),!(o&&/^\d+$/.test(o)&&n.isValid())){i+=i18n("%Title_compose");break}switch(r=n.getSubject(),t.oper){case"reply":case"reply-all":i+=i18n("%Title_reply",r);break;case"forward":i+=i18n("%Title_forward",r);break;default:i+=i18n("%Title_draft",r)}}return i&&(i+="  "),i+=i18n("%Title_mail")},Daria.updateTitle=function(e){if(void 0===e||e===ns.page.current.params.mailboxUid){var t=ns.page.current.params,n=ns.page.current.page,r=Daria.getPageTitle(n,t),i=Jane.watcher.get("pageVisible"),o=i?0:Math.min(Daria.gotNewMail,10);"compose"===n&&(o=n),jQuery("#favicon, #png16favicon, #png32favicon").remove();var a=Daria.IS_CORP?"ya-team-favicon":"main-favicon",s="/u2709/favicon/png/".concat(a,"/16/").concat(o,".png"),l="/u2709/favicon/png/".concat(a,"/32/").concat(o,".png");Modernizr.mozilla>=58&&(s+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())),l+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())));var c='<link id="png16favicon" rel="icon" type="image/png" href="'.concat(s,'" sizes="16x16" />')+'<link id="png32favicon" rel="icon" type="image/png" href="'.concat(l,'" sizes="32x32" />');jQuery("head").append(c),Daria.gotNewMail&&!i&&(r="* "+r),document.title=r}},ns.events.on("pageVisible.change",function(){Daria.gotNewMail=0,Daria.updateTitle()}),ns.events.on("ns-page-after-load",function(){Daria.updateTitle()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(583),i=n.n(r),o=n(353),a=n(346);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}!function(){function e(e){e.convert=n(e.text),e.convert=e.convert.replace("--\n","-- \n"),e.preview=e.convert.trim();var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function t(e){e.convert=function(e){return e=Daria.Html2Text.text2html(e),"<div>"+(e=_.unescape(e))+"</div>"}(e.text),e.convert=Daria.Html2Text.flatDOMHtml(e.convert),e.convert=e.convert.replace("-- ","--&nbsp;").replace(">--<",">--&nbsp;<"),e.preview=Daria.Html2Text.html2text(e.convert).trim(),!e.preview&&r(e.text)&&(e.preview="< "+Object(o.default)("compose-react/Signature_picture")+" >");var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function n(e){return e=Daria.Html2Text.text2html(e),e=_.unescape(e),Daria.Html2Text.html2text(e)}function r(e){return/<img[^>]*>/i.test(e)}Daria.signs={get _settingsModel(){var e=Object(a.isSharedMailboxes)()?"mailbox-settings":"settings";return ns.Model.get(e)},_signsModel:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return ns.Model.get("signs",{mailboxUid:e})},getFilteredSigns:function(e,t){return _.filter(e,function(e){var n=_.map(e.emails,function(e){return e.toLowerCase()});return 0===e.emails.length||-1!==n.indexOf(t.toLowerCase())})},sort:function(e,t){return function(n,r){var i=_.map(arguments,function(n){var r=0;return n.isDefault&&(r+=1),t&&n.lang===t&&(r+=2),e&&-1!==n.emails.indexOf(e)&&(r+=4),r});return i[0]<i[1]?1:i[0]>i[1]?-1:n._idx<r._idx?1:n._idx>r._idx?-1:0}},getHtml:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mailboxUid;return this._getNotEmptySigns({mailboxUid:e}).map(t)},getPlain:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mailboxUid;return this._getNotEmptySigns({mailboxUid:t}).map(e)},addSignature:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,this._signsModel({mailboxUid:n})===ns.M.STATUS.OK){e.next=4;break}return e.next=4,ns.request("signs");case 4:return(r=this._getNotEmptySigns({mailboxUid:n})).push(t),e.next=8,this._signsModel({mailboxUid:n}).save(r);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getSignatureMatch:function(e){var t;return e&&(t=(e=n(e)).replace(/^\s*$/gm,"").replace(/^[\n\r]+/g,"").match(/^.+$/m))&&(this.__firstLineMatch=i()(t[0]).replace(/\s/g,"\\s")),this.__firstLineMatch||""},appendToBody:function(e,t,n,r,i){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=[],c="html"===t;if(c?(l=this.getHtml({mailboxUid:s}),o="<div><br/></div><div><br/></div>",a="<div><br/></div>"):(l=this.getPlain({mailboxUid:s}),o="\n\n",a="\n"),!l.length)return e;r=r||this._settingsModel.getSetting("default_email"),i=i||Daria.Config.locale;var u=this.getFilteredSigns(l,r);u.sort(this.sort(r,i));var d=_.first(u);return d?(c&&(d.convert=Daria.Html2Text.flatDOMHtml(d.convert)),this.getSignatureMatch(d.convert)):d=this.setEmptySign(c),!n&&this._settingsModel.isSet("signature_top")?o+d.convert+a+e:e+o+d.convert+a},setEmptySign:function(e){return{text:"<div>-- </div>",convert:e?"<div>--&nbsp;</div>":"-- "}},isEmpty:function(e){return!r(e)&&!n(e)},count:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return this._getNotEmptySigns({mailboxUid:e}).length},sample:function(){var e=this,t=this._settingsModel.getSetting("from_name");if(!t)return!1;var n=(ns.Model.get("userphones").getActivePhone()||{}).number;if(!n)for(var r=this._settingsModel.getSetting("emails"),i={},o=0;o<r.length;o++){var a=r[o];if(a.native&&a.validated&&Daria.email.isCA(a.address,i)){n=i.phone;break}}if(!n)return!1;var s={name:t,phone:n,email:this._settingsModel.getSetting("default_email")};return s.content=Daria.supplant("<div>--&nbsp;</div><div>{prefix}</div>{phone}",{prefix:i18n("%Signature_sample",_.escape(t)),phone:n?"<div>"+_.escape(n)+"</div>":""},!0),!this.getHtml().filter(function(t){return e.compare(t.convert,s.content)}).length&&s},compare:function(e,t){return(e=e.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""))===(t=t.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""))},_getNotEmptySigns:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mailboxUid:null}).mailboxUid;return this._signsModel({mailboxUid:t}).getList().filter(function(t){var n=t.text;return!e.isEmpty(n)})}}}()},function(e,t){!function(e){"use strict";e.UISettings={},e.UISettings.shouldShowCheckboxInsideUserpic=function(){var t=ns.Model.get("settings"),n=t.getSetting("show_checkbox_inside_userpic"),r=t.getSetting("messages_avatars");return e.is3pane()||n&&r}}(Daria)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(778),i=n(346);Daria.url={_checkAttachmentHasHid:function(e){if(!this._notEmptyString(e.hid))throw new Error("Attachment should have a hid")},_checkMid:function(e){if(!this._notEmptyString(e))throw new Error("Invalid message id passed")},_getAttachmentName:function(e){return e["name-uri-encoded"]||e.name||e.filename||""},_notEmptyString:function(e){return e&&"string"==typeof e},docviewer:function(e,t){return this._checkMid(t),this._checkAttachmentHasHid(e),"t"===t[0]&&(t=t.slice(1)),Daria.Config["docviewer-frontend-host"]+"/?url="+encodeURIComponent("ya-mail://"+t+"/"+e.hid)+"&name="+this._getAttachmentName(e)+"&uid="+Daria.uid},isEMLSuffixMissing:function(e,t,n){if(!n)return!1;var r=decodeURIComponent(n).split("."),i="message/rfc822"===[e,t].join("/");return _.all([r.length>1&&"eml"!==_.last(r)||1===r.length,i])},attachment:function(e,t,n){var o,a=Object(i.getMailboxUid)();if(e.url)return(o=new r.a(e.url)).replaceParams({uid:Daria.uid}),a&&o.addParams({mailboxUid:a}),o.toString();if(!e.uploading&&"string"==typeof t){this._checkMid(t),this._checkAttachmentHasHid(e);var s=this._getAttachmentName(e);this.isEMLSuffixMissing(e.type,e.subtype,s)&&(s=encodeURIComponent(decodeURIComponent(s)+".eml")),o="https://"+Daria.Config.host+"/message_part/"+s+"?_uid="+Daria.uid+"&name="+s+"&hid="+e.hid+"&ids="+t,a&&(o+="&mailboxUid=".concat(a));var l=["no_disposition","exif_rotate","thumb","preview"],c=["thumb_size","fallback_url"];for(var u in n=n||{})n.hasOwnProperty(u)&&(l.indexOf(u)>-1&&Boolean(n[u])?o+="&"+u+"=y":c.indexOf(u)>-1&&(o+="&"+u+"="+n[u]));return o}},archive:function(e,t){var n=_.flatten(jpath(e,".attachment")).filter(function(e){return!e.inline&&(e.name||e.message)&&!e.narod}),r=n.map(function(e){return e.hid});if(0===r.length)return!1;var o=1===r.length;r=r.join(",");var a=jpath(e,'.info.field[.type == "from"].email')[0],s=new Date(Number(e.info.date.timestamp)),l=Jane.Common.n,c=s.getFullYear()+"-"+l(s.getMonth()+1)+"-"+l(s.getDate())+"_"+l(s.getHours())+"-"+l(s.getMinutes())+"-"+l(s.getSeconds()),u=o?n[0].name:"Attachments_"+a+"_"+c+".zip",d=encodeURIComponent(u),f={_uid:Daria.uid,hid:r,ids:t,name:u};o||(f.archive="zip");var p=Object(i.getMailboxUid)();return p&&(f.mailboxUid=p),"../message_part/"+d+"?"+ns.params2query(f)},upload:function(e,t){var n="signature"===t?Daria.api["upload-signature-images"]:Daria.api["upload-attachment"],i=new r.a(n),o=i.queryParams();return _.isPlainObject(e)&&_.assign(o,e),ns.request.addRequestParams(o),i.query(o),i.toString()},cleanUpYaDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk?from=mail_attach_trash&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},increaseYaDiskSize:function(){return"".concat(Daria.Config["disk-url"],"/tuning?from=mail_attach_buy&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},signUpDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk")},diskHelp:function(){return Daria.Config["disk-help-url"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1185);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function e(e){var t=Number(e.tid),n=$(e.target),r=e.cids,i=e.mcids,o=!0,a=[];if(_.each(i,function(e){e.length>1&&(o=!1),a.push(e)}),0===r.length)return Vow.reject("no selected contacts");if(o)return new vow.Promise(function(e,n){ns.Model.get("abook-groups").addToGroup({tid:t,mcids:a}).then(e,n)});if(n.length&&1===r.length){var s=r[0];ns.events.trigger("daria:vAbook:showChooseEmailPopup",{cid:s,tid:t,target:e.target})}else ns.events.trigger("daria:vAbook.showGroupPopup",{type:"add-to-group",targetTid:t,shared:e.shared});return Vow.reject("no allContactsWithOneEmail")}function t(e){var t=ns.Model.get("abook-groups").getPhoneGroupTid();return new vow.Promise(function(n,r){ns.Model.get("abook-groups").addToGroup({tid:t,mcids:e.cids}).then(n,r)})}Daria.COPS={},Daria.COPS["abook.select-all"]=function(e){e.selectAll()},Daria.COPS["abook.deselect-all"]=function(e){e.unselectAll()},Daria.COPS["mail-common.person-popup"]=function(){return ns.events.trigger("daria:vAbookContacts.showPersonPopup",{}),Vow.fulfill()},Daria.COPS["abook.remove-contacts"]=function(e){var t=e.getCids();return ns.Model.get("abook-contacts").removeContacts(t).then(function(){ns.Model.invalidateAll(["abook-contacts","abook-selected"])}).then(r.a).then(function(){ns.page.go()})},Daria.COPS["abook.toolbar-more-actions"]=function(e,t){var n=Daria.COPS["abook.toolbar-more-actions"];return n._openView?(n._openView.destroy(),delete n._openView):n._openView=ns.View.create("abook-extra-actions").open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.groups-dropdown"]=function(e,t){var n=Daria.COPS["abook.groups-dropdown"];return n._openView?(n._openView.destroy(),delete n._openView):n._openView=ns.View.create("abook-groups-dropdown",e.params).open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.remove-contacts-from-group"]=function(e){var t=Number(ns.page.current.params.tid||0);if(t<=0)return Vow.fulfill();Daria.Dialog.close();var n=e.getCids();return ns.Model.get("abook-groups").removeFromGroup({tids:[t],mcids:n}).then(function(){e.clear(),ns.page.go()})},Daria.COPS["abook.compose-go"]=function(e){Daria.composeGo({to:e.emailsToString()})},Daria.COPS["abook.assign-contacts-from-group"]=function(t,n){var r=t.getCids(),a=no.jpath(".current.params.tid",ns.page);return e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{cids:r,mcids:t.getContactsMcids(a),shared:t.params.shared}))},ns.action.define("abook.assign-contacts-from-group",function(t,n){e(n).then(n.cb)}),Daria.COPS["abook.assign-contacts-from-phone-group"]=function(e){return t({cids:e.getCids()})},ns.action.define("abook.assign-contacts-from-phone-group",function(e,n){t(n).then(n.cb)})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3768),i=n.n(r),o=n(3770),a=n(1166),s=n(3771),l=n(3772),c=n(3773),u=n(137),d=(n.n(u),n(554)),f=(n.n(d),n(3774)),p=n(3775),g=n(3778),m=n(817),h=(n.n(m),n(359)),v=(n.n(h),n(358)),b=(n.n(v),n(3)),y=(n.n(b),n(347)),S=n(346);function w(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function O(e){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(){function e(e,t){ns.events.trigger("daria:MOPS:action-complete",{action:e,mMessagesChecked:t}),ns.events.trigger("daria:MOPS:"+e,{})}function t(e,t,n,r){var i=[].concat(M(t.ids),M(t.tids)),o=Object(S.getMailboxUid)(),a=i.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:o})}).filter(function(e){return!e.isTrash()&&!e.isSpam()});a.length&&(ns.Model.traverse("messages",function(t){if(t.params.current_label===n||t.params.lid===n)if("label"===e){var r=!0,i=!1,o=void 0;try{for(var s,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;t.insertMessageBySort(c)}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}else t.remove(a)}),Jane.watcher.set("actions-message-label",e,{force:!0}),ns.events.trigger("message.action.complete",{action:e,eventObject:{ids:t,params:r},skipFocus:!0}))}function n(e){return!(!e||"object"!==O(e))&&(e.ids.length>0||e.tids.length>0)}var r=function(e,t){return(t=t||{}).folder&&(t.fid=t.folder,delete t.folder),t.current_folder=function(e,t){var n={delete:"trash",tospam:"spam",notspam:"inbox"};if(_.has(n,e)){var r=Object(S.getMailboxUid)();t=ns.Model.get("folders",{mailboxUid:r}).getFidBySymbol(n[e])}return t}(e,t.fid||ns.page.current.params.current_folder),t};function x(e,t,i,o){var a,l=!o&&Daria.MOPS.HooksManager.instance().runBefore(e,x,[e,t,i]);if(l)return l;a=(i=r(e,i)).current_folder,e=Daria.MOPS.fixMoveAction(e,a);var c=[],f=i["message-id"],p=t.isFolderSelected(),g=t.isTabSelected(),m=p?t.getSelectedFolder():null,h=g?t.getSelectedTab():null,v=ns.page.current.params,b=t.getCount(),y=t.getIds(e,i),w=i.tabId;Daria.MOPS._logMops("move",e,"start",y,i),f&&(y.ids=$.grep(y.ids,function(e){return e===f}));var O=Object(S.getMailboxUid)(),E=[].concat(M(y.ids),M(y.tids)).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:O})}),T=E.some(function(e){return e.isValid()&&e.isInTab()}),D=_.extend({},i,{ids:y,count:b,action:e});if(D.whereToGo=Daria.messages.whereToGoAfterMove(e,t,D),ns.events.trigger("daria:MOPS:action-start",D),!n(y))return Vow.reject("no selected ids");var C=ns.Model.get("folders",{mailboxUid:O}).isCurrentFolder(u.WellKnownFolderSymbol.SENT),k={id:"do-messages",params:{mailboxUid:O,movefile:a,action:e,with_sent:-1!==["move","tospam","delete"].indexOf(e)&&C?1:0}};if(Daria.areFoldersTabsEnabled()&&w&&(k.params.tabId=w),h?k.params.tab=h:m?k.params.fid=m:k.params=_.extend({},k.params,y),!Daria.MOPS._checkDoMessagesParams(k.params))return Vow.reject("moveHelper: not enough params for request in do-messages");c.push(k,{id:"folders",params:{mailboxUid:O}},{id:"labels",params:{mailboxUid:O}}),Object(S.isSharedMailboxesEnabled)()&&c.push({id:"delegated-resources-list"}),Daria.areFoldersTabsEnabled()&&(w||T)&&c.push({id:"tabs",params:{mailboxUid:O}}),Daria.isPriorityTab()&&c.push({id:"messages",params:{current_label:ns.Model.get("labels",{mailboxUid:O}).getPriorityLID(),mailboxUid:O}}),Daria.isAttachmentsTab()&&c.push({id:"messages",params:{goto:"all",extra_cond:"only_atta",sort_type:"date",mailboxUid:O}}),Daria.isSearchPage()&&v[d.SearchQueryParams.DELETED]&&c.push({id:"messages",params:v});var A=E.some(function(e){return e.isTrash()});"delete"===e&&A&&ns.Model.invalidate("messages",function(e){return e.params[d.SearchQueryParams.DELETED]});var I=Daria.MOPS.prepareMove({action:e,mMessagesChecked:t,ids:y,params:i,extendedParams:D,pageParams:v}),j=I.willGoToFolder3pane,R=I.willGoToFolder2pane;Array.isArray(i.requestModels)&&(c=c.concat(i.requestModels.map(function(e){return{id:e,params:i.requestParams}}))),Daria.MOPS.doActionInModelsByIds(y,"move",{fid:a,tabId:w}),Daria.MOPS.invalidateMessagesCheckedModels(y,e),i.ignoreUnsavedDraft&&ns.page.block.clear(),j&&(ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.Model.get("focus").setPreventOpenOnFocus()),Daria.MOPS._logMops("move",e,"startRequest",y,i);var F=ns.forcedRequest(c);return P(e,t),F.then(function(t){var n=t[0].data.taskType||"sync";if(b>(parseInt(ns.Model.get("settings").getSetting("messages_per_page"),10)||30)){var r=ns.Model.get("folders",{mailboxUid:O}),o=r.isFolder(t[0].params.movefile,[u.WellKnownFolderSymbol.TRASH]),a=r.isFolder(ns.page.current.params.current_folder,[u.WellKnownFolderSymbol.TRASH])&&o?"delete-from-trash":e;Daria.MOPS.showStatusline(a,y,b,Object.assign({},i,{isTaskAsync:"async"===n}))}R&&ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-complete",D),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"success"},D)),ns.events.trigger("message.action.complete",D),Object(s.a)(e,E)},function(t){R&&ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-failed",D),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"fail"},D));var n=D.ids,r=D.count,i=D.fid,o=D.tabId;return Daria.MOPS.registerOperationFail(e,{ids:n,count:r,fid:i,tabId:o},t,"do-messages"),Vow.reject(t)})}function E(t,r,i,o){i=i||{};var a,s,l,c,u=Object(S.getMailboxUid)(),d=!o&&Daria.MOPS.HooksManager.instance().runBefore(t,E,[t,r,i]);if(d)return d;var f=r.isFolderSelected(),p=r.getSelectedFolder(),g=r.isTabSelected(),m=r.getSelectedTab();if(g){if(!m)return Daria.DEBUG&&console.error("Promise rejected because of no tabId"),Vow.reject("no-selection");(a=Daria.MOPS.markByTab(t,m)).hasTabsAdjust()&&(s=a.getIds())}else if(f){if(!p)return Daria.DEBUG&&console.error("Promise rejected because of no fid"),Vow.reject("no-selection");(a=Daria.MOPS.markByFid(t,p)).hasAdjust()&&(s=a.getIds())}else{var h=r.getIds();if(l=r.getCount(),a=Daria.MOPS.doActionInModelsByIds(h,t,{fid:p,tabId:m}),!n(s=a.getIds())&&n(h))return Vow.reject("no-item-to-operation")}var v=a.hasAdjust(),b=a.hasTabsAdjust(),y=[],w={id:"do-messages",params:{action:t,mailboxUid:u}};if(m?w.params.tabId=m:p?w.params.fid=p:(w.params=_.extend({},w.params,s),"mark"===t&&function(e){var t=e.ids.concat(e.tids).filter(function(e){return!ns.Model.get("state-message-thread-item",{ids:e}).isOpen()});if(Daria.Page.isParamsForMessage(ns.page.current.params)){var n=Daria.Page.getMessageId(ns.page.current.params);t=_.without(t,n)}if(t.length){var r={type:"mark_read_from_list",mids:t};Jane.ErrorLog.send(r)}}(s)),!Daria.MOPS._checkDoMessagesParams(w.params))return setTimeout(function(){return Daria.MOPS._undoFailedAction(t,a)},1),Vow.reject("mark: not enough params for request in do-messages");y.push(w),!Daria.IS_CORP&&v||y.push({id:"folders",params:{mailboxUid:u}}),!Daria.areFoldersTabsEnabled()||!Daria.IS_CORP&&b||y.push({id:"tabs",params:{mailboxUid:u}});var O=function(e){var n=w.params.fid;Daria.MOPS.registerOperationFail(t,{ids:s,count:l,fid:n,tabId:m},e,"do-messages"),Daria.MOPS._hasModelRequestFailed(e,"do-messages")&&Daria.MOPS._undoFailedAction(t,a)};if(v||b)e(t,r),ns.forcedRequest(y).then(function(){},O),c=Vow.resolve();else{var M=ns.forcedRequest(y);M.then(function(){return e(t,r)},O),c=M}return i.noResetChecked||P(t,r),c}function T(e,r,i){var o,a=r.isFolderSelected(),s=r.isTabSelected(),l=Object(S.getMailboxUid)();if("object"===O(i)&&i?(i.actionParams&&(i=i.actionParams),o=i.lid||i.label||i.current_label):o=i,!o)return Vow.reject("No lid passed");var c,u=i["message-id"],d=i.originalAction;if(i={lid:o},c=u?{ids:[u],tids:[]}:r.getIds(),"toggleLabel"===e){var f=[].concat(M(c.ids),M(c.tids)).some(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:l}).hasLabel(o)});e=f?"label":"unlabel"}var p=Daria.MOPS.doActionInModelsByIds(c,e,i);if(!n(c=p.getIds()))return Daria.DEBUG&&console.error("Promise rejected because of no selection"),Vow.reject("no-selection");ns.events.trigger("label.update-message-labels");var g,m=[],h={id:"do-"+e,params:{lid:o,mailboxUid:l}};return s?h.params.tabId=r.getSelectedTab():a?h.params.fid=r.getSelectedFolder():h.params=_.extend({},h.params,c),m.push(h),p.hasAdjust()?(ns.Model.get("labels",{mailboxUid:l}).adjustCounters(p.getAdjust()),(g=ns.forcedRequest(m)).then(function(n){var r=n[0].data.taskType||"sync";Daria.MOPS.showStatusline(e,c,null,Object.assign({},i,{isTaskAsync:"async"===r})),t(e,c,o,i),ns.page.go()})):(m.push({id:"labels",params:{mailboxUid:l}}),(g=ns.forcedRequest(m)).then(function(n){n[0].getAffectedTids().forEach(function(t){ns.Model.get("message",{ids:t})[e](i)});var r=n[0].data.taskType||"sync";Daria.MOPS.showStatusline(e,c,null,Object.assign({},i,{isTaskAsync:"async"===r,originalAction:d})),t(e,c,o,i)})),g.then(function(){o===ns.Model.get("labels",{mailboxUid:l}).getPriorityLID()&&c.ids.forEach(function(t){return Object(y.callHamonChangeInboxGptSideEffect)(t,e)})}),g}function D(e,t){var n,r,i,o,a=Object(S.getMailboxUid)(),s=ns.Model.get("labels",{mailboxUid:a}),l=t.tids;Array.isArray(l)||(l=[l]);var c=s.getMuteThreadLabel(),u=[];_.contains(["ignore","disableIgnore"],e)?(r="label","ignore"===e?(i="",n=c&&c.lid):(i=" ",n=(o=s.getLIDByName("ignore_thisthread:disable"))&&o.lid)):(r="unlabel",n=c&&c.lid,i="");var d=Vow.promise();return n?d.fulfill(n):(u=[{id:"do-labels-add-by-symbol",params:{symbol:"mute_label",mailboxUid:a}},{id:"labels",params:{mailboxUid:a}}],"disableIgnore"===e&&(u=[{id:"do-labels-add",params:{label_name:"ignore_thisthread:disable",label_type:"threadWide",mailboxUid:a}},{id:"labels",params:{mailboxUid:a}}]),d=ns.forcedRequest(u).then(function(t){var n;return t[0].get(".body.updated")?(n=_.contains(["ignore","unignore"],e)?t[1].getMuteThreadLabel():t[1].getLabelByName("ignore_thisthread:disable"),Vow.fulfill(n&&n.lid)):Vow.reject("not possible to add label: ".concat(t))})),Jane.c("  ",i),d.then(function(e){return _.each(l,function(t){ns.Model.get("message",{ids:t})[r]({lid:e})}),u=[{id:"do-"+r,params:{lid:e,tids:l}}],ns.forcedRequest(u)})}function C(e,t){Daria.MOPS._logMops("archive","archive","start",e.getIds("archive",t),t);var n=Object(S.getMailboxUid)(),r=ns.Model.get("folders",{mailboxUid:n});return r.createArchiveFolder().then(function(){var n=r.getFidBySymbol(u.WellKnownFolderSymbol.ARCHIVE);return n?(t=_.extend({originalAction:"archive",fid:n,noResetChecked:!0},t),E("mark",e,t).then(function(){},function(e){if("no-item-to-operation"!==e)throw e}).then(function(){return x("move",e,t)})):Vow.reject("No folder with archive symbol found!")})}function P(e,t){"message"!==ns.page.current.page&&(t.isFolderOrTabSelected()||_.contains(["mark","unmark","move","notspam","tospam","pin","unpin","delete"],e))&&t.resetChecked()}Daria.MOPS={OperationFailNotificationManager:i.a,_failNotificationManager:new i.a,showStatusline:o.a,HooksManager:m.HooksManager,MOVE_ACTIONS:["archive","move","notspam","remove","tospam","infolder"],mark:function(e,t){return E("mark",e,t)},unmark:function(e){return E("unmark",e)},remove:function(e,t,n){return x("delete",e,t,n)},"remove.draft":function(e,t){return x("delete",e,_.extend({},t,{originalAction:"remove.draft"}))},move:function(e,t){var n=Object(S.getMailboxUid)();return ns.Model.get("folders",{mailboxUid:n}).isArchive(t.fid)?C(e,t):x("move",e,t)},infolder:function(e,t){return x("move",e,_.extend({originalAction:"infolder"},t))},archive:function(e,t){return C(e,t)},tospam:function(e,t,n){return x("tospam",e,t,n)},notspam:function(e,t){var n=Object(f.a)();if(!n)return x("notspam",e,t);var r=e.getData();return n.then(function(n){if(n)return x("notspam",e,t).then(function(e){return Object(v.showStatuslineComponent)({name:h.StatuslineName.UndoNotSpam,onAction:function(){Daria.MOPS.doActionWithMessages(r,"tospam",{},!0)}}),e})})},label:function(e,t){return T("label",e,t)},toggleLabel:function(e,t){return T("toggleLabel",e,t)},unlabel:function(e,t){return T("unlabel",e,t)},ignore:function(e){return D("ignore",e)},disableIgnore:function(e){return D("disableIgnore",e)},unignore:function(e){return D("unignore",e)},"unsubscribe-all":l.a,"unsubscribe-one":c.a,pin:function(e,t,n){return Daria.MOPS._pinHelper(e,!0,n)},unpin:function(e){return Daria.MOPS._pinHelper(e,!1)},"compose-edit":function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.page.go(ns.router.generateUrl("compose2",{ids:ns.page.current.params.ids}));case 2:if(Daria.isReactiveCompose()){e.next=4;break}return e.abrupt("return");case 4:t=Object(S.getMailboxUid)(),n=ns.page.history.getPreviousPageUrl({match:"messages"}),r=ns.router.generateUrl("messages",{current_folder:ns.Model.get("folders",{mailboxUid:t}).getFidBySymbol(u.WellKnownFolderSymbol.INBOX)}),ns.page.go(n||r);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),"reply-later-create":p.a,"reply-later-remove":g.a},Daria.MOPS._checkThreadInFolder=function(e){var t=e.action,n=e.params,r=e.ids,i=e.pageParams,o=e.extendedParams,a=Object(S.getMailboxUid)(),s=Daria.is3pane(),l=ns.Model.get("messages",{thread_id:i.thread_id,mailboxUid:a}).getCountThreadMessageInFolder();if(l&&r.ids.forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:a}).getFolderId()===i.current_folder&&l--}),!l){s&&Daria.lom.deleteFid(i.current_folder);var c=Daria.messages.getPageAfterSettingForAction(t,n).pageAfterSetting,u=ns.router(o.whereToGo.where);"messages"===u.page&&u.params.thread_id&&"next_message"!==c&&(delete u.params.thread_id,o.whereToGo.where=ns.router.generateUrl(u.page,u.params),o.whereToGo.updateRequired=!0)}},Daria.MOPS._checkWillGoToFolder3pane=function(e){var t=e.action,n=e.ids,r=!0,i=Object(S.getMailboxUid)(),o=-1!==["move","tospam","delete"].indexOf(t);if(ns.page.current.params.thread_id&&o)r=-1!==n.tids.indexOf(ns.page.current.params.thread_id)||n.ids.some(function(e){var t=ns.Model.get("message",{ids:e,mailboxUid:i}),n=t&&t.getThreadMessage();return n&&n.get(".mid")===ns.page.current.params.thread_id&&(n.getThreadCount()||0)<=1});else if(ns.page.current.params.ids&&o)if(-1!==n.ids.indexOf(ns.page.current.params.ids))r=!0;else{var a=ns.Model.get("message",{ids:ns.page.current.params.ids,mailboxUid:i}),s=a&&a.getThreadMessage();r=s&&-1!==n.tids.indexOf(s.get(".mid"))}return r},Daria.MOPS._clearMessageBodyCache=function(e){var t=e.midsHash,n=e.ids,r=Daria.array2obj(n.tids);ns.Model.traverse("message-body",function(e){(t[e.params.ids]||r["t"+e.params.ids])&&(e.invalidate(),e.trigger("daria:mMessageBody:moved"))})},Daria.MOPS.prepareMove=function(e){var t=e.action,n=e.mMessagesChecked,r=e.ids,i=e.params,o=e.extendedParams,a=e.pageParams,s=Daria.is3pane();a.thread_id&&a.current_folder?Daria.MOPS._checkThreadInFolder({action:t,params:i,ids:r,pageParams:a,extendedParams:o}):s&&Daria.lom.deleteFid(a.current_folder),Daria.MOPS.invalidateModelsOnMove(t,i,a);var l=Object(S.getMailboxUid)(),c=n.getOnlyCheckedMidOrTid(r),u=ns.Model.get("message",{ids:c,mailboxUid:l}),d=u.isSpam(),f=Boolean(ns.page.current.params.ids||ns.page.current.params.thread_id),p=Boolean("messages"===ns.page.current.page&&f),g=Boolean(p&&Daria.is2pane()&&(ns.page.current.params.ids||ns.page.current.params.thread_id&&_.lte(u.getThreadMessage().getThreadCount()||0,1)||u.isThreadModel())&&"delete"===t),m=p&&Daria.is3pane()&&Daria.MOPS._checkWillGoToFolder3pane({action:t,ids:r});if("delete"===t||t.indexOf("spam")>=0||"move"===t&&d){var h=Daria.array2obj(r.ids);1===r.ids.length^1===r.tids.length&&(o.messageInfo=_.cloneDeep(ns.Model.get("message",{ids:c,mailboxUid:l})),i.messageInfo=o.messageInfo),Daria.MOPS._clearMessageBodyCache({midsHash:h,ids:r}),[].concat(M(r.ids),M(r.tids)).forEach(function(e){ns.Model.get("message-widget-state",{ids:e}).resetViewUserClose("message-widget-spam",{silent:!0})}),Daria.MOPS.invalidateCollectionsWithCheckedLabels(n)}return{willGoToFolder2pane:g,willGoToFolder3pane:m}},Daria.MOPS.markByFid=function(e,t,n){var r=ns.Model.get("folders",{mailboxUid:n}),i=r.getUnreadCount(t);ns.Model.traverse("message",function(n){n.getFolderId()===t&&n[e]()});var o={};return o[t]=-i,r.adjustUnreadCounters(o),new Daria.MOPS.Opinfo},Daria.MOPS.invalidateCollectionsWithCheckedLabels=function(e){var t=e.getLidsSet();t.size&&ns.Model.traverse("messages",function(e){e.params.current_label&&t.has(e.params.current_label)&&e.params.current_label!==ns.page.current.params.current_label&&e.invalidate()})},Daria.MOPS.markByTab=function(e,t,n){var r=ns.Model.get("tabs",{mailboxUid:n}).getUnreadCount(t);ns.Model.traverse("message",function(n){n.getTabId()===t&&n[e]()});var i={};return i[t]=-r,this._adjustTabsUnreads(i,n),new Daria.MOPS.Opinfo},Daria.MOPS.markReadTab=function(e,t){ns.Model.get("tabs",{mailboxUid:t}).getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)}),ns.forcedRequest([{id:"do-folder-mark-read",params:{tabId:e,mailboxUid:t}}]).fail(function(t){return Daria.MOPS.registerOperationFail("mark",{tabId:e},t,"do-folder-mark-read")}),Daria.MOPS.markByTab("mark",e))},Daria.MOPS.doActionInModelsByIds=function(e,t,n){var r=[].concat(e.ids,e.tids);return Daria.MOPS.doActionInMessages(r,t,n)},Daria.MOPS.doActionInMessages=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=new Daria.MOPS.Opinfo,o=void 0===r?Object(S.getMailboxUid)():r;return e.forEach(function(e){var r=ns.Model.get("message",{ids:e,mailboxUid:o});if(r.getData()){var a=r[t](n);i.merge(a)}}),i.hasAdjust()&&"fid"in n&&ns.Model.get("folders",{mailboxUid:o}).adjustUnreadCounters(i.getAdjust()),Daria.areFoldersTabsEnabled()&&i.hasTabsAdjust()&&"tabId"in n&&this._adjustTabsUnreads(i.getTabsAdjust()),Daria.isPriorityTabEnabled()&&i.hasLabelsUnreadAdjust()&&ns.Model.get("labels",{mailboxUid:o}).adjustUnreadCounters(i.getLabelsUnreadAdjust()),i},Daria.MOPS.fixMoveAction=function(e,t){var n=Object(S.getMailboxUid)(),r=ns.Model.get("folders",{mailboxUid:n});return"move"===e&&(r.isFolder(t,[u.WellKnownFolderSymbol.TRASH])?e="delete":r.isFolder(t,[u.WellKnownFolderSymbol.SPAM])&&(e="tospam")),e},Daria.MOPS.invalidateModelsOnMove=function(e,t,n){if(ns.Model.destroyAll(["message-nearest"]),["delete","tospam","notspam"].indexOf(e)>-1&&ns.Model.destroyAll(["message-thread-nearest"]),ns.Model.isDefined("messages-pager")){ns.Model.get("messages-pager",n).destroy();var r=t.current_folder;r&&ns.Model.get("messages-pager",{current_folder:r}).destroy()}},Daria.MOPS.invalidateMessagesCheckedModels=function(e,t){"delete"===t&&(e=[].concat(e.ids,e.tids),ns.Model.traverse("messages-checked",function(t){var n=t.getIds(),r=_(n).chain().values().flattenDeep().compact().map(function(e){return"t"===e.charAt(0)?e.substr(1):e}).value();r.length&&r.some(function(t){return _.include(e,t)})&&t.resetChecked()}))},Daria.MOPS.updateHelper=function(e,t,n,r){var i=function(){ns.events.trigger("daria:vToolbarButton:loader:end")},o=Daria.MOPS[e](t,n);if(o){if(o.then(i,i),r){var a=function(){return o};return r.update(ns.page.current.params).then(a,a)}return o}},Daria.MOPS.getFakeMessagesChecked=function(e){var t=Object(S.getMailboxUid)(),n=ns.Model.get("messages-checked",{mid:"mops-fake-checked"});return(e=Array.isArray(e)?e:[e]).forEach(function(e){var r=ns.Model.get("message",{ids:e,mailboxUid:t});n.check(r,!0)}),n},Daria.MOPS.doActionWithMessages=function(e,t,n,r){var i=Daria.MOPS.getFakeMessagesChecked(e),o=function(){i.destroy()};Daria.MOPS[t](i,n,r).then(o,o)},Daria.MOPS._pinHelper=function(e,t,n){var r=Object(S.getMailboxUid)(),i=t?"pin":"unpin",o=ns.Model.get("labels",{mailboxUid:r}).getPinnedLabel().lid,a="pin"===i?"label":"unlabel";if(!t||n||!Daria.MOPS.shouldShowConfirmation(i,e.getCount()))return t?Object(v.showSuccessMessage)(h.StatuslineName.MessagesPinned,i18n("%Pinned___",e.getCount())):Object(v.showSuccessMessage)(h.StatuslineName.MessagesUnpinned,i18n("%Pinned___",e.getCount())),T(a,e,{lid:o,originalAction:i}),Daria.MOPS.updateModelsAfterPin(e,t);ns.Model.get("mops-confirmation").setMops({action:i,count:e.getCount(),callback:function(){return Daria.MOPS.pin(e,t,!0)}})},Daria.MOPS._getReplacementTreeAfterPin=function(e,t){var n=ns.Model.get("settings").isThreaded(),r=e.getData(),i={},o=Object(S.getMailboxUid)();return r.forEach(function(e){var r=ns.Model.get("message",{ids:e,mailboxUid:o});if(r.isIntoThread()&&!r.isThread()&&n){var a=ns.Model.get("message",{ids:r.getThreadId(),mailboxUid:o}),s=ns.Model.get("messages",{thread_id:r.getThreadId(),mailboxUid:o}).getPinned();t||0===s.length?(i[a.get(".mid")]=a,delete i[r.get(".mid")]):!t&&s>0&&delete i[r.get(".mid")]}else i[r.get(".mid")]=r}),i},Daria.MOPS._undoFailedAction=function(e,t){var n=Object(S.getMailboxUid)();!_.includes(["mark","unmark"],e)||(t.getSavedMids().map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:n})}).forEach(function(t){"mark"===e&&t.unmark(),"unmark"===e&&t.mark()}),t.getSavedTids().forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:n}).set(".new",t.getSavedUnreadCounter(e))}))},Daria.MOPS._hasModelRequestFailed=function(e,t){return Boolean(_.find(e.invalid,function(e){return e.id===t}))},Daria.MOPS.updateModelsAfterPin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Daria.MOPS._getReplacementTreeAfterPin(e,t),i=Object(S.getMailboxUid)(),o=Object.keys(r).map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:i})});return ns.Model.traverse("messages",function(e){"yes"===e.params.with_pins&&e.recalculateIndexesAfterPin(o,t)}),n||P(t?"pin":"unpin",e),Vow.fulfill()},Daria.MOPS.shouldShowConfirmation=function(e,t){var n=ns.page.current.params,r=Object(S.getMailboxUid)(),i=n.current_folder?ns.Model.get("folder",{fid:n.current_folder,mailboxUid:r}).get(".symbol"):"";return!(u.ClearEnabledFolders.indexOf(i)>=0)&&("pin"===e&&t>=Daria.Constants.MAX_MESSAGES_TO_PIN||["tospam","delete"].indexOf(e)>=0&&t>=Daria.Constants.MAX_MESSAGES_TO_REMOVE_OR_SPAM)},Daria.MOPS._getSourceFoldersLogParams=function(e){var t=e.ids,n=e.tids,r={},i={},o=Object(S.getMailboxUid)();[].concat(M(t),M(n)).forEach(function(e){var t=ns.Model.get("message",{ids:e,mailboxUid:o});t.isInTab()?i[t.getTabId()]=!0:r[t.getFolderId()]=!0});var s=Object.keys(r).map(function(e){return{kind:"folder",source_id:e,source_type:Object(a.c)(e)}}),l=Object.keys(i).map(function(e){return{kind:"tab",source_id:e,source_type:e}});return[].concat(M(s),M(l))},Daria.MOPS._logMops=function(e,t,n,r){var i=r.ids,o=void 0===i?[]:i,s=r.tids,l=void 0===s?[]:s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(o.length||l.length){var u=c.tab||c.tabId,d=Object.assign({helper:e,action:t,actionStage:n,ids:o.join(","),tids:l.join(","),time:Date.now(),kind:"folder",target_type:Object(a.c)(c.current_folder),target_id:c.current_folder,page:Daria.MOPS._getPageParam()},_.pick(c,"originalAction","fid","folder","toolbar","noResetChecked"));Daria.areFoldersTabsEnabled()&&u?(d.kind="tab",d.target_type=u,d.target_id=u):(d.kind="folder",d.target_type=Object(a.c)(c.current_folder),d.target_id=c.current_folder),"start"===n&&(d.sources=Daria.MOPS._getSourceFoldersLogParams({ids:o,tids:l})),Daria.monitoring.journal("MOPS",d),Daria.DEBUG&&console.log("[MOPS]",d)}},Daria.MOPS._getPageParam=function(){return Daria.isPriorityTab()?"priority_tab":Daria.isAttachmentsTab()?"attachments_tab":Daria.isSearchPage()?"search":Daria.isMessagePage()?"message":Daria.isThreadPage()?"thread":Daria.isFoldersTabPage()?"tab":Daria.isMessagesListPage()?"folder":"unknown"},Daria.MOPS.registerOperationFail=function(e,t,n,r){!_.find(n.invalid,function(e){return e.id===r})||Daria.MOPS._failNotificationManager.registerOperationFail(e,t)},Daria.MOPS._checkDoMessagesParams=function(e){return!(_.isEmpty(e.ids)&&_.isEmpty(e.tids)&&!Boolean(e.fid)&&!Boolean(e.tabId||Boolean(e.tab)))||(Jane.ErrorLog.log({message:"do-messages: not enough params for request",source:b.ErrorSource.Logic,sourceMethod:b.ErrorSourceMethod.Mops,block:b.ErrorBlock.Mops,method:"_checkDoMessagesParams",type:b.ErrorType.Component,requestParams:JSON.stringify(e)}),!1)},Daria.MOPS._adjustTabsUnreads=function(e,t){var n=ns.Model.get("tabs",{mailboxUid:t}).adjustUnreadCounters(e);ns.Model.get("folders",{mailboxUid:t}).adjustUnreadCounters({1:n})}}()},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(3769),o=n(358).showErrorMessage,a=n(359).StatuslineName,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fails,r=t.messages,o=t.notifications,a=t.time;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._threshold={fails:n||5,messages:r||5,notifications:o||1,time:a||6e4},this._failOperationsQueue=new i(this._threshold.fails,this._threshold.time),this._resetNotificationShow()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"_resetNotificationShow",value:function(){this._notificationShowCount=0,clearTimeout(this._resetNotificationTimer),this._resetNotificationTimer=null}},{key:"_registerOperationFail",value:function(){this._failOperationsQueue.registerEvent()}},{key:"_shouldShowNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,n=void 0===t?0:t,r=e.fid,i=e.tabId,o=this._failOperationsQueue.hasMaxEventsForTimeInterval(),a=this._notificationShowCount,s=this._threshold,l=s.notifications,c=s.messages;return(o||n>=c||!n&&(void 0!==r||void 0!==i))&&a<l}},{key:"_setNotificationShow",value:function(){var e=this;this._notificationShowCount+=1,this._resetNotificationTimer||(this._resetNotificationTimer=setTimeout(function(){return e._resetNotificationShow()},this._threshold.time))}},{key:"_logNotificationShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.count,r=void 0===n?"unknown":n,i=t.fid,o=t.tabId,a={type:"mops_fail_notification_show",action:e};void 0===i?a.msgsCount=r:(o&&(a.tabId=o),a.fid=i),Jane.ErrorLog.send(a)}},{key:"registerOperationFail",value:function(e,t){this._registerOperationFail(),this._shouldShowNotification(t)&&this.showNotification(e,t)}},{key:"showNotification",value:function(e,t){o(a.ModificationOperationsError,i18n("%mops_fail_notification")),this._setNotificationShow(),this._logNotificationShow(e,t)}}]),e}();s.EventsTimeQueue=i,e.exports=s},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events=[],this._time=n,this._capacity=t}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"hasMaxEventsForTimeInterval",value:function(){if(this._events.length<this._capacity)return!1;var e=Date.now(),t=this._events.length-this._capacity;return Math.abs(e-this._events[t])<=this._time}},{key:"registerEvent",value:function(){this._events.push(Date.now());var e=this._events.length;e>2*this._capacity&&(this._events=this._events.slice(e-this._capacity))}}]),e}();e.exports=i},function(e,t,n){"use strict";t.a=function(e,t,n,a){var s={};switch(e){case"notspam":a.isTaskAsync?(s.name=r.StatuslineName.MessagesNotSpamAsync,s.text=o[e].async.messages()):(s.name=r.StatuslineName.MessagesNotSpam,s.count=n);break;case"tospam":case"delete":a.isTaskAsync?s.text=o[e].async.messages():s.text=o[e].sync.messages(n),s.name=r.StatuslineName.MessagesRemoved;break;case"delete-from-trash":s.text=o[e].async.messages(),s.name=r.StatuslineName.MessagesDeleteFromTrash;break;case"label":case"unlabel":if(!a.isTaskAsync)return;"pin"!==a.originalAction&&"unpin"!==a.originalAction||Object(i.hideStatusline)("pin"===a.originalAction?r.StatuslineName.MessagesPinned:r.StatuslineName.MessagesUnpinned),s.text=o[e].async.messages(),s.name="label"===e?r.StatuslineName.MessagesLabel:r.StatuslineName.MessagesUnlabel;break;case"move":var l=_.escape(ns.Model.get("message",{ids:t.ids.length?t.ids[0]:t.tids[0]}).getSubject());s.name=r.StatuslineName.MessagesMoved,"archive"===a.originalAction&&(s.name=r.StatuslineName.MessagesMovedArchive,e="archive"),s.text=1===n?o[e].sync.message(l):a.isTaskAsync?o[e].async.messages():o[e].sync.messages(n)}Object(i.showStatuslineComponent)(s)};var r=n(359),i=(n.n(r),n(358)),o=(n.n(i),{move:{sync:{message:function(e){return i18n("%Message_Move_Msg_One",e)},messages:function(e){return i18n("%Message_Move_Msg",e)}},async:{messages:function(){return i18n("%Message_Move_Msg_async")}}},archive:{sync:{message:function(e){return i18n("%Message_MoveArchive_Msg_One",e)},messages:function(e){return i18n("%Message_MoveArchive_Msg",e)}},async:{messages:function(){return i18n("%Message_MoveArchive_Msg_async")}}},tospam:{sync:{messages:function(e){return i18n("%Message_To_Spam_Msg",e)}},async:{messages:function(){return i18n("%Message_To_Spam_Msg_async")}}},notspam:{async:{messages:function(){return i18n("%Message_Not_Spam_Msg_async")}}},label:{async:{messages:function(){return i18n("%Message_Label_Msg_async")}}},unlabel:{async:{messages:function(){return i18n("%Message_Unlabel_Msg_async")}}},"delete-from-trash":{async:{messages:function(){return i18n("%Message_Delete_From_Trash_Msg_async")}}},delete:{sync:{messages:function(e){return i18n("%Message_Delete_Msg",e)}},async:{messages:function(){return i18n("%Message_Delete_Msg_async")}}}})},function(e,t,n){"use strict";var r=n(136),i=n.n(r),o=n(550),a=n(350),s=n(349),l=(n.n(s),n(359)),c=(n.n(l),n(358));n.n(c);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)})}}var p="last_remove_subscription";function g(){return(g=f(regeneratorRuntime.mark(function e(t,n){var r,u,d,f,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(a.isCorp)()&&"delete"===t&&!Object(s.hasFeature)(s.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=2;break}return e.abrupt("return");case 2:if(r=(r=ns.Model.get("settings").getSign(p))&&Number(r),!((u=r&&Daria.now()-r)&&u<14*Jane.Date.DAY)){e.next=7;break}return e.abrupt("return");case 7:if(n.some(function(e){return e.isNew()})){e.next=10;break}return e.abrupt("return");case 10:if(!n.some(function(e){return!e.isSubscriptionMessage()})){e.next=13;break}return e.abrupt("return");case 13:if(d=n.map(function(e){return e.getSubscriptionData()}),1===i.a.unique(d.map(function(e){return JSON.stringify(e)})).length){e.next=17;break}return e.abrupt("return");case 17:return f=d[0],e.next=20,h();case 20:if(g=e.sent){e.next=23;break}return e.abrupt("return");case 23:if(!g.hasSubscription(f.email)){e.next=25;break}return e.abrupt("return");case 25:Object(c.showStatuslineComponent)({name:l.StatuslineName.DeleteOrUnsubscribeOld,email:f.email,onAction:function(){return Object(o.h)([f])},onCancel:m,onClose:m});case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.a=function(e,t){return g.apply(this,arguments)};var m=function(){ns.Model.get("settings").setSettings(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},p,Daria.now()))};function h(){return v.apply(this,arguments)}function v(){return(v=f(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return t=e.sent,n=u(t,1),r=n[0],e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(815),i=n(600);n.n(i);function o(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var a=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.d)(t);case 2:(n=e.sent)&&n.result===i.UnsubscribeResult.SUCCESS&&t.resetChecked();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(815);function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var o=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(r.d)(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";t.a=function(){return new Promise(function(e){Object(i.showStatuslineComponent)({name:r.StatuslineName.ConfirmNotSpam,onAction:function(){return e(!0)},onCancel:function(){return e(!1)},onClose:function(){return e(!1)}})})};var r=n(359),i=(n.n(r),n(358));n.n(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(137),i=(n.n(r),n(144)),o=(n.n(i),n(816)),a=n(584),s=(n.n(a),n(3776)),l=n(3777),c=n(346);function u(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var d=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t,n){var u,d,f,p,g,m,h,v,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=Object(c.getMailboxUid)(),!(d=Object(o.c)(t)).isReplyLaterFinished()){e.next=4;break}return e.abrupt("return",Object(l.a)(t,n));case 4:if(!d.isReplyLaterStarted()){e.next=6;break}return e.abrupt("return",Object(s.a)(t,n));case 6:if(f=d.getLastMid(),p=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),g=ns.Model.get("folders",{mailboxUid:u}),e.prev=9,m=Object(o.b)(f),h=g.getFolderBySymbol(r.WellKnownFolderSymbol.REPLY_LATER),v=[{id:"stickers",params:{type:i.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:u}}],Daria.areFoldersTabsEnabled()&&v.push({id:"tabs",params:{mailboxUid:u}}),ns.Model.get("labels").getLabelBySymbolicName(a.WellKnownLabels.REPLY_LATER_STARTED)||v.push({id:"labels",params:{mailboxUid:u}}),h){e.next=21;break}return e.next=18,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:f,date:p,ensureFolder:!0,mailboxUid:u}}].concat(v));case 18:ns.router.buildFoldersUrls(),e.next=23;break;case 21:return e.next=23,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:f,date:p,mailboxUid:u}}].concat(v));case 23:Object(o.i)(m),Object(o.f)(t,n),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(9),b="",e.t0&&e.t0.invalid&&(_=e.t0.invalid.find(function(e){return"do-reply-later-create"===e.id}))&&_.error.message&&(b=_.error.message),Object(o.e)(b);case 32:case"end":return e.stop()}},e,null,[[9,27]])}));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(144),i=(n.n(r),n(816)),o=n(71);function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,n){var a,s,l,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(o.a)(),s=Object(i.c)(t),l=s.getLastMidForReplyLater(),c=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),e.prev=4,u=Object(i.b)(l),d=[{id:"do-reply-later-update",params:{mid:l,date:c,mailboxUid:a}},{id:"stickers",params:{type:r.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:a}}],Daria.areFoldersTabsEnabled()&&d.push({id:"tabs",params:{mailboxUid:a}}),e.next=10,ns.forcedRequest(d);case 10:Object(i.i)(u),Object(i.f)(t,n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),Object(i.e)();case 17:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(144),i=(n.n(r),n(816)),o=n(346);function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,n){var a,s,l,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(i.c)(t),s=a.getLastMidForReplyLater(),l=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),c=Object(o.getMailboxUid)(),e.prev=4,u=Object(i.b)(s),d=[{id:"do-reply-later-reset",params:{mid:s,date:l,mailboxUid:c}},{id:"stickers",params:{type:r.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:c}}],Daria.areFoldersTabsEnabled()&&d.push({id:"tabs",params:{mailboxUid:c}}),e.next=10,ns.forcedRequest(d);case 10:Object(i.j)(t),Object(i.i)(u),Object(i.f)(t,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),Object(i.e)();case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(137),i=(n.n(r),n(144)),o=(n.n(i),n(816)),a=n(346);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var l=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(t){var n,s,l,c,u,d,f,p,g,m,h,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.c)(t),s=Object(a.getMailboxUid)(),l=n.getLastMidForReplyLater(),c=Object(o.d)(l),u=c.fid,d=c.tab,f=Object(o.b)(l),p={current_folder:ns.Model.get("folders",{mailboxUid:s}).getFidBySymbol(r.WellKnownFolderSymbol.INBOX)},g=[{id:"do-reply-later-remove",params:{mid:l,mailboxUid:s}},{id:"stickers",params:{type:i.StickerType.REPLY_LATER}},{id:"folders",params:{mailboxUid:s}}],Daria.areFoldersTabsEnabled()&&g.push({id:"tabs",params:{mailboxUid:s}}),m=n.isReplyLaterFinished(),e.prev=9,e.next=12,ns.forcedRequest(g);case 12:m?Object(o.j)(t):Object(o.a)(t),u!==f.current_folder&&Daria.MOPS.doActionInModelsByIds(t.getIds(),"doMove",{current_folder:u}),h=0===ns.Model.get("folder",{fid:f.current_folder,mailboxUid:s}).get(".count"),("message"===ns.page.current.page||h)&&(v=ns.router.generateUrl("messages",h?p:f),ns.page.go(v)),Object(o.h)(u,d),t.resetChecked(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),Object(o.g)();case 23:case"end":return e.stop()}},e,null,[[9,20]])}));return function(t){return e.apply(this,arguments)}}()},function(e,t){Daria.MOPS.Opinfo=function(){this._adjust={},this._tabsAdjust={},this._labelsUnreadAdjust={},this._mid=[],this._tid=[],this._modelsCount=0,this._savedMids=[],this._savedNewCounters={}},Daria.MOPS.Opinfo.prototype.addAdjust=function(e,t){this.hasAdjust()&&(this._adjust[e]=t)},Daria.MOPS.Opinfo.prototype.addTabsAdjust=function(e,t){this.hasTabsAdjust()&&(this._tabsAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addLabelsUnreadAdjust=function(e,t){this.hasLabelsUnreadAdjust()&&(this._labelsUnreadAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addMid=function(e){this._mid.push(e)},Daria.MOPS.Opinfo.prototype.saveMid=function(e){this._savedMids.push(e)},Daria.MOPS.Opinfo.prototype.getSavedMids=function(){return this._savedMids},Daria.MOPS.Opinfo.prototype.addTid=function(e){this._tid.push(e)},Daria.MOPS.Opinfo.prototype.checkFidAdjust=function(e,t){return!!this.hasAdjust()&&(this._adjust[t]===e||(this.resetAdjust(),!1))},Daria.MOPS.Opinfo.prototype.saveUnreadCounter=function(e,t){this._savedNewCounters[e]=t},Daria.MOPS.Opinfo.prototype.saveAffectedMids=function(){this._savedMids.concat(this._mid)},Daria.MOPS.Opinfo.prototype.getSavedUnreadCounter=function(e){return this._savedNewCounters[e]},Daria.MOPS.Opinfo.prototype.getSavedTids=function(){return Object.keys(this._savedNewCounters)},Daria.MOPS.Opinfo.prototype.checkTidAdjust=function(e,t){var n=Daria.areFoldersTabsEnabled()&&this.hasTabsAdjust(),r=this.hasAdjust();if(!r&&!n)return this._tid.push(t),!1;var i=0;if(r)for(var o in this._adjust)i+=this._adjust[o];if(n){var a=this.getTabsAdjust();i=Object.keys(a).reduce(function(e,t){return e+a[t]},i)}return i===e||(this.resetAdjust(),this.resetTabsAdjust(),this._tid.push(t),this._mid=[],!1)},Daria.MOPS.Opinfo.prototype.getAdjust=function(){return this._adjust},Daria.MOPS.Opinfo.prototype.getTabsAdjust=function(){return this._tabsAdjust},Daria.MOPS.Opinfo.prototype.getLabelsUnreadAdjust=function(){return this._labelsUnreadAdjust},Daria.MOPS.Opinfo.prototype.getIds=function(){return{ids:this._mid,tids:this._tid}},Daria.MOPS.Opinfo.prototype.getModelsCount=function(){return this._modelsCount},Daria.MOPS.Opinfo.prototype.hasAdjust=function(){return Boolean(this._adjust)},Daria.MOPS.Opinfo.prototype.hasTabsAdjust=function(){return Boolean(this._tabsAdjust)},Daria.MOPS.Opinfo.prototype.hasLabelsUnreadAdjust=function(){return Boolean(this._labelsUnreadAdjust)},Daria.MOPS.Opinfo.prototype.merge=function(e){if(this.hasAdjust())if(e.hasAdjust()){var t=e.getAdjust(),n=this.getAdjust();for(var r in t)r in n?n[r]+=t[r]:n[r]=t[r]}else this.resetAdjust();if(this.hasTabsAdjust())if(e.hasTabsAdjust()){var i=e.getTabsAdjust(),o=this.getTabsAdjust();for(var a in i)a in o?o[a]+=i[a]:o[a]=i[a]}else this.resetTabsAdjust();if(this.hasLabelsUnreadAdjust())if(e.hasLabelsUnreadAdjust())for(var s=e.getLabelsUnreadAdjust(),l=this.getLabelsUnreadAdjust(),c=0,u=Object.keys(s);c<u.length;c++){var d=u[c];d in l?l[d]+=s[d]:l[d]=s[d]}else this.resetLabelsUnreadAdjust();this._mid=this._mid.concat(e._mid),this._tid=this._tid.concat(e._tid),this._savedMids=this._savedMids.concat(e._savedMids),this._savedNewCounters=_.assign(this._savedNewCounters,e._savedNewCounters)},Daria.MOPS.Opinfo.prototype.resetAdjust=function(){this._adjust=null},Daria.MOPS.Opinfo.prototype.resetTabsAdjust=function(){this._tabsAdjust=null},Daria.MOPS.Opinfo.prototype.resetLabelsUnreadAdjust=function(){this._labelsUnreadAdjust=null},Daria.MOPS.Opinfo.prototype.setModelsCount=function(e){this._modelsCount=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);n.n(r);Daria.MOPS.onMove=function(e,t){var n=t.current_folder,i=ns.Model.get("folders"),o=ns.Model.get("filters");1!==t.count||i.isFolder(n,r.WellKnownFolderSymbol.TRASH)||0!==o.getForFolder(n).length||_.contains(["archive","infolder"],t.originalAction)||ns.action.run("message.filter-move.show",{mid:t.ids.ids[0]||t.ids.tids[0],fid:n})},ns.events.on("daria:MOPS:move",Daria.MOPS.onMove)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(400);n.n(i);Daria.hkMOPS={},Daria.hkMOPS.doAction=function(e,t,n){return Daria.MOPS.updateHelper(e,t,n)},Daria.hkMOPS.doUserDefinedAction=function(e,t){var n=ns.Model.get("messages-checked");if(n.getCount()>0)Daria.hkMOPS.doAction(e,n,t);else{var r,i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage())r=i.getFocus().params.ids;else"message"===ns.page.current.page&&(r=ns.page.current.params.ids);r&&Daria.MOPS.doActionWithMessages([r],e,t)}},Daria.hkMOPS.runReplyAction=function(e,t){t=_.extend({toolbar:!0},t);var n,r=ns.Model.get("messages-checked");if(r.getCount()>0)return t.mMessagesChecked=r,void ns.action.run(e,t);if("message"===ns.page.current.page&&(n=ns.page.current.params.ids))return t["message-id"]=n,void ns.action.run(e,t);var i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage())if("t"===(n=i.getFocus().params.ids)[0]){var o=Daria.MOPS.getFakeMessagesChecked([n]);t.mMessagesChecked=o,ns.action.run(e,t),o.destroy()}else t["message-id"]=n,ns.action.run(e,t)},Daria.hkMOPS.toggleImportance=function(){var e=ns.Model.get("messages-checked"),t=ns.Model.get("labels").getImportantLID();e.getCount()>0?Daria.MOPS.updateHelper("toggleLabel",e,{lid:t}):ns.page.go(ns.router.generateUrl("messages",{current_label:t}))},Daria.hkMOPS.mark=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)Daria.hkMOPS.doAction("mark",e);else{var t=ns.Model.get("focus");if(t.isCurrentFocusOnMessage()){var n=t.getFocus();Daria.MOPS.doActionWithMessages([n.params.ids],"mark")}}},Daria.hkMOPS.unmark=function(){var e=ns.Model.get("messages-checked");e.getCount()>0?Object(r.hasFeature)(i.Features.WEB_REACT_TOOLBAR)||Object(r.hasFeature)(i.Features.REACT_LAYOUT)||Daria.hkMOPS.doAction("unmark",e):"only_new"===ns.page.current.params.extra_cond?ns.events.trigger("daria:vMessages:recalculate"):ns.page.go("#unread")},Daria.hkMOPS.remove=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)Daria.hkMOPS.doAction("remove",e);else{var t=ns.Model.get("focus");t.isCurrentFocusOnMessage()&&Daria.MOPS.doActionWithMessages([t.getFocus().params.ids],"remove")}},Daria.hkMOPS.triggerToolbarEvent=function(e,t){var n=0,r=ns.Model.get("messages-checked");if(0===r.getCount()&&t){n=200;var i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage()){var o=i.getFocus().getModel("message");r.check(o,!0)}}setTimeout(function(){ns.events.trigger(e)},n)}},function(e,t){Daria.Printer={PRINT_URL:Daria.api.print},Daria.Printer.printMessage=function(e){var t=Daria.uid,n="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?mid=").concat(e,"&_uid=").concat(t);window.open(n,"_blank")},Daria.Printer.printThread=function(e){var t=Daria.uid,n="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?tid=").concat(e,"&_uid=").concat(t);window.open(n,"_blank")},Daria.Printer.printImage=function(e){var t=Daria.uid,n="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?mid=").concat(e.mid,"&hid=").concat(e.hid,"&_uid=").concat(t);e.mailboxUid&&(n+="&mailboxUid=".concat(e.mailboxUid)),window.open(n,"_blank")}},function(e,t){Daria.bubblingQuote=function(e){var t=(e=e.replace(/^<meta[^>]*>/,"")).match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);t&&(e=t[1]);var n,r=document.createElement("div");r.innerHTML=e;for(var i=r;i;){if(1!==i.childNodes.length||!Jane.DOM.isBlockquote(i.firstChild)){if(i===r)break;if(i.getElementsByTagName("blockquote").length)break;for((n=r.firstChild.cloneNode(!1)).removeAttribute("style");i.firstChild;)n.appendChild(i.firstChild);break}i=i.firstChild}return r=null,!!n&&n.outerHTML}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(701),i=n.n(r),o=n(137),a=(n.n(o),n(346));!function(){function e(e){var t=Object(a.getMailboxUid)(),n=ns.Model.get("folders",{mailboxUid:t}),r=ns.page.current.params.current_folder||e&&e.getFolderId();return n.isFolder(r,[o.WellKnownFolderSymbol.TRASH])}function t(){return ns.page.current.params.unread||Boolean(ns.page.current.params.current_label)||Boolean(ns.page.current.params.attachments)||Boolean(ns.page.current.params.search)}function n(e){return"yes"===e.params.search}Daria.messages={},Daria.messages.toCreateThread=function(e){return!e.isThread()&&(!e.isDraftLike()&&!Daria.Widgets.getWidgetName(e))},Daria.messages.clearCacheByFID=function(e){ns.Model.invalidate("messages",function(t){return t.params.current_folder===e})},Daria.messages.clearCacheBodyByThread=function(e){var t=Object(a.getMailboxUid)();$.makeArray(e).forEach(function(e){var n=ns.Model.get("messages",{thread_id:e,mailboxUid:t});n&&n.models.length&&n.models.forEach(function(e){ns.Model.get("message-body",{ids:e.get(".mid"),mailboxUid:t}).invalidate()})})},Daria.messages.clearCacheByLID=function(e){ns.Model.invalidate("messages",function(t){return t.params.current_label===e})},Daria.messages.clearSearchCache=function(){ns.Model.invalidate("messages",n)},Daria.messages.preload=function(e,t){},Daria.messages.everHadMessages=function(){var e=ns.Model.get("settings");if(e.getSetting("has_inbox_message"))return!0;var t=ns.Model.get("messages",ns.page.current.params);return!!t.isValid()&&(t.select('/.message[.type != "12" && .dlid != "yadisk"]').length?(e.setSettingOn("has_inbox_message"),!0):(Jane.c("          "),!1))},Daria.messages.whereToGoAfterMove=function(e,t,n){n=n||{};var r,i,s,l=Object(a.getMailboxUid)(),c=t?t.getIds():{ids:[],tids:[]},u=c.ids.length?c.ids[0]:c.tids[0],d=u&&ns.Model.get("message",{ids:u,mailboxUid:l}),f=ns.Model.get("folders",{mailboxUid:l}),p=Daria.messages.getDestFolderForCurrentMessage(d,e,n),g=Daria.messages.getPageAfterSettingForAction(e,n),m=g.pageAfterSetting,h=g.settingsAction,v=[],b={},y="";switch(m){case"current_list":var S=Daria.messages.calculateUrlForCurrentListSetting(d,n,h);y=S.where,v=S.requestModels,b=S.requestParams;break;case"next_message":var w=Daria.messages.calculateUrlForNextMessageSetting(d);y=w.where,r=w.whereFolderId,i=w.whereTabId,s=w.expandMessage;break;case"inbox":r=f.getFidBySymbol(o.WellKnownFolderSymbol.INBOX),i="relevant";break;case"deleted_list":r="tospam"===e||"notspam"===e?f.getFidBySymbol(o.WellKnownFolderSymbol.SPAM):f.getFidBySymbol(o.WellKnownFolderSymbol.TRASH);break;case"source_folder":r=d.getFolderId(),i=d.getTabId(),r||(r=f.getFidBySymbol(o.WellKnownFolderSymbol.INBOX));break;case"dest_folder":r=p.folderId,i=p.tabId}if(!y&&r){var O={current_folder:r};Daria.areFoldersTabsEnabled()&&i&&(O.tabId=i),v.push("messages"),_.extend(b,O),y=ns.router.generateUrl("messages",O)}var M={where:y,requestParams:b,requestModels:v};return s&&(M.expandMessage=s),M},Daria.messages.getDestFolderForCurrentMessage=function(e,t,n){var r,i,a;switch(t){case"move":case"infolder":r=n.fid||n.folder,i=n.tabId;break;case"archive":a=o.WellKnownFolderSymbol.ARCHIVE;break;case"delete":case"remove":a=o.WellKnownFolderSymbol.TRASH;break;case"tospam":a=o.WellKnownFolderSymbol.SPAM;break;case"notspam":a=o.WellKnownFolderSymbol.INBOX}var s=e?e.params.mailboxUid:null,l=ns.Model.get("folders",{mailboxUid:s});return!r&&a&&(r=l.getFidBySymbol(a)),Daria.is2pane()&&Daria.isMessagePage()&&_.contains(["unmark"],t)&&(r=e&&e.getFolderId()||l.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{folderId:r,tabId:i}},Daria.messages.getPageAfterSettingForAction=function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("settings"),i=ns.Model.get("folders",{mailboxUid:n}),s="move";if(_.includes(["remove","delete"],e)&&(s="delete"),Daria.is2pane()&&Daria.isMessagePage()){var l="move"===e&&t.fid&&i.getFolderById(t.fid).symbol===o.WellKnownFolderSymbol.ARCHIVE,c=_.contains(["move"],e)&&t.fid&&i.getFolderById(t.fid).symbol===o.WellKnownFolderSymbol.TRASH;(l||c)&&(s="delete")}var u=r.getSetting("page_after_".concat(s));("move"===s&&(u=""),"delete"===s&&(u="next_message"===u?"next_message":"current_list"),"compose"===ns.page.current.page&&"next_message"===u&&(u="source_folder"),Daria.is2pane()&&Daria.isMessagePage())&&(_.contains(["unmark"],e)&&(u="dest_folder"));return Daria.is3pane()&&(u="current_list"),{pageAfterSetting:u,settingsAction:s}},Daria.messages.calculateUrlForCurrentListSetting=function(e,t,n){return Daria.is3pane()?Daria.messages._calculateUrlForListSetting3Pane(e,t,n):Daria.messages._isOpenInMessageList()&&!Daria.isMessagePage()?Daria.messages._calculateUrlForInMessageListSetting2pane(e):Daria.messages._calculateUrlForListSetting2Pane(e,t,n)},Daria.messages._calculateUrlForListSetting3Pane=function(e,t,n){var r=Object(a.getMailboxUid)(),i=ns.Model.get("folders",{mailboxUid:r}),s=Object.assign({},ns.page.current.params);return t.ids&&(_.contains(t.ids.tids,s.thread_id)&&delete s.thread_id,_.contains(t.ids.ids,s.ids)&&delete s.ids),"delete"===n&&delete s.ids,s.search||s.unread||s.current_folder||s.current_label||s.attachments||(s.current_folder=i.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{where:ns.router.generateUrl("messages",s),requestModels:[],requestParams:{}}},Daria.messages._calculateUrlForListSetting2Pane=function(e,t,n){var r=Object(a.getMailboxUid)(),i="",s=[],l={},c=ns.Model.get("folders",{mailboxUid:r});if("move"===n)i=ns.page.currentUrl,s.push("message"),l.ids=e.getMessageThreadMid(),l.mailboxUid=r;else{var u=ns.page.history.getPrevious(),d=u&&ns.router(u);if(d&&"messages"===d.page){i=u;var f=ns.Model.info("messages").pNames,p=_.pick(d.params,function(e,t){return f.indexOf(t)>-1});_.extend(l,p),s.push("messages")}else{var g=e.getFolderId();g||(g=c.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),i=ns.router.generateUrl("messages",{current_folder:g})}}return{where:i,requestModels:s,requestParams:l}},Daria.messages._calculateUrlForInMessageListSetting2pane=function(e){var t=Object(a.getMailboxUid)(),n=ns.Model.get("folders",{mailboxUid:t}),r="";if(Daria.messages._shouldStayInCurrentThread(e))r=ns.page.currentUrl;else{var i=Object.assign({},ns.page.current.params);if(e.getMessageThreadMid()===i.ids&&delete i.ids,e.getThreadId()===i.thread_id&&delete i.thread_id,!(i.search||i.unread||i.current_folder||i.current_label)){var s=e.getFolderId();s||(s=n.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),i.current_folder=s}r=ns.router.generateUrl("messages",i)}return{where:r,requestModels:[],requestParams:{}}},Daria.messages._shouldStayInCurrentThread=function(e){var t=Object(a.getMailboxUid)(),n=ns.Model.get("settings").isThreaded(),r=e.isThread();return!(!Daria.messages._isOpenInMessageList()||!n||r)&&ns.Model.get("messages",{thread_id:e.getThreadId(),mailboxUid:t}).models.length>1},Daria.messages.calculateUrlForNextMessageSetting=function(n){var r,s,l,c=Object(a.getMailboxUid)(),u=ns.Model.get("settings"),d=n.getThreadId(),f=Daria.messages._isOpenInMessageList(),p="",g=e(n)||t(),m=u.isThreaded(),h=Daria.messages.findNearestMessage(n,i.a.NEXT);if(h){var v=h.getThreadId()===d;f&&m&&!g&&v?(r=h.getMessageThreadMid(),p=Daria.Page.generateUrl.contentMessage({tid:d,mid:d})):p=!f&&h.isThread()?Daria.Page.generateUrl.contentMessage({tid:h.getThreadId(),mid:h.getData().last_mid}):Daria.Page.generateUrl.contentMessage(h.getData())}if(!p){var b=ns.page.current.params.current_folder||n.getFolderId();if(!b)b=ns.Model.get("folders",{mailboxUid:c}).getFidBySymbol(o.WellKnownFolderSymbol.INBOX);s=b,l=ns.page.current.params.tabId||n.getTabId()}return{where:p,whereFolderId:s,whereTabId:l,expandMessage:r}},Daria.messages._isOpenInMessageList=function(){return ns.Model.get("settings").isSet("open-message-list")},Daria.messages.findNearestMessage=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.NEXT,o=Object(a.getMailboxUid)(),s=n.getMessageThreadMid(),l=n.getThreadId(),c=e(n)||t(),u=n.isThread(),d=ns.Model.get("settings").isThreaded(),f=null;if(d&&!c&&!u){var p=ns.Model.get("messages",{thread_id:l,mailboxUid:o}),g=p.getCountThreadMessageInFolder()>1||n.get(".fid")!==ns.page.current.params.current_folder;if((f=p.getNearestMessageByMid(s,r))&&g)return f}var m=Object.assign({},ns.page.current.params);m.ids===s&&delete m.ids,m.thread_id===l&&delete m.thread_id,Daria.isMessagePage()&&(m.current_folder=m.current_folder||n.getFolderId(),d&&!c&&(m.threaded="yes"),Daria.areFoldersTabsEnabled()&&!m.tabId&&(m.tabId=n.getTabId()));var h=ns.Model.get("messages",m);return f=d&&!c?h.getNearestMessageByMid(l,r):h.getNearestMessageByMid(s,r)},Daria.messages.doActionInThreads=function(e,t,n){for(var r=Object(a.getMailboxUid)(),i=0,o=t.length;i<o;i++)for(var s=t[i],l=ns.Model.get("messages",{thread_id:s,mailboxUid:r}),c=0,u=l.models.length;c<u;c++)l.models[c][e](n)},Daria.messages._pinsBadFolders=o.PinDisabledExtendedFolders,Daria.messages.checkUsePinsByParams=function(e){if("search"===e.search)return!1;if(e.current_label)return!1;if(e.extra_cond)return!1;if("rpopinfo"===e.scope)return!1;if(e.thread_id&&!e.current_folder)return!1;if(e.current_folder&&ns.Model.isDefined("folders")){var t=Object(a.getMailboxUid)();if(ns.Model.get("folders",{mailboxUid:t}).isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.canShowPinControlsByParams=function(e){if((e=e||ns.page.current.params).current_folder){var t=Object(a.getMailboxUid)();if(ns.Model.get("folders",{mailboxUid:t}).isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.createMessagesItemLayout=function(e){var t="layout-messages-item";return(e=e||{}).threadFull?t+="-thread-full":e.threadInner&&(t+="-thread-inner"),e.widget&&(t+="-"+e.widget),t}}()},function(e,t){Daria.messages.params4SimplePath=function(e){var t={current_folder:null,"hide-firstline":null,threaded:null,ids:null,thread_id:null};for(var n in e)if("_"!==n.charAt(0)&&!(n in t))return!1;return"current_folder"in e},Daria.messages.folder4MessagePage=function(e,t){return"message"!==e?null:ns.Model.get("message",t).get(".fid")},Daria.messages.params4SimpleLabel=function(e){var t={current_label:null,important:null};for(var n in Daria.is3pane()&&(t.ids=null,t.thread_id=null),e)if("_"!==n.charAt(0)&&!(n in t))return!1;return"current_label"in e}},function(e,t){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Daria.nsTreeWalker={},Daria.nsTreeWalker.findView=function(e,t){var n=e.info.isBox,r=null;r=n?e.active:e.views;var i=t[0];for(var o in r)if(_.isString(i)&&o===i||_.isRegExp(i)&&i.test(o)){var a;if(n){var s=r[o];a=e.views[s]}else a=r[o];var l=t.slice(1);return l.length?Daria.nsTreeWalker.findView(a,l):a}return null},Daria.nsTreeWalker.getViewsChildren=function(e){var t=[];return e.forEachValidItem(function(e){t.push(e)}),t},Daria.nsTreeWalker.getTreeForFocus=function(){var e=["left-box"];return[Daria.nsTreeWalker._buildColumnTree([["react-left-column"]].map(function(t){return[].concat(e,n(t))})),Daria.nsTreeWalker._buildColumnTree([["messages-list","messages-list-box","messages-wrap","messages"],["message-react"]].map(function(e){return["right-box"].concat(n(e))})),Daria.nsTreeWalker._buildColumnTree([["messages-box","message-thread","message-thread-pager"],["messages-box","message-thread","message-thread-list"],["messages-box","message-thread-react"],["messages-box","message-react"]].map(function(e){return["right-box"].concat(n(e))}))]},Daria.nsTreeWalker._buildColumnTree=function(e){var t=e.map(Daria.nsTreeWalker._findViewByPath).map(Daria.nsTreeWalker._getViewFocusableChildren);return _.flatten(t)},Daria.nsTreeWalker._findViewByPath=function(e){return Daria.nsTreeWalker.findView(ns.MAIN_VIEW,e)},Daria.nsTreeWalker._getViewFocusableChildren=function(e){return e?(ns.assert(e.getFocusableChildren,"View: "+e.id,"   #getFocusableChildren()"),e.getFocusableChildren()):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405),i=n(370),o=n(538);!function(){var e=/^[a-z]{2}$/,t={};Daria.Translate={MAX_BLOCK_LEN:1e3,getCache:function(e){return t[e]},setCache:function(e,n){t[e]=n},clearCache:function(e){delete t[e]},langs:{ru:{s:["en","uk","tr","pl","de","fr","es","it"],name:i18n("%")},uk:{s:["ru"],name:i18n("%")},en:{s:"RUS"===Daria.Config.product?["ru","tr"]:["tr","ru"],name:i18n("%")},tr:{s:"RUS"===Daria.Config.product?["ru","en"]:["en","ru"],name:i18n("%")},pl:{s:["ru"],name:i18n("%")},de:{s:["ru"],name:i18n("%")},fr:{s:["ru"],name:i18n("%")},es:{s:["ru"],name:i18n("%")},it:{s:["ru"],name:i18n("%")},all:{s:["ru","uk","en","tr","pl","de","fr","es","it"],name:""}},id2lang:{1:"ru",2:"en",3:"pl",5:"uk",6:"de",7:"fr",12:"es",13:"it",39:"fi",40:"et",44:"tr"},getDefaultLangTo:function(e){return Daria.Config.locale&&e!==Daria.Config.locale?Daria.Config.locale:_.get(this.langs,e+".s.0",Daria.Config.locale)},getLangByMid:function(t){var n=ns.Model.get("message-body",{ids:t}),r=_.get(n.getData(),"body.0.lang");if(r)return this.id2lang[r]?this.id2lang[r]:e.test(r)?r:void 0},defineLanguage:function(e){var t={uk:/[]/gi,ru:/[-]/gi,pl:/[]/gi,tr:/[]/gi,de:/[]/gi,es:/[]/gi,fr:/[]/gi};if(/^(\d|\s)*$/.test(e))return Daria.Config.locale;for(var n in t)if(t[n].test(e))return n;return"en"},translateElement:function(e,t,n){var a=n.cloneNode(!0);return new vow.Promise(function(n,s){Daria.Libs("PageTranslator",function(){var l=Object.assign(Daria.Config["page-translator"],{element:a}),c=new window.yt.PageTranslator(l);c.translate(e,t),c.on("error",function(){c.halt(),s(),r.a.hasActiveScenario(i.d)&&r.a.getActiveScenario(i.d).logError(o.f)}),c.on("complete",function(){c.halt(),n(a)})})})},translateText:function(e,t,n){var r=document.createElement("div");return r.innerText=n,this.translateElement(e,t,r).then(function(e){return e.innerText})},translateHtml:function(e,t,n){var r=document.createElement("div");return r.innerHTML=n,this.translateElement(e,t,r).then(function(e){return e.innerHTML})},translate:function(e,t,n){return n=Array.isArray(n)?n:[n],vow.all(n.map(function(n){switch(n.format){case"text":return this.translateText(e,t,n.value);case"element":return this.translateElement(e,t,n.value);case"html":return this.translateHtml(e,t,n.value);default:return vow.reject("no correct format for translate: ".concat(n.format))}}.bind(this)))}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3789),i=n(347);Daria.Shortcuts=function(e,t){var o={eventsBound:!1,altOS:0===navigator.platform.toLowerCase().indexOf("mac"),pageType:"",hotkeysEnabled:!1};o.shortcuts=Object(r.a)(o),n(3793),ns.events.on("toggleShortcuts",function(e,t){o.toggleHotkeys(t)}),ns.events.on("pageinit",function(){o.toggleHotkeys(ns.Model.get("settings").getSetting("enable_hotkeys")),ns.events.trigger("daria:hotkeys:inited")}),ns.events.on("ns-page-after-load",function(){var n=e.is3pane()&&e.isMessageOpenedInList();if(o.pageType!==ns.page.current.page||n!==o.isMessageOpenedIn3Pane){if(o.pageType=ns.page.current.page,o.isMessageOpenedIn3Pane=n,!o.eventsBound)return!1;o.hotkeysEnabled&&(t.Shortcuts.switchList(o.pageType),n&&t.Shortcuts.enableList("message"),t.Shortcuts.refresh(o.pageType))}}),o.toggleHotkeys=function(n){e.Shortcuts.hotkeysEnabled=o.hotkeysEnabled={on:!0,off:!1,true:!0,false:!1}[n],o.hotkeysEnabled?(o.eventsBound||(o.bindLists(o.pageType),o.isMessageOpenedIn3Pane&&t.Shortcuts.enableList("message")),t.Shortcuts.start()):t.Shortcuts.stop()},o.bindLists=function(e){for(var n=o.shortcuts.length-1;n>=0;n--)t.Shortcuts.loadList(o.shortcuts[n],o.altOS);t.Shortcuts.enableList(e),o.eventsBound=!0},o._getShortcutMask=function(e,t){for(var n=o.shortcuts.length-1;n>=0;n--)if(o.shortcuts[n].name===t){var r=o.shortcuts[n];if(r.shortcuts.hasOwnProperty(e))return o.altOS&&r.shortcuts[e].altMask?r.shortcuts[e].altMask:r.shortcuts[e].mask}return""},o.showShortcutsHelp=function(){return Object(i.getShortcutsBridge)().show()},o.switchTab=function(e){void 0===o.popupActiveTab&&(o.popupActiveTab=0),t(".b-shortcuts__list-id-"+o.popupActiveTab).addClass("g-hidden"),t(".b-shortcuts__list-id-"+e.params.tab).removeClass("g-hidden"),t(".b-shortcuts-list__item").removeClass("b-shortcuts-list__item_current"),t(e.event.currentTarget).addClass("b-shortcuts-list__item_current"),o.popupActiveTab=parseInt(e.params.tab,10)},o.getShortcutLabelFor=function(e,t,n){var r=o._getShortcutMask(e,t).replace(/Meta/g,"Cmd").replace(/\+/g," + ");return n?" ("+r+")":r},o.verticalAlignOpenMessage=function(t){var n,r=ns.page.current.params.thread_id||ns.page.current.params.ids,i="message"===ns.page.current.page;if(!r||i)return!1;var o=e.is2pane();n=o?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");var a={alignToTop:t.alignToTop,relative:n.isRelativeOffset()};return t.alignToTop?a.viewTopOffset=o?-n.FIXED_TOOLBAR_HEIGHT:-n.getScrollOffset():a.viewBottomOffset=o?-ns.Model.get("app-state").get(".timelineHeight"):0,ns.events.trigger("hotkeys.alignOpenMessage",{scroller:n,alignOptions:a}),!0};var a={showShortcutsHelp:o.showShortcutsHelp,switchTab:o.switchTab,hotkeysEnabled:o.hotkeysEnabled,getShortcutLabelFor:o.getShortcutLabelFor,verticalAlignOpenMessage:o.verticalAlignOpenMessage,freeze:function(){return t.Shortcuts.freeze()},unfreeze:function(){return t.Shortcuts.unfreeze()}};return window.ReactClientBridge&&window.ReactClientBridge.shortcutsPromise&&window.ReactClientBridge.shortcutsPromise.resolve(a),a}(Daria,jQuery)},function(e,t,n){"use strict";var r=n(3790),i=(n.n(r),n(347)),o=n(407),a=n(3791),s=n.n(a),l=n(349),c=(n.n(l),n(777));function u(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}t.a=function(e){var t=Object(i.getFocusBridge)(),n=Boolean(t);function a(){return n&&Boolean(t.activeGroup)}function u(){return Object(l.hasFeature)(l.Features.WEB_REACT_TOOLBAR)||Object(l.hasFeature)(l.Features.REACT_LAYOUT)}function f(){return n&&Object(l.hasFeature)(l.Features.REACT_LAYOUT)}function p(){var e=ns.Model.get("focus");return e.get(".columnIndex")===e.indexColumns.MESSAGES}function g(){return t.activeGroup===t.FocusGroup.RIGHT_COLUMN}for(var m,h=Object(l.hasFeature)(l.Features.WEB_REACT_MESSAGES_LIST),v=[{global:!0,name:r.ShortcutsGroup.Global,shortcuts:{Check_new_mail:{mask:"F9",altMask:"Shift+o",enableInInput:!e.altOS,action:"mailbox.check"},New_mail:{mask:"w, c",disableAt:["compose2"],handler:function(){Object(c.a)()&&(Daria.startScenarioForCompose(o.p),Daria.composeGo())}},Goto_inbox:{mask:"Ctrl+i",altMask:"Meta+i",type:"hold",enableInInput:!0,handler:function(){ns.Model.get("focus").goInbox()}},Find:{mask:"/,?",type:"hold",handler:function(){Daria.React.activateSearch()}},Hotkeys_help:{mask:"Shift+?,Shift+comma,Shift+7,7",type:"hold",handler:function(){e.showShortcutsHelp()}},Column_left:{mask:"Left",type:"hold",disableAt:["compose2"],handler:function(){var e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(ns.Model.get("focus").changeColumn(!1,{scroll:!n||g()}),!f()||!g()){e.next=9;break}return e.next=7,t.dropFocus();case 7:e.next=12;break;case 9:if(!f()||!p()){e.next=12;break}return e.next=12,t.focusGroup(t.FocusGroup.LEFT_COLUMN);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Column_right:{mask:"Right",type:"hold",disableAt:["compose2"],handler:function(){var e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(!f()||t.activeGroup!==t.FocusGroup.LEFT_COLUMN){e.next=7;break}return e.next=5,t.dropFocus();case 5:e.next=10;break;case 7:if(!(f()&&p()&&Daria.is3pv())){e.next=10;break}return e.next=10,t.focusGroup(t.FocusGroup.RIGHT_COLUMN);case 10:ns.Model.get("focus").changeColumn(!0);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Goto_previous:{mask:"Up",type:"hold",handler:function(){var e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(a()){e.next=5;break}return Daria.Focus.moveItem({toForward:!1}),e.abrupt("return");case 5:if(!h){e.next=7;break}return e.abrupt("return");case 7:if(t.isFocused){e.next=11;break}return e.next=10,t.focusGroup(t.activeGroup);case 10:return e.abrupt("return");case 11:return e.next=13,t.focusPrev();case 13:e.sent||Daria.Focus.moveItem({toForward:!1});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),enableInInput:!0,namedInput:"js-allow-shortcuts"},Goto_next:{mask:"Down",type:"hold",handler:function(){var e=d(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||Daria.isMessagePage()){e.next=2;break}return e.abrupt("return");case 2:if(a()){e.next=5;break}return Daria.Focus.moveItem({toForward:!0}),e.abrupt("return");case 5:if(!h){e.next=7;break}return e.abrupt("return");case 7:if(t.isFocused){e.next=11;break}return e.next=10,t.focusGroup(t.activeGroup);case 10:return e.abrupt("return");case 11:return e.next=13,t.focusNext();case 13:e.sent||Daria.Focus.moveItem({toForward:!0});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),enableInInput:!0,namedInput:"js-allow-shortcuts"},Print:{mask:"Shift+p",type:"hold",handler:function(){"message"===ns.page.current.page?ns.events.trigger("hotkeys.print"):ns.Model.get("focus").pubEvent("print")}},Set_mark:{mask:"Space",type:"down",handler:function(){if(!h){var e=ns.Model.get("focus"),n=!e.hasFocus()||"message"===e.getFocus().id;if(Daria.isMessagePage()&&n)return!0;if(!a())return e.pubEvent("space");t.handleKey(t.Keys.SPACE)}}},Collapse_folder:{type:"up",mask:"Enter",handler:function(){h||(a()?t.handleKey(t.Keys.ENTER):ns.Model.get("focus").pubEvent("enter"))},enableInInput:!0,namedInput:"js-allow-shortcuts"},AlignBottom_Open_Message:{mask:"Ctrl+down",altMask:"Meta+down",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!1})}},AlignTop_Open_Message:{mask:"Ctrl+up",altMask:"Meta+up",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!0})}}}},{name:r.ShortcutsGroup.Messages,shortcuts:{Labels_dialog:{mask:"Shift+l",handler:function(){h||u()||Daria.hkMOPS.triggerToolbarEvent("daria:vLabelsActions:open",!0)}},Folders_dialog:{mask:"Shift+m",handler:function(){h||u()||Daria.hkMOPS.triggerToolbarEvent("daria:vFoldersActions:open",!0)}},Label_important:{mask:"i",handler:function(){h||Daria.hkMOPS.toggleImportance()}},Label_read:{mask:"q",handler:function(){h||u()||Daria.hkMOPS.mark()}},Label_unread:{mask:"Shift+u",handler:function(){h||u()||Daria.hkMOPS.unmark()}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){h||u()||ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full",replyAll:!0})}},Select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){h||u()||ns.Model.get("messages-checked",ns.page.current.params).toggleSelectAll()}},Select_modifier:{mask:"Shift",handler:function(){h||ns.Model.get("focus").startKeyboardSelect()}},Select_previous:{mask:"Shift+Up",type:"hold",handler:function(){h||ns.Model.get("focus").changeItem(!1,!0)}},Select_next:{mask:"Shift+Down",type:"hold",handler:function(){h||ns.Model.get("focus").changeItem(!0,!0)}},Goto_first:{mask:"Home",handler:function(){h||ns.Model.get("focus").focusToFirstMessage()}},Select_till_first:{mask:"Shift+Home",handler:function(){h||ns.Model.get("focus").focusToFirstMessage(!0)}},Goto_end:{mask:"End",handler:function(){h||ns.Model.get("focus").focusToLastMessage()}},Select_till_last:{mask:"Shift+End",handler:function(){h||ns.Model.get("focus").focusToLastMessage(!0)}},Forward:{mask:"Shift+f",handler:function(){h||(u()||ns.Model.get("messages-checked").getCount()<=Daria.Constants.MAX_MESSAGES_TO_FORWARD&&Daria.hkMOPS.runReplyAction("forward"))}},Delete_selected:{mask:"Delete",altMask:"Meta+Backspace",type:"hold",handler:function(){h||u()||Daria.hkMOPS.remove()}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(e){if(!h){var t="true"===e.target.getAttribute("contenteditable"),n="TEXTAREA"===e.target.nodeName,r=e.target===document.activeElement;(t||n)&&r?document.activeElement.blur():ns.Model.get("messages-checked").getCount()>0?ns.events.trigger("daria:vMessages:deselect"):Daria.is2pane()&&ns.events.trigger("daria:vMessages:closeWithShortcut")}}},Reply_open_message:s.a.reply,Label_unread_open_message:s.a.unread,Label_spam_open_message:s.a.toSpam,Toolbar:{mask:"Shift+t",handler:function(){h||ns.events.trigger("daria:Toolbar:focus")}}}},{name:r.ShortcutsGroup.Message,shortcuts:{Goto_next:{mask:"n,k",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!0,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"next"})}},Goto_previous:{mask:"p,j",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!1,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"prev"})}},Delete:{mask:"Delete",altMask:"Meta+Backspace",handler:function(){if(!u()){var e=ns.page.current.params.ids;e&&Daria.MOPS.doActionWithMessages([e],"remove")}}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(e){var t="true"===e.target.getAttribute("contenteditable"),n="TEXTAREA"===e.target.nodeName,r=e.target===document.activeElement;(t||n)&&r&&document.activeElement.blur()}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){u()||ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full",replyAll:!0})}},Reply:s.a.reply,Forward:{mask:"Shift+f",handler:function(){u()||Daria.hkMOPS.runReplyAction("forward")}},Labels_dialog:{mask:"Shift+l",handler:function(){u()||Daria.hkMOPS.triggerToolbarEvent("daria:vLabelsActions:open")}},Folders_dialog:{mask:"Shift+m",handler:function(){u()||Daria.hkMOPS.triggerToolbarEvent("daria:vFoldersActions:open")}},Label_unread:s.a.unread,Label_spam:s.a.toSpam,Label_important:{mask:"Shift+i",handler:function(){Daria.hkMOPS.toggleImportance()}},Attachments_save:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",handler:function(){ns.events.trigger("daria:vAttachmentsWidgetBody:downloadAttachments")}},Toolbar:{mask:"Shift+t",handler:function(){ns.events.trigger("daria:Toolbar:focus")}}}},{name:r.ShortcutsGroup.Compose,shortcuts:{Save_draft:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:save")}},Send:{mask:"Ctrl+Enter",altMask:"Meta+Enter",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:send")}}}},{name:"compose-react",shortcuts:{}},{name:"datetimepicker",shortcuts:{}},{name:r.ShortcutsGroup.Empty,shortcuts:{}},{name:"disk-resources",shortcuts:{DiskResources_Attach:{mask:"Enter",handler:function(){ns.events.trigger("daria:diskResources:attach")}}}},{name:"context-menu",shortcuts:{Context_menu_cancel:{mask:"Esc",enableInInput:!0,handler:function(){Daria.ContextMenu.close()}}}},{name:"dialog",shortcuts:{Dialog_cancel:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Dialog.cancel()}}}},{name:"finder",shortcuts:{Finder_close:{mask:"Esc",handler:function(){ns.events.trigger("daria:vBrowseDisk:close")}}}},{name:"video-player",shortcuts:{Videoplayer_cancel:{mask:"Esc",handler:function(){Daria.VideoPlayer.close()}}}},{name:"image-viewer",shortcuts:{Image_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Layer.close()}},Image_viewer_next:{mask:"Right",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(1):e.next()}},Image_viewer_prev:{mask:"Left",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(-1):e.prev()}}}},{name:"attach-viewer",shortcuts:{Attach_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Layer.close()}},Attach_viewer_next:{mask:"Right",handler:function(){var e=Daria.AttachViewer;e.isGalleryOpen()?e.scrollGallery(1):e.next()}},Attach_viewer_prev:{mask:"Left",handler:function(){var e=Daria.AttachViewer;e.isGalleryOpen()?e.scrollGallery(-1):e.prev()}}}},{name:"subscriptions-popup",shortcuts:{Subscription_popup_close:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:unsubscribe-popup:hide")}}}},{name:"themes-selector",shortcuts:{Themes_selector_close:{mask:"Esc",enableInInput:!0,handler:function(e){"INPUT"===e.target.nodeName.toUpperCase()||ns.events.trigger("Daria:vThemesSelector:close")}}}},{name:"abook",shortcuts:{Abook_select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){ns.events.trigger("daria:vAbookHead.selectAll")}},Abook_deselect_all:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:vAbookHead.deselectAll")}}}},{name:"toolbar",shortcuts:{Previous_toolbar_button:{mask:"Left",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusPrev")}},Next_toolbar_button:{mask:"Right",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusNext")}},First_toolbar_button:{mask:"Home",handler:function(){ns.events.trigger("daria:Toolbar:focusFirst")}},Last_toolbar_button:{mask:"End",handler:function(){ns.events.trigger("daria:Toolbar:focusLast")}},Back_to_list:{mask:"Down",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusOut")}}}}],b={Archive:{mask:"a",handler:function(){Daria.userToolbar.isButtonActivated(Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE)&&Daria.hkMOPS.doUserDefinedAction("archive")}},Sendon:{mask:"Alt+f",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.SENDON;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.runReplyAction("sendon",t)}}},Infolder:{mask:"Alt+m",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.INFOLDER;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("infolder",t)}}},Defined_label:{mask:"Alt+l",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.LABEL;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("toggleLabel",t)}}},Defined_reply:{mask:"Alt+r",handler:function(){var e=ns.Model.get("folders").isIncoming(ns.page.current.params.current_folder),t=Daria.Constants.TOOLBAR_BUTTONS.TEMPLATE;if(e&&Daria.userToolbar.isButtonActivated(t)){var n=Daria.userToolbar.get(t).settings;Daria.hkMOPS.runReplyAction("reply-tmpl",n)}}}},_=v.length-1;_>=0;_--)"messages"!==(m=v[_]).name&&"message"!==m.name||$.extend(m.shortcuts,b);return v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutsNames=t.ShortcutsGroup=void 0,function(e){e.Global="global",e.Messages="messages",e.Message="message",e.Compose="compose2",e.Personal="personal",e.Empty="empty"}(t.ShortcutsGroup||(t.ShortcutsGroup={})),function(e){e.Archive="Archive",e.AttachmentsSave="Attachments_save",e.CheckNewMail="Check_new_mail",e.CloseCurrentThread="CloseCurrentThread",e.CollapseThreadMessage="CollapseThreadMessage",e.CreateTemplate="CreateTemplate",e.ColumnLeft="ColumnLeft",e.CustomFolder="CustomFolder",e.CustomLabel="CustomLabel",e.Delete="Delete",e.DeleteSelected="Delete_selected",e.FirstMessage="FirstMessage",e.FoldersDialog="Folders_dialog",e.Forward="Forward",e.GotoInbox="Goto_inbox",e.LabelImportant="Label_important",e.LabelRead="Label_read",e.LabelSpam="Label_spam",e.LabelUnread="Label_unread",e.LabelsDialog="Labels_dialog",e.LastMessage="LastMessage",e.MessagesList="MessagesList",e.NavigateToEntity="NavigateToEntity",e.NextMessage="NextMessage",e.OpenMessage="OpenMessage",e.OpenThreadMessage="OpenThreadMessage",e.PrevNextEntity="PrevNextEntity",e.PrevNextMessage="PrevNextMessage",e.Print="Print",e.PrevMessage="PrevMessage",e.Reply="Reply",e.ReplyAll="Reply_all",e.ReplyLater="ReplyLater",e.ReplyTemplate="ReplyTemplate",e.ResetSelection="Reset_selection",e.SaveDraft="Save_draft",e.SelectAll="Select_all",e.SelectNextMessage="SelectNextMessage",e.SelectPrevMessage="SelectPrevMessage",e.SelectToFirstMessage="SelectToFirstMessage",e.SelectToLastMessage="SelectToLastMessage",e.Send="Send",e.SendOn="SendOn",e.ScrollMessage="ScrollMessage",e.Thread="Thread",e.ToggleEntity="ToggleEntity",e.ToggleImportant="ToggleImportant",e.TogglePin="Toggle_pin",e.ToggleSelectedMessage="ToggleSelectedMessage",e.Toolbar="Toolbar",e.ToolbarOff="ToolbarOff",e.WriteNewMail="New_mail",e.Unsubscribe="Unsubscribe"}(t.ShortcutsNames||(t.ShortcutsNames={}))},function(e,t,n){"use strict";var r=n(3792),i=n(16).hasFeature,o=n(400).Features;function a(){return i(o.WEB_REACT_TOOLBAR)||i(o.REACT_LAYOUT)}var s=i(o.WEB_REACT_MESSAGES_LIST);e.exports={toSpam:{mask:"Shift+s",handler:function(){if(!s&&!a()){var e=r(ns.page.current.params);if(e.length){var t=e.filter(function(e){return!e.isSpam()});t.length?Daria.MOPS.doActionWithMessages(t.map(function(e){return e.get(".mid")}),"tospam"):Daria.MOPS.doActionWithMessages(e.map(function(e){return e.get(".mid")}),"notspam")}}}},unread:{mask:"Shift+u",handler:function(){if(!s&&!a()){var e=r(ns.page.current.params);e.length&&Daria.MOPS.doActionWithMessages(e.map(function(e){return e.get(".mid")}),"unmark")}}},reply:{mask:"Shift+e",handler:function(){s||a()||ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full"})}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.ids;if(t)return[ns.Model.get("message",{ids:t})];var n=e.thread_id;if(n){var r=ns.Model.get("messages",{thread_id:n}).models.filter(function(e){return ns.Model.get("state-message-thread-item",{ids:e.get(".mid")}).isOpen()}),i=ns.Model.get("message",{ids:n});return i.hasRealData()&&i.getThreadCount()===r.length?[i]:r.filter(function(e){return!e.isDraftLike()})}return[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);Daria.Focus={},Daria.Focus.VALUE_LAZY_SCROLL=100,Daria.Focus.getScroller=function(e){var t;switch(e="number"==typeof e?e:ns.Model.get("focus").getIndexCurrentColumn()){case 0:t=ns.Model.get("scroller-left");break;case 1:t="message"!==ns.page.current.page||Daria.is3pane()?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");break;case 2:t=ns.Model.get("scroller-message")}return t},Daria.Focus.scrollIntoView=function(e,t){if(!ns.Model.get("skin-saver-state").isPreviewMode()){var n=Daria.Focus.getScroller(t);n.clean();var i=n.getScrollOffset()+2,o=n.getScrollTop(),a=n.getNodeTop(e[0]),s=0;Object(r.hasFeature)(r.Features.REACT_LAYOUT)&&(s=document.getElementById("js-mail-layout-content-header").offsetHeight);var l=o-(a-i)+s;if(l>0)return Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeTop behind scrollnodeTop"),void n.setScrollTop(o-l);var c=e.height(),u=n.getHeight();if(!(c>u)){var d=a+c+i-(o+u);if(d>0)Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeBottom behind scrollBottom"),o+d>=a?(Daria.DEBUG&&console.log("[Focus.scrollIntoView]","collision, nodeTop behind scrollTop, scroll to nodeTop"),n.setScrollTop(a-i)):n.setScrollTop(o+d)}}},Daria.Focus.needLazyScroll=function(e,t){switch(e.id){case"message-thread-item-wrap":if(!e.getModel("state-message-thread-item").isOpen())return!1;break;case"message-thread":if(e.getModel("messages").getCount()>1)return!1;break;case"message":case"message-react":case"message-thread-react":break;default:return!1}var n=Daria.Focus.getScroller(),r=n.getNodeTop(e.node),i=r+e.$node.height(),o=n.getScrollTop(),a=o+n.getHeight();return t?i>a:r<o},Daria.Focus.lazyScroll=function(e){var t=Daria.Focus.getScroller(),n=t.getScrollTop();e?n+=Daria.Focus.VALUE_LAZY_SCROLL:n-=Daria.Focus.VALUE_LAZY_SCROLL,t.setScrollTop(n)},Daria.Focus.moveItem=function(e){var t=e.toForward,n=e.focusMessages,r=ns.Model.get("focus"),i=r.getIndexCurrentColumn();n?(r.setColumn(1),r.changeItem(t)):"message"===ns.page.current.page&&i!==r.indexColumns.LEFT?Daria.Focus.lazyScroll(t):r.changeItem(t)},Daria.Focus.clearFocus=function(){ns.Model.get("focus").clearFocus()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(1585)),o=n(71);Daria.Widgets={},Daria.Widgets.getWidgetName=function(e){return Daria.Widgets._commonChecks(e)?Daria.Widgets.shouldShowTicketWidget(e)?"ticket":Daria.Widgets.shouldShowTaksaWidgets(e)?"widget":Daria.Widgets.shouldShowEvents(e)?"events":"":""},Daria.Widgets._commonChecks=function(e){var t=Object(o.a)();return!ns.Model.get("folders",{mailboxUid:t}).spamOrTrash(e.getFolderId())},Daria.Widgets.shouldShowTicketWidget=function(e){if(!Daria.Widgets._shouldShowTaksaWidgets(e))return!1;var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets.isTicketWidget(t)},Daria.Widgets.isTicketWidget=function(e){return["avia","hotels","pkpass"].some(function(t){return t===e})},Daria.Widgets._shouldShowTaksaWidgets=function(e){var t=e.getMessagesListWidget();if(!t)return!1;var n=!Daria.is3pane(),r=Boolean(ns.Model.get("settings").getSign("show_widgets_decor")),i=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons"));if(!(n=n&&(r||i)))return!1;switch(_.get(t,"info.type")){case"onelink":return n&&!Daria.CompactMode.isCompactMessagesList();case"tracker":return n;default:return n&&!Daria.CompactMode.isCompactMessagesList()&&"ru"===Daria.Config.locale}},Daria.Widgets.shouldShowTaksaWidgets=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"!==t},Daria.Widgets.shouldShowTaksaCalendarWidget=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"===t},Daria.Widgets.shouldShowEvents=function(e){return!Daria.is3pane()&&!Daria.CompactMode.isCompactMessagesList()&&!ns.Model.get("settings").isSet("disable_events")&&e.isCalendarService()},Daria.Widgets.shouldShowAttachments=function(e,t){if(t=t||{},Daria.is2pane()&&e.hasAttachment()){var n="only_atta"===t.extra_cond||t.search&&"yes"===t.attaches,o=ns.Model.get("settings");if(Daria.CompactMode.isCompactMessagesList()&&!n)return!1;if(!o.isSet("disable_inboxattachs")||n){var a;if(a=Daria.isAttachmentsLineDesign()?r.AttachmentWidgetsExcludeFoldersLite:n||e.isIntoThread()?r.AttachmentWidgetsExcludeFoldersMedium:r.AttachmentWidgetsExcludeFoldersMax,e.inFolderBySymbol(a))return!1;if(n)return!0;if("yacal"===e.getSocialLabel())return!1;if(Daria.IS_CORP)return!0;var s=e.getSOLabels();return 0===_.intersection(s,i.a).length}}return!1},Daria.Widgets.shouldShowSubscriptions=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons"));return!Daria.IS_CORP&&t&&!Daria.CompactMode.isCompactMessagesList()&&e.isSubscriptionMessage()}},function(e,t){Daria.queueCommon={},Daria.queueCommon.CONNECTIONS_MAX=2,Daria.queueCommon.MODELS_MAX=5,Daria.queueCommon.TIMEOUT_BETWEEN_REQUESTS=0,Daria.queueCommon._queue=null,Daria.queueCommon._poolCnt=0,Daria.queueCommon.reset=function(){this._poolCnt=0,this._queue=[]},Daria.queueCommon.add=function(e){this._queue=this._queue.concat(e),this.run()},Daria.queueCommon.run=function(){if(!(this._poolCnt>=this.CONNECTIONS_MAX)){var e=this._queue.splice(0,this.MODELS_MAX);e.length&&(this.request(e).always(function(){this._poolCnt--,setTimeout(this.run.bind(this),this.TIMEOUT_BETWEEN_REQUESTS)}.bind(this)),this._poolCnt++,this.run())}},Daria.queueCommon.request=function(e){return ns.request(e)}},function(e,t){Daria.preloadQueue={},no.extend(Daria.preloadQueue,Daria.queueCommon),Daria.preloadQueue.CONNECTIONS_MAX=1,Daria.preloadQueue.MODELS_MAX=5,Daria.preloadQueue.TIMEOUT_BETWEEN_REQUESTS=500,Daria.preloadQueue.reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3798),i=(n.n(r),n(817)),o=(n.n(i),n(3799)),a=n(3800),s=n(3801),l=n(3802),c=n(3803);i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Mark,o.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Delete,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Delete,c.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Remove,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Remove,c.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.ToSpam,s.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.ToSpam,l.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0,function(e){e.Delete="delete",e.Mark="mark",e.Move="move",e.Pin="pin",e.Remove="remove",e.ToSpam="tospam",e.UnMark="unmark",e.UnPin="unpin"}(t.Action||(t.Action={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(359),i=(n.n(r),n(550)),o=n(349),a=(n.n(o),n(358));n.n(a);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}var c=function(){var e=l(regeneratorRuntime.mark(function e(){var t,n,r,a,s,l,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),r=0;r<t;r++)n[r]=c[r];if(Object(o.hasFeature)(o.Features.WEB_UNSUBSCRIBE_ON_MARK_READ)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(a=i.a.apply(void 0,n),(s=a.subscriptions)&&s.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:n});case 6:return e.next=8,Object(i.c)(s);case 8:if(e.sent.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:n});case 11:return e.next=13,u(s);case 13:return l=e.sent,e.abrupt("return",{cancelled:l,args:n});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=Object(i.g)(e).length;return new Promise(function(n){Object(a.showStatuslineComponent)({name:r.StatuslineName.MarkReadOrUnsubscribe,count:t,onClose:function(){return n(!0)},onAction:function(){var t=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.h)(e);case 2:n(!1);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){return n(!1)}})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(359),i=(n.n(r),n(550)),o=n(349),a=(n.n(o),n(358));n.n(a);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}var c=function(){var e=l(regeneratorRuntime.mark(function e(){var t,n,r,a,s,l,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),r=0;r<t;r++)n[r]=c[r];if(Object(o.hasFeature)(o.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(a=i.a.apply(void 0,n),(s=a.subscriptions)&&s.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:n});case 6:return e.next=8,Object(i.c)(s);case 8:if(e.sent.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:n});case 11:return e.next=13,u(s);case 13:return l=e.sent,e.abrupt("return",{cancelled:l,args:n});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(e){var t=Object(i.g)(e).length;return new Promise(function(n){Object(a.showStatuslineComponent)({name:r.StatuslineName.DeleteOrUnsubscribe,count:t,onClose:function(){return n(!0)},onAction:function(){var t=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.h)(e);case 2:n(!1);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),onCancel:function(){return n(!1)}})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(359),i=(n.n(r),n(550)),o=n(1586),a=n(358);n.n(a);function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}var c=function(){var e=l(regeneratorRuntime.mark(function e(){var t,n,r,o,a,s,l,c,d,f,p=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p.length,n=new Array(t),r=0;r<t;r++)n[r]=p[r];if(o=i.a.apply(void 0,n),a=o.subscriptions,s=o.messages,a&&a.length){e.next=4;break}return e.abrupt("return",{cancelled:!1,args:n});case 4:return l=s.map(function(e){return e.params.ids}),e.next=7,u(a,l);case 7:return c=e.sent,d=c.cancelled,(f=c.action)&&(n[0]=f),e.abrupt("return",{cancelled:d,args:n});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(e,t){var n=Object(i.g)(e).length,s=new o.a({name:"Check spam logger",type:"unsubscribe-on-spam"});return s.log({event:"show",ids:t}),new Promise(function(o){Object(a.showStatuslineComponent)({name:r.StatuslineName.SpamOrUnsubscribe,count:n,onClose:function(){return o({cancelled:!0})},onAction:function(){var n=l(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(i.h)(e);case 2:o({cancelled:!1,action:"delete"}),s.log({event:"action",ids:t});case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),onCancel:function(){o({cancelled:!1}),s.log({event:"cancel",ids:t})}})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(1525),i=n.n(r),o=n(1584),a=n(1586),s=n(359),l=(n.n(s),n(358));n.n(l);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var d=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t,n,r,a,s,l,u,d,p,g,m,h,v,b,_,y,S=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=S.length,n=new Array(t),r=0;r<t;r++)n[r]=S[r];if(!Daria.IS_CORP){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(a=n[0],s=n[1],l=n[2],u=Object(o.a)(a,s,l),d=i()(u.map(function(e){return e.getFromEmail()})),p=1!==d.length,g=u.some(function(e){return e.getToEmails().length>1}),!p&&!g){e.next=10;break}return e.abrupt("return",{cancelled:!1,args:n});case 10:if(m=c(d,1),h=m[0],u.some(function(e){return e.hasType(76)})){e.next=14;break}return e.abrupt("return",{cancelled:!1,args:n});case 14:return v=u.map(function(e){return e.params.ids}),e.next=17,f(h,v);case 17:return b=e.sent,_=b.cancelled,y=b.arg,n[0]=y,e.abrupt("return",{cancelled:_,args:n});case 22:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(e,t){var n=new a.a({name:"Check spam logger",type:"delete-on-spam"});return n.log({event:"show",ids:t}),new Promise(function(r){Object(l.showStatuslineComponent)({name:s.StatuslineName.SpamOrDelete,email:e,onClose:function(){return r({cancelled:!0})},onAction:function(){r({cancelled:!1,arg:"delete"}),n.log({event:"action",ids:t})},onCancel:function(){r({cancelled:!1,arg:"tospam"}),n.log({event:"cancel",ids:t})}})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];return Daria.MOPS.shouldShowConfirmation(r,i.getCount())?new Promise(function(e){ns.Model.get("mops-confirmation").setMops({action:r,count:i.getCount(),callback:function(){return e({cancelled:!1,args:t})},onCancel:function(){return e({cancelled:!0,args:t})}})}):{cancelled:!1,args:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(554),i=(n.n(r),n(347));Daria.MessagesSearch={},Daria.MessagesSearch.searchParamsStore=[],Daria.MessagesSearch.invalidateMessagesModel=function(e){for(var t=-1,n=0;n<Daria.MessagesSearch.searchParamsStore.length;n++)if(_.isEqual(Daria.MessagesSearch.searchParamsStore[n],e)){t=n;break}if(-1!==t)return ns.Model.invalidate("messages",function(t){for(var n=!0,r=Object.keys(e),i=0;i<r.length;i++)if(e[r[i]]!==t.params[r[i]]){n=!1;break}return t.isValid()&&n});Daria.MessagesSearch.searchParamsStore.unshift(e)},Daria.MessagesSearch.search=function(e,t){var n;Daria.React.generateSearchId(),t=t||{},e=_.clone(e),function(){var e={container_kind:"unknown",container_type:"",container_id:""},t=ns.page.current.params||{};if(Daria.isSearchPage())e.container_kind="search";else if(Daria.isPriorityTab())e.container_kind="tab",e.container_type=e.container_id="priority";else if(Daria.isAttachmentsTab())e.container_kind="tab",e.container_type=e.container_id="attachments";else if(Daria.isFoldersTabPage())e.container_kind="tab",e.container_type=e.container_id=t.tabId;else if("messages"===ns.page.current.page){var n=t.current_folder;e.container_kind="folder",e.container_id=n,e.container_type=ns.Model.get("folder",{fid:t.current_folder}).get(".symbol")||"user"}Daria.monitoring.journal("search",e)}(),Daria.MessagesSearch._resetSimplifiedParams(),ns.events.off("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams),""===e.request&&delete e.request,_.isEmpty(e)?(n=ns.page.HOME_HASH,Jane.watcher.set("search.is-empty-search",!0)):(e.search="search",n=ns.router.generateUrl("messages",e)),Daria.MessagesSearch.invalidateMessagesModel(e);var o,a=e&&e.request&&Object.keys(e).some(function(e){return r.AdvancedSearchParams.includes(e)}),s=Object(i.getSearchStoreBridge)();if(!Daria.isSearchWithoutAllResultsFallback()&&a){var l=ns.Model.get("messages",e);o=ns.request([l]).then(function(){return 0===l.get(".message").length?(n=ns.router.generateUrl("messages",{search:"search",request:e.request}),Daria.React.setSimplifiedParams(e),s.setSimplifiedParams(e)):s.setSimplifiedParams(null),ns.page.go(n).then(function(){Daria.React.wasSearchRequestSimplified()&&ns.events.once("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams)})})}else s.setSimplifiedParams(null),o=ns.page.go(n);o.then(this._onSuccess.bind(this,t,e),this._onError.bind(this,t)).always(function(){Daria.Autocompleter.getSearch().flushCache(),Jane.watcher.set("search.is-empty-search",!1)})},Daria.MessagesSearch._resetSimplifiedParams=function(){Daria.React.setSimplifiedParams(null)},Daria.MessagesSearch._onSuccess=function(e,t){if(e.onCorrecting){var n=ns.Model.get("messages",ns.page.current.params).getData(),r=jpath(n,".details.search-options.request")[0];r&&r.trim()!==(t.request||"").trim()&&e.onCorrecting(r)}e.onSuccess&&e.onSuccess()},Daria.MessagesSearch._onError=function(e){e.onError&&e.onError()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(584),i=(n.n(r),n(144));n.n(i);Daria.Xiva={};var o=Daria.Xiva.MAX_MESSAGES_IN_MODEL=100;function a(e,t,n,r){var i=n.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:r})});ns.Model.traverse("messages",function(n){n.params.current_label===t&&("label"===e?i.forEach(function(e){return n.insertMessageBySort(e)}):n.remove(i))})}Daria.Xiva.createThreadFromMessage=function(e,t,n,r){var i=_.cloneDeep(e.getData());i.count=n,i.mid=e.getThreadId(),i.last_mid=e.get(".mid"),i.new=r;var o=ns.Model.get("messages",{thread_id:i.mid,mailboxUid:e.params.mailboxUid});return o.isValid()&&(i.lid=_(o.models).map(function(e){return e.get(".lid")}).concat(i.lid).flatten().uniq().value()),t.setData(i)},Daria.Xiva.messageLabel=function(e){var t=e.owner_uid||null,n="mark mails"===e.operation?"label":"unlabel",s=ns.Model.get("labels",{mailboxUid:t}),l=!1,c=[];e.tids&&(c=_.uniq(JSON.parse(e.tids)).map(function(e){return"t"+e}));var u,d,f,p=[];if(e.mids&&(p=JSON.parse(e.mids)),"all_labels"in e){var g=JSON.parse(e.all_labels),m=new Daria.MOPS.Opinfo;return p.forEach(function(e,n){var r=ns.Model.get("message",{ids:e,mailboxUid:t});if(r.isValid()){var i=g[n],o=[];r.get(".lid").forEach(function(e){var t=i.indexOf(e);-1===t?o.push(e):i.splice(t,1)}),i.forEach(function(e){var t=r.label({lid:e});m.merge(t)}),o.forEach(function(e){var t=r.unlabel({lid:e});m.merge(t)})}}),m.hasAdjust()?(ns.Model.get("labels",{mailboxUid:t}).adjustCounters(m.getAdjust()),vow.resolve()):ns.forcedRequest([{id:"labels",params:{mailboxUid:t}}])}var h=[],v=s.getLabelBySymbolicName(r.WellKnownLabels.REPLY_LATER_STARTED),b=s.getLabelBySymbolicName(r.WellKnownLabels.REPLY_LATER_FINISHED),y=[v&&v.lid,b&&b.lid];if(e.t_lids&&(u=JSON.parse(e.t_lids)[0])&&!s.getLabelById(u)&&(l=!0),e.m_lids&&((f=JSON.parse(e.m_lids)).find(function(e){return y.includes(e)})&&h.push({id:"stickers",params:{type:i.StickerType.REPLY_LATER}}),(d=f[0])&&!s.getLabelById(d)&&(l=!0)),l&&h.push({id:"labels",params:{mailboxUid:t}}),d&&p.length)for(var S=p.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()});S.length>0;)h.unshift(ns.Model.get("messages",{filter_ids:S.splice(-o),mailboxUid:t}));return(h.length?ns.forcedRequest(h):vow.resolve()).then(function(){if(u&&c.length&&(Daria.MOPS.doActionInMessages(c,n,{lid:u,onlyAdd:!0}),a(n,u,c)),d&&p.length){var e=!1;f.forEach(function(r){var i=Daria.MOPS.doActionInMessages(p,n,{lid:r},t);a(n,r,p),l||(i.hasAdjust()?ns.Model.get("labels",{mailboxUid:t}).adjustCounters(i.getAdjust()):e=!0)});var r=s.getPinnedLabel();if(r&&f.includes(r.lid)&&p.forEach(function(e){if(ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()){var r=ns.Model.get("messages-checked",{mid:e,mailboxUid:t}).checkByMidInParams();Daria.MOPS.updateModelsAfterPin(r,"unlabel"===n?"unpin":"pin",!0)}}),e)return ns.forcedRequest([{id:"labels",params:{mailboxUid:t}}])}return vow.resolve()})},Daria.Xiva.moveMessageToFolder=function(e,t){return Daria.Xiva.messageMove({mids:JSON.stringify([e]),fid:t})},Daria.Xiva.messageMove=function(e){var t=e.owner_uid||null,n=e.fid,r=e.tabId,i=JSON.parse(e.mids);if("-1"===n){i.forEach(function(e){ns.Model.get("message",{ids:e,mailboxUid:t}).remove()});var a=[{id:"folders",params:{mailboxUid:t}},{id:"labels",params:{mailboxUid:t}}];return Daria.areFoldersTabsEnabled()&&a.push({id:"tabs",params:{mailboxUid:t}}),ns.forcedRequest(a)}var s=i.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:t}).isValid()}),l=[ns.Model.get("folders",{mailboxUid:t}),ns.Model.get("labels",{mailboxUid:t})];for(Daria.areFoldersTabsEnabled()&&l.push(ns.Model.get("tabs",{mailboxUid:t}));s.length>0;)l.unshift(ns.Model.get("messages",{filter_ids:s.splice(-o),mailboxUid:t}));return ns.forcedRequest(l).then(function(){var e={current_folder:n};r&&(e.tabId=r),Daria.MOPS.doActionInMessages(i,"doMove",e,t)})},Daria.Xiva.messageStatusChange=function(e){var t=e.status,n=e.owner_uid||null,r="";switch(t){case"New":r="unmark";break;case"PL":r="markForwarded";break;case"OQ":r="markAnswered";break;case"RO":r="mark";break;default:var i="0"===e.is_mixed_add||void 0===e.is_mixed_add,a="32"===e.is_mixed_del||void 0===e.is_mixed_del;return!t&&i&&a?vow.resolve():vow.reject("xiva message status change: unknown status: ".concat(t,",\n            is_mixed_add: ").concat(e.is_mixed_add,", is_mixed_del: ").concat(e.is_mixed_del))}var s=JSON.parse(e.mids);if("markForwarded"===r||"markAnswered"===r)return Daria.MOPS.doActionInMessages(s,r,{},n),vow.resolve();var l=s.filter(function(e){return!ns.Model.get("message",{ids:e,mailboxUid:n}).isValid()});Daria.MOPS.doActionInMessages(s,r,{},n);for(var c=[];l.length>0;)c.unshift(ns.Model.get("messages",{filter_ids:l.splice(-o),mailboxUid:n}));return ns.request(c).then(function(){var e="mark"===r?-1:1,t={},i={};s.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:n})}).forEach(function(n){var r=n.getFolderId(),o=t;Daria.areFoldersTabsEnabled()&&n.isInTab()&&(r=n.getTabId(),o=i),r in o?o[r]+=e:o[r]=e}),_.isEmpty(t)||ns.Model.get("folders",{mailboxUid:n}).adjustUnreadCounters(t),_.isEmpty(i)||ns.Model.get("tabs",{mailboxUid:n}).adjustUnreadCounters(i)})},Daria.Xiva.processUnsupported=function(e){switch(e.operation){case"delayed_message":case"reset fresh":case"sticker-create":case"sticker-remove":case"sticker-update":case"settings-update":case"delete mails":return vow.resolve();case"mark mails":case"unmark mails":return Daria.Xiva.messageLabel(e);case"move mails":return ns.events.trigger("xiva.mail.move",e),Daria.Xiva.messageMove(e);case"status change":return Daria.Xiva.messageStatusChange(e);case"transfer":return Daria.Xiva.handlers.transfer();case"update labels":return Daria.Xiva.handlers.updateThreadCounters(e)}return vow.reject("xiva unsupported: unknown operation ".concat(e.operation))},Daria.Xiva._getFoldersCounters=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.counters,n=void 0===t?[]:t,r=e.countersNew,i=void 0===r?[]:r,o={},a={},s=0;s<n.length;s+=2)o[n[s]]=n[s+1];for(var l=0;l<i.length;l+=2)a[i[l]]=i[l+1];return{countersHash:o,countersNewHash:a}},Daria.Xiva.updateFolderCounters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.owner_uid||null,r=Daria.Xiva._getFoldersCounters(t),i=r.countersHash,o=r.countersNewHash,a=ns.page.current.params.current_folder,s=e.getFolderId(),l=ns.Model.get("folder",{fid:s,mailboxUid:n}),c=l.updateCounts({count:i[s]||0,new:o[s]||0}),u=c&&c.new>0&&s!==a;u&&l.setRecent(),ns.events.trigger("updateMailboxCounters",{unread:c.new,fresh:u?1:0,mailboxUid:n})},Daria.Xiva.updateLabelsCounters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).owner_uid||null,n=ns.Model.get("labels",{mailboxUid:t}),r={},i=e.get(".lid");Array.isArray(i)&&i.forEach(function(e){r[e]=1}),n.adjustCounters(r)},Daria.Xiva.updateTabsCounters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).owner_uid||null,n=ns.Model.get("tabs",{mailboxUid:t}),r=e.getTabId(),i=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,1);n.adjustUnreadCounters(i);var o=0;if(r!==ns.page.current.params.tabId){if(!n.getTab(r))return;n.getTab(r).setRecent(),o=1}ns.events.trigger("updateMailboxCounters",{unread:1,fresh:o,mailboxUid:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3807),i=n(137),o=(n.n(i),n(3)),a=(n.n(o),n(1058)),s=n(346);Daria.Xiva.handlers={updateThreadCounters:r.a},Daria.Xiva.handlers.commonChecker=function(e){var t=parseInt(e.lcn,10),n=e.raw_data.owner_uid||null;return!!Daria.Xiva.handlers.processNewLcn(t,n)&&("insert"===e.operation||Daria.Config.connection_id!==e.session_key)},Daria.Xiva.wentOfflineTime=null,window.addEventListener("offline",function(){return Daria.Xiva.wentOfflineTime=Date.now()}),Daria.Xiva.handlers.processNewLcn=function(e,t){var n,r=Object(a.a)(t),i=Boolean(Daria.Xiva.wentOfflineTime);return Daria.Xiva.wentOfflineTime=null,i&&e!==r?n="xiva.lcn_changed_after_offline":r&&e-r>10&&(n="xiva.invalid_lcn"),n?(Jane.ErrorLog.log({type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.processNewLcn",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva,message:"Error processing new lcn",event:n,diff:e-r,newLcn:e,oldLcn:r}),Object(a.c)(e,t),Daria.invalidateMailHandlers(!1,n),!1):((!r||e>r)&&Object(a.c)(e,t),!0)},Daria.Xiva.handlers.insert=function(e){return Daria.Xiva.handlers.commonChecker(e)?(ns.events.trigger("xiva.mail.insert",e),Daria.Xiva.NewMsgQueue.process(e)):vow.reject("xiva: error insert new message")},Daria.Xiva.handlers.transfer=function(){return Daria.goHomePage(),vow.resolve()},Daria.Xiva.handlers.unsupported=function(e){if(!Daria.Xiva.handlers.commonChecker(e))return vow.reject("xiva: unsupported error");var t=Object(s.getMailboxUid)(),n=e.raw_data&&e.raw_data.owner_uid||null;if((!n||Object(s.isSharedMailboxesEnabled)())&&t===n){var r;Daria.gotNewMail=0,Daria.updateTitle(n),e.raw_data&&_.contains(["transfer","update labels"],e.raw_data.operation)?r=e.raw_data:e.raw_data&&_.contains(["move mails"],e.raw_data.operation)?(Daria.areFoldersTabsEnabled()&&e.message.fid===ns.Model.get("folders",{mailboxUid:n}).getFidBySymbol(i.WellKnownFolderSymbol.INBOX)&&(e.message.tabId=_.get(e,"raw_data.envelopes[0].tab"),e.message.tabId||Jane.ErrorLog.log({message:"No tab in xiva push",type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.unsupported",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva})),r=e.message):r=e.message;var a=Daria.Xiva.processUnsupported(r);return a.then(null,function(t){Jane.ErrorLog.log({type:o.ErrorType.Util,block:o.ErrorBlock.Xiva,method:"Daria.Xiva.handlers.unsupported",source:o.ErrorSource.Logic,sourceMethod:o.ErrorSourceMethod.Xiva,message:"Unhandled message",event:"xiva.mail.unsupported.unhandled",messageData:_.omit(e,["raw_data","message"])},t)}),a}}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.a=function(e){var t=e.tids,n=e.mailboxUid;if(!(t=(t||[]).filter(function(e){return e&&"null"!==e})).length)return vow.resolve();var i=_.intersection(function(){var e=[];return ns.Model.traverse("message",function(t){return e.push(t.getThreadId())}),e}(),function(e){return e.map(function(e){return"t"+e})}(t));return i.length?ns.forcedRequest("threads-info",{thread_ids:i.map(Daria.tid2mid).join(","),mailboxUid:n}).then(function(e){var t=r(e,1)[0].data;!function(e,t){ns.Model.traverse("message",function(n){if(n.isThread()){var r=n.getThreadId();if(_.contains(e,r)){var i=_.find(t,{tid:r});i&&n.setIfChanged(".new",i.new)}}})}(i,t)},_.noop):vow.resolve()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(3));n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t){t.Xiva.NewMsgQueue={},t.Xiva.NewMsgQueue.process=function(e){return t.Xiva.NewMsgQueue.processData(e).then(t.Xiva.NewMsgQueue.insertMessage)},t.Xiva.NewMsgQueue.processData=function(t){return new vow.Promise(function(n,r){var o=t.message,s=t.raw_data,l=o.mid,c=o.thread_id?"t"+o.thread_id:"",u=s.owner_uid||null,d=ns.Model.get("message",{ids:l,mailboxUid:u});if(d.isValid()&&ns.Model.get("messages",ns.page.current.params).getMessageByMid(l))return e.ErrorLog.send({ts:Date.now(),msg:JSON.stringify(_.omit(a({},t),["raw_data","message"])),reason:"skip known message",type:"xivaNewMsgEvent"}),void r("KNOWN_MESSAGE");var f=d;c&&ns.Model.get("settings").isThreaded()&&(ns.Model.get("message",{ids:c,mailboxUid:u}).hasRealData()||(f=ns.Model.get("messages",{thread_id:c,mailboxUid:u})));ns.forcedRequest([f]).then(function(){d.getData()?n({mMessage:d,rawData:s}):(e.ErrorLog.log({type:i.ErrorType.Util,block:i.ErrorBlock.Xiva,method:"Daria.Xiva.NewMsgQueue.processData",source:i.ErrorSource.Logic,sourceMethod:i.ErrorSourceMethod.Xiva,message:"Empty msg data after request thread",additional:{mid:l,tid:c}}),r("REQUEST_DATA_ERROR"))},function(){r("REQUEST_ERROR")})})},t.Xiva.NewMsgQueue.insertMessage=function(e){var n=e.mMessage,r=e.rawData;t.areFoldersTabsEnabled()&&n.isInTab()&&t.Xiva.updateTabsCounters(n,r),t.Xiva.updateFolderCounters(n,r),t.Xiva.updateLabelsCounters(n,r);var i=t.Xiva.NewMsgQueue.updateLists(n,r);return t.Xiva.NewMsgQueue.notify(n,i),t.Xiva.NewMsgQueue.clearMessagesCache(),t.updateTitle(r.owner_uid||null),vow.resolve()},t.Xiva.NewMsgQueue.clearMessagesCache=function(){t.messages.clearSearchCache(),ns.Model.invalidateAll(["message-nearest","message-thread-nearest"])},t.Xiva.NewMsgQueue.updateLists=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.owner_uid||null,o=[],s=e.getFolderId(),l={mailboxUid:i};if(e.inFolderBySymbol(r.ThreadsDisabledFolders))return o.push(t.Xiva.NewMsgQueue._updateList(a({current_folder:s},l),e)),o;var c=a({current_folder:s},l);t.areFoldersTabsEnabled()&&e.isInTab()&&(c.tabId=e.getTabId());var u=t.Xiva.NewMsgQueue.updateThreadModels(e,n);return o.push(t.Xiva.NewMsgQueue._updateList(Object.assign({threaded:"yes"},c),u.insert,u.replace)),o.push(t.Xiva.NewMsgQueue._updateList(c,e)),e.get(".lid").forEach(function(n){o.push(t.Xiva.NewMsgQueue._updateList(a({current_label:n},l),e))}),e.hasAttachment()&&o.push(t.Xiva.NewMsgQueue._updateList(a({goto:"all",extra_cond:"only_atta"},l),e)),e.isNew()&&o.push(t.Xiva.NewMsgQueue._updateList(Object.assign({extra_cond:"only_new"},c),e),t.Xiva.NewMsgQueue._updateList(a({goto:"all",extra_cond:"only_new",unread:"unread"},l),e)),o},t.Xiva.NewMsgQueue.updateThreadModels=function(n,r){var o=r&&r.owner_uid||null,a=n.getThreadId(),s=ns.Model.get("message",{ids:a,mailboxUid:o}),l=ns.Model.get("messages",{thread_id:a,mailboxUid:o});if(s.hasRealData())return s.updateThreadInfo(n),l.insertMessage(n),{insert:s,replace:s};if(ns.Model.get("settings").isThreaded()&&(l.insertMessage(n),t.messages.toCreateThread(n))){var c=l.getCount(),u=l.models.indexOf(n),d=l.models[u+1]||n,f=l.models[u+1];d.getData()||!f||f.getData()||e.ErrorLog.log({type:i.ErrorType.Util,block:i.ErrorBlock.Xiva,method:"Daria.Xiva.NewMsgQueue.updateThreadModels",source:i.ErrorSource.Logic,sourceMethod:i.ErrorSourceMethod.Xiva,message:"Empty msg data in messages thread model",additional:{mid:n.get(".mid"),tid:a}});var p=l.getUnreadCount();return n.isNew()&&(p-=1),t.Xiva.createThreadFromMessage(d,s,c-1,p),s.updateThreadInfo(n),{insert:s,replace:s}}return{insert:n,replace:n}},t.Xiva.NewMsgQueue._updateList=function(e,t,n){var r=ns.Model.get("messages",e);return r.insertMessage(t,n),r},t.Xiva.NewMsgQueue.notify=function(e,n){e.params.mailboxUid!==ns.page.current.params.mailboxUid&&(e.params.mailboxUid||ns.page.current.params.mailboxUid)||t.Xiva.NewMsgQueue.shouldPreventAnyNotifications(e)||(t.Xiva.NewMsgQueue.updateFaviconCounter(e.getFolderId(),e.params.mailboxUid),t.Xiva.NewMsgQueue.shouldPreventPopupNotifications()||(t.Xiva.NewMsgQueue.playSound(),t.Xiva.NewMsgQueue.preloadMessage(e.get(".mid")),t.Xiva.NewMsgQueue.toShowNotification(n)&&t.Xiva.NewMsgQueue.showNotification(e)))},t.Xiva.NewMsgQueue.shouldPreventPopupNotifications=function(){return t.isComposePage()},t.Xiva.NewMsgQueue.shouldPreventAnyNotifications=function(e){var t=e.inFolderBySymbol(r.SilentFolders),n=!e.isNew();return t||n},t.Xiva.NewMsgQueue.updateFaviconCounter=function(e,n){var i=ns.page.current.params,o=ns.page.current.page,a=ns.Model.get("folders",{mailboxUid:n});if(t.IS_CORP&&"messages"===o){var s=e===i.current_folder,l=a.isFolder(e,r.WellKnownFolderSymbol.INBOX);t.gotNewMail+=s||l?1:0}else if(t.IS_CORP&&"message"===o){var c=e===ns.Model.get("message",{ids:i.ids,mailboxUid:n}).getData().fid,u=a.isFolder(e,r.WellKnownFolderSymbol.INBOX);t.gotNewMail+=c||u?1:0}else t.gotNewMail+=1;t.gotNewMail+=ns.Model.get("user-dropdown-data").getFreshForDefault()},t.Xiva.NewMsgQueue.playSound=function(){ns.Model.get("settings").getSetting("sound_message")&&"1"!==t.getCookie("sound_message_playing")&&(t.setCookie("sound_message_playing","1"),ns.action.run("sound.message"),setTimeout(function(){t.delCookie("sound_message_playing")},1e3))},t.Xiva.NewMsgQueue.preloadMessage=function(e){t.messages.preload([{mid:e}])},t.Xiva.NewMsgQueue.toShowNotification=function(e){if(!ns.Model.get("settings").getSign("notify_message"))return!1;if("messages"!==ns.page.current.page)return!0;var n=t.Xiva.NewMsgQueue._getCurrentMessages();return!_.includes(e,n)},t.Xiva.NewMsgQueue._getCurrentMessages=function(){var e,t=ns.page.current.params;return t.current_folder&&t.thread_id&&(e=_.clone(t),delete t.thread_id),ns.Model.get("messages",e||t)},t.Xiva.NewMsgQueue.showNotification=function(e){t.Xiva.NewMsgQueue.showNotificationMessage(e)},t.Xiva.NewMsgQueue.showNotificationCalendarEvent=function(e){var n=e.get(".mid");return ns.request("message-widget-events",{ids:n}).then(function(e){var t=e[0].get(".eventInfo"),n={type:"calendar",name:t.name,location:t.location,start:t.start,end:t.end};"event_update"===t.calendarMailType?n.label="updated":t.isCancelled&&(n.label="canceled"),ns.Model.get("notifications").addNotification(n)},function(){t.Xiva.NewMsgQueue.showNotificationMessage(e)})},t.Xiva.NewMsgQueue.showNotificationMessage=function(e){var t=e.get(".mid"),n=e.getFolderId(),r=e.getFromEmail(),i=ns.router.generateUrl("message",{current_folder:n,ids:t,fromNotification:1});ns.Model.get("notifications").addNotification({type:"message",subject:e.getSubject(),email:r,firstline:e.getFirstline(),name:e.getFromName(),ref:e.getEmailRef(r),url:i})}}(Jane,Daria)},function(e,t){!function(e,t){function n(e,n){if(_.has(e,"message.fresh_count")){var r=Number(e.message.fresh_count||0);n?r&&ns.Model.get("head-user-state").setNewLettersInMA(!0):r&&ns.Model.get("head-user-state").setNewLettersInMA(!1);var i=ns.Model.get("user-dropdown-data");i.setNewCountById(e.uid,r),t.gotNewMail+=i.getFreshForDefault(),t.updateTitle()}}ns.events.on("xiva.mail.multi.insert",function(e,t){n(t,!0)}),ns.events.on("xiva.mail.multi.update",function(e,t){n(t)}),t.IS_CORP&&ns.events.on("xiva.calendar.meeting-reminder",function(e,t){ns.Model.get("settings").isSet("i_can_care_of_myself")||ns.Model.get("notifications").addNotification({type:"calendar",label:"reminder",name:t.message.subject,location:t.message.location,vip:!0})})}(Jane,Daria)},function(e,t,n){n(3811),n(3813),n(3814),n(3815),n(3816),n(3818),n(3819),n(3821),n(3822),n(3823),n(3824),n(3825),n(3826),n(3829),n(3830),n(3831),n(3832),n(3833),n(3834),n(3835),n(3836),n(3837),n(3840)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3812);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.action.define("attachments.image-preview",function(e,t,n,r){r.preventDefault(),r.stopPropagation(),Jane.c("Images viewer","Opening"),ns.request(["module-message"]).then(function(){Daria.ImageViewer.open(t.mode,t.mid,t.hid,t["message-hid"],t.mailboxUid),ns.events.trigger("daria:vAttachmentsViewer:open")})}),ns.action.define("attachments.openUploadToDiskPopup",function(e,t,n,a){Object(r.b)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{event:a}))}),ns.action.define("attachments.logOperation",function(e,t){Object(r.a)(t.mid,t.type)}),ns.action.define("attachments.openImageViewer",function(e,t){Daria.ImageViewer.open("",t.mid,t.hid,t.messageHid,t.mailboxUid,t.mailboxUid)})},function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f});var r=n(626),i=n(1166),o=n(347),a=this;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=null,u=function(e){var t=e.event,n=e.attachment,r=e.mid,i=t.target;c||(t.preventDefault(),Object(o.getPddRestrictNotificationsModel)().showPopup()||(c=ns.View.create("disk-widget-save-popup").open({mid:r,hid:n.hid,diskDownloadUrl:n.narod?n.unsafeUrl:null,popup:{where:i,withTail:!1}})).promise().then(function(){c=null},a))},d={},f=function(e,t){var n=ns.Model.get("message",{ids:e});d[e]=d[e]||Object(i.a)();var o=Object(i.b)(n);Object(r.writeToUserJournal)({operation:"open",target:"attach"},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isSearch:Daria.isSearchPage(),readingId:d[e],mid:e},o,{open_type:t,container_subtype:"message"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(358)),o=(n.n(i),n(359));n.n(o);!function(){var e="  ";ns.action.define("message.filter-move.show",function(t,n){var a=n.mid,s=n.fid,l=ns.Model.get("folders"),c=ns.Model.get("settings"),u=ns.Model.get("message",{ids:a});if(!(c.isSet("disable_move_filter")||Daria.areFoldersTabsEnabled()&&l.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)===s)){var d=l.getFolderById(s).name,f=u.getFromEmail();Object(i.showStatuslineComponent)({name:o.StatuslineName.FilterCreate,mid:a,fid:s,message:i18n("%Statusline_create_filter_on_message_move",f,d),moveButtonText:i18n("%Statusline_create_filter_on_message_move_button"),cancelButtonText:i18n("%Statusline_create_filter_on_message_move_cancel")}),Jane.c(e," 1","")}}),ns.action.define("message.filter-move.create",function(t,n){Jane.Services.runModules(["setup.js"],function(){var t=ns.Model.get("message",{ids:n.mid}).getFromEmail();Daria.FilterSimpleCreate({validate:no.True,params:{letter:"all",name:"",logic:1,field1:"from",field2:1,field3:t,clicker:"move",move_folder:n.fid},success:function(n){Object(i.showStatuslineComponent)({name:o.StatuslineName.FilterApply,filid:n,email:t}),Jane.c(e," 2","")}}).create(),Jane.c(e," 1","")}),Jane.c(""," ","create_filter","",'  ""')}),ns.action.define("message.filter-move.apply",function(t,n){Jane.Services.runModules(["setup.js"],function(){ns.forcedRequest(["filters-apply"],{id:n.filid}).then(function(t){t[0].error||(Object(i.showSuccessMessage)(o.StatuslineName.FilterApplied,i18n("%Statusline_create_filter_on_message_move_done_applied")),Jane.c(e," 3",""))}),Jane.c(e," 2","")}),Jane.c(""," ","apply_filter","",'  ""')}),ns.action.define("message.filter-move.edit",function(t,n){ns.page.go("#setup/filters-create?id="+n.filid),Jane.c(e," 2"," "),Jane.c(""," ","apply_filter","",'  " "')}),ns.action.define("message.filter-move.disable",function(){ns.Model.get("settings").setSettingOn("disable_move_filter"),Jane.c(e," 1"," "),Jane.c(""," ","create_filter","",'  "  "')})}()},function(e,t){ns.action.define("folder.remove",function(e,t){Jane.Services.run("#setup",function(){Daria.Folder.remove(t.id)})})},function(e,t){ns.action.define("folder.edit",function(e,t){Jane.Services.run("#setup",function(){var e=Daria.FolderEditPopup({id:t.id});$.extend(e,{success:function(){t["only-edit"]&&ns.page.go()}}),e.init()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3817),i=n(137),o=(n.n(i),n(1587));ns.action.define("folder.clear",function(e,t,n,o){var a=t.fid;t.onTarget&&o.currentTarget&&(t.targetOffset=$(o.currentTarget).offset().top+$(o.currentTarget).height()/2-$(window).scrollTop()),t.symbol&&Object(r.a)(a,"Clear click"),"extended"!==t.type||ns.Model.get("folders").isFolder(a,[i.WellKnownFolderSymbol.TRASH])?t.template="<p>"+i18n("%Folders_Clear_Text")+"</p>":t.template=$(Jane.tt("setup:js-setup-folders-dialog-folder-exclear")),Jane.Services.runModules(["setup.js"],function(){var e=Daria.FolderClearPopup(t);_.extend(e,{onsuccess:function(){var e=ns.page.refresh();Daria.is3pane()&&t.fid===ns.page.current.params.current_folder&&(e=e.then(function(){var e=0===ns.Model.get("messages",ns.page.current.params).getCount();ns.events.trigger("mail:splitter:toggleOnePaneMode",e)})),e.then(function(){ns.events.trigger("folder.cleared",t.fid)})}}),e.init()}),t.metrika&&ns.action.run("common.clck",t)}),ns.action.define("folder.clear-data",function(e,t){return Object(o.a)({method:"purge",fid:t.fid,mailboxUid:t.mailboxUid})})},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Left column",Daria.is2pane()?"2pane":"3pane",ns.Model.get("settings").get(".show_folders_tabs")?"Tabs list":"Folders list"].concat(t))}t.a=function(e,t){var n=ns.Model.get("folder",{fid:e}).get(".symbol");n?r("system",n,t):r("user folder",t)}},function(e,t){ns.action.define("folders.add",function(e,t,n,r){Jane.Services.run("#setup",function(){var e=Daria.FolderCreatePopup(t);$.extend(e,{success:function(e){t["only-create"]?ns.page.go():t.mMessagesChecked?(t.fid=e,t.mMessagesChecked.runAction("move",t)):ns.action.run("move",{fid:e,toolbar:t.toolbar},null,r)}}),e.init()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3820);n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t,n=(t={},o(t,r.CollectorOAuthApplication.GOOGLE,"https://mail.google.com/"),o(t,r.CollectorOAuthApplication.MAILRU,"mail.imap"),o(t,r.CollectorOAuthApplication.MICROSOFT,"wl.imap wl.offline_access"),o(t,r.CollectorOAuthApplication.YANDEX,""),t)[e.application],i={application:e.application,consumer:"mail",display:"popup",force_prompt:1,place:"query",retpath:location.origin+Daria.api["oauth-token"]+"?"+$.param(e),return_brief_profile:1,scope:n};e.login_hint&&(i.login_hint=e.login_hint),window.open(Daria.Config["social-host"]+"/broker2/start?"+$.param(i),"_blank")};ns.action.define("generate-oauth-token",function(e,t){"yandex-mail-collector"!==t.application||t.login_hint?a(t):Daria.React.yaCollectorEmailInputPopup.openPopup({onOk:function(e){var n=e.email;return a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({login_hint:n},t))}})})},function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownCollectorError=t.CollectorOAuthAction=t.CollectorNameApplicationMap=t.CollectorOAuthApplication=t.CollectorName=t.WellKnownErrorStatus=t.CollectorStatus=t.COLLECTORS_LIMIT=void 0,t.COLLECTORS_LIMIT=10,function(e){e.OFF="0",e.ON="1",e.FAULTY="2",e.BROKEN="3"}(t.CollectorStatus||(t.CollectorStatus={})),function(e){e.NoError="ok",e.AuthError="auth_error"}(t.WellKnownErrorStatus||(t.WellKnownErrorStatus={})),function(e){e.GOOGLE="Gmail",e.MAILRU="Mail",e.OUTLOOK="Outlook",e.YANDEX="Yamail"}(i=t.CollectorName||(t.CollectorName={})),function(e){e.GOOGLE="google-oauth2",e.MAILRU="mailru-o2-mail",e.MICROSOFT="microsoft",e.YANDEX="yandex-mail-collector"}(o=t.CollectorOAuthApplication||(t.CollectorOAuthApplication={})),t.CollectorNameApplicationMap=((r={})[i.GOOGLE]=o.GOOGLE,r[i.MAILRU]=o.MAILRU,r[i.OUTLOOK]=o.MICROSOFT,r[i.YANDEX]=o.YANDEX,r),function(e){e.Update="update",e.Create="create"}(t.CollectorOAuthAction||(t.CollectorOAuthAction={})),function(e){e.Fail="fail",e.TriesExceeded="tries_exceeded",e.AuthFailed="auth_failed",e.FromHimself="rpop from himself error",e.ForbiddenServerError="forbidden server error",e.Duplicated="duplicated",e.AppPasswordRequired="app password required",e.RateControlError="rate control error"}(t.WellKnownCollectorError||(t.WellKnownCollectorError={}))},function(e,t){ns.action.define("label.remove",function(e,t){Jane.Services.run("#setup",function(){Daria.Label.remove(t.id)})})},function(e,t){ns.action.define("label.edit",function(e,t){Jane.Services.run("#setup",function(){var e=Daria.LabelEditPopup({id:t.id});$.extend(e,{success:function(){t["only-edit"]&&ns.page.go()}}),e.init()})})},function(e,t){ns.action.define("labels.add",function(e,t){Jane.Services.run("#setup",function(){var e=Daria.LabelCreatePopup(t);$.extend(e,{success:function(e){"setup"!==ns.page.current.page&&("only-create"in t?ns.events.trigger("daria:vLabels:update"):_.isFunction(t.onLabelCreated)?t.onLabelCreated(e):ns.action.run("label",{current_label:e,"message-id":t["message-id"],contextMenu:t.contextMenu,isNeedDeselect:t.isNeedDeselect}))}}),"promo"in t&&ns.Model.get("settings").setSettingOn("no-labels-promo"),e.init()})})},function(e,t){ns.action.define("label",function(e,t,n){t.current_label=t.current_label||t.lid,t._viewKey=$(n).closest(".ns-view-message").attr("data-key"),ns.events.trigger("daria:vToolbarButton:"+e,t)}),ns.action.copy("label","unlabel")},function(e,t){ns.action.define("move",function(e,t){t.refreshImmediately=!0,ns.events.trigger("daria:vToolbarButton:move",t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(498),i=(n.n(r),n(137)),o=(n.n(i),n(347)),a=n(359),s=(n.n(a),n(353)),l=n(358),c=(n.n(l),n(551));!function(){var e,t=function(e){Jane.c([" ",""].concat(e))};function n(){return parseInt(ns.Model.get("settings").getSetting("reply-promo-cnt"),10)||0}function u(e){if(e.error)this.reject(e.error);else switch(e.status){case"ok":!function(){["messages","message-nearest","message-thread-nearest","abook-contacts","abook-contact","folders"].forEach(function(e){ns.Model.invalidate(e)});var e=ns.page.current.params,t=ns.Model.get("folders");ns.Model.isDefined("messages-pager")&&(ns.Model.get("messages-pager",e).invalidate(),ns.Model.get("messages-pager",{current_folder:t.getFidBySymbol(i.WellKnownFolderSymbol.SENT)}).invalidate())}(),this.resolve(no.jpath(".storedmid",e));break;case"attachment_too_big":this.reject(31);break;case r.UNDO_MESSAGE_SAVED:case r.UNDO_CANNOT_SAVE:case r.UNDO_PAUSED:this.reject(e.status);break;default:this.reject("no parse send responce: ".concat(e.status))}}function d(e){var t=Daria.SendMail.getUndoSendTime();t>0&&(e.send_time=t,e.relative=!0)}function f(e){var t={};if(e.undoAvailable){var n=Daria.SendMail.getUndoSendLogger("reply");n.resetStartTime(),n.logShow(),t.onClose=function(){n.logClose()},t.onCancel=function(){n.logCancel(),e.cancelled=!0}}Daria.SendMail.showSendingMessage(t)}function p(e,t){if(e.cancelled&&t)Daria.SendMail.cancelSendMessage(t,"sending_message",!1);else{var n={};if(e.undoAvailable){var r=Daria.SendMail.getUndoSendLogger(t);n.onClose=function(){r.logClose()},n.onCancel=function(){r.logCancel()}}Daria.SendMail.showMessageSent(t,n)}}function g(e,t,n){switch(n){case-1:Object(l.showStatuslineComponent)({name:a.StatuslineName.TemplateNotFound});break;case 31:Object(l.showStatuslineComponent)({name:a.StatuslineName.TooBigAttachment,text:Object(s.default)("statusline/too_big_attachment",{maxCount:Daria.Constants.MAX_MESSAGES_TO_FORWARD,maxSize:ns.Model.get("system-status").getAttachmentsMaxSize()})});break;case r.UNDO_CANNOT_SAVE:Daria.SendMail.showTryAgainPopup({title:i18n("%_"),message:i18n("%Compose_undo_cannot_save_error"),onRetry:t});break;case r.UNDO_MESSAGE_SAVED:Daria.SendMail.showTryAgainPopup({title:i18n("%_"),message:i18n("%Compose_undo_message_saved_error"),onRetry:t});break;case r.UNDO_PAUSED:Daria.SendMail.showTryAgainPopup({title:i18n("%_"),message:i18n("%Compose_undo_cannot_save_error"),onRetry:t});break;default:Object(l.showErrorMessage)(a.StatuslineName.MessageSendingFailed,i18n("%Feedback_Error_Msg"))}Object(l.hideStatusline)(a.StatuslineName.MessageSent)}function m(e,t){ns.events.trigger("daria:MOPS:action-complete",t),ns.events.trigger("daria:MOPS:"+e,t),ns.events.trigger("message.action.complete",t),ns.events.trigger("daria:vToolbarButton:loader:end")}ns.action.define("reply",function(t,r,s,h){var v={undoAvailable:Daria.SendMail.shouldShowUndoSend(),cancelled:!1},b=null;r.sendNoUndo?(delete r.sendNoUndo,v.undoAvailable=!1):b=function(){var e=Object.assign({sendNoUndo:!0},r);return function(){return ns.action.run(t,e,s,h)}}(),r.action=t;var y,S=ns.Model.get("settings");if(r["message-id"])y={ids:[r["message-id"]],tids:[]};else{var w=r.mMessagesChecked;if(ns.assert(w,"params.mMessagesChecked","%s not passed to ns.action reply"),!w.getCount())return;y=w.getIds()}if(!["reply","reply-all"].includes(r.action)||!Object(o.getPddRestrictNotificationsModel)().showPopup(function(){return Object(c.b)(y.ids.map(function(e){return ns.Model.get("message",{ids:e})}),"reply-all"===r.action)})){if(0===y.ids.length&&1===y.tids.length){var O=y.tids[0],M=ns.Model.get("message",{ids:O});if(M.isMessageThread())y.tids=[],y.ids=[M.getMessageThreadMid()];else if("forward"!==t){var x=M.getThreadMessages().getLastReplyMessage();x&&(y.tids=[],y.ids=[x.get(".mid")])}}var E=1===y.ids.length&&0===y.tids.length?y.ids[0]:null;if(E){var T=ns.Model.get("message-body",{ids:E});if(T.isCollectorMessage())return;if("reply"===t&&r.toolbar&&T.allowedReplyAll()&&!$("html").hasClass("b-page_reply-promo")&&Daria.is2pane()&&!S.getSetting("force-reply"))return void ns.action.run("reply.confirm",r,s,h)}var D,C=n();if("reply"===t&&!r.toolbar&&C<2&&(C+=1,S.setSettings({"reply-promo-cnt":C})),"reply-all"===t&&!r.toolbar&&C<2&&S.setSettings({"reply-promo-cnt":0}),"sendon"===t&&r.toolbar){if(Object(o.getPddRestrictNotificationsModel)().showPopup())return;if(!(D=r.email))return void Object(l.showErrorMessage)(a.StatuslineName.SendOnNoAddressError,i18n("%Message_Sendon_Msg_Error"));if(f(v),E)return void function(e,t,n){var r=$.Deferred();return ns.request(["message","message-body"],{ids:t}).then(function(i){if(2===i.length){var o=i[0],a=i[1],s=ns.Model.get("settings"),l=a.getComposeHTML(),c=a.getSubtype();"plain"===c&&(l=Daria.Html2Text.html2text(l));var f=$.map(a.getAttachments(t),function(e){return"message"===e.type?e.hid:null}),p={ids:t,ttype:c,overwrite:t,ign_overwrite:"yes",from_mailbox:o.getToEmail(t)||s.getSetting("default_email"),from_name:s.getSetting("from_name"),to:e,cc:"",bcc:"",subj:"Fwd: "+o.getSubject(!0),send:l,inreplyto:a.getMessageId(t),references:"",mark_as:"forwarded",mark_ids:t,parts:f};n.undoAvailable&&d(p),Daria.SendMail.send({params:p,success:function(e){u.call(r,e),r.then(function(){ns.page.go().then(function(){ns.events.trigger("daria:Message:check",t)})})},error:function(){r.reject("sendOnMail: error sending mail")}})}else r.reject("sendOnEmail: not pass all models in request")}),r.promise()}(D,E,v).done(p.bind(null,v)).fail(g.bind(null,null,b)).always(m.bind(null,t,r));t="forward"}if("reply-tmpl"===t&&r.toolbar){if(Object(o.getPddRestrictNotificationsModel)().showPopup())return;var P=r.tmpl;return P?E?(f(v),void function(e,t,n){var r=$.Deferred(),o=[{id:"folders"},{id:"message",params:{ids:e}},{id:"message",params:{ids:t}},{id:"message-body",params:{ids:e}},{id:"message-body",params:{ids:t}}];return ns.request(o).then(function(o){var a=o[0],s=o[1],l=o[2],c=o[3],f=o[4];if(s.getData()&&c.getData())if(l&&f){var p=a.getFidBySymbol(i.WellKnownFolderSymbol.TEMPLATE),g=s.getFolderId();if(p&&g&&g===p){var m=l.getFolderId(),h=m?a.getFolderById(m):null;if(m&&h&&(a.isFolder(m,i.WellKnownFolderSymbol.INBOX)||h.user)){var v=ns.Model.get("settings"),b=c.getComposeHTML(),y=f.getSubtype(),S=f.getReplyBody(y),w=f.getRecipients(!0),O=f.getMessageId(),M=f.getInReplyTo(),x=f.getReferences();"plain"===y&&(b=Daria.Html2Text.html2text(b)),S=b+S;var E={mark_ids:t,overwrite:t,ign_overwrite:"yes",mark_as:"replied",references:$.trim((x||M)+" "+O),inreplyto:O,ttype:y,from_mailbox:l.getToEmail()||v.getSetting("default_email"),from_name:v.getSetting("from_name"),to:w.to,cc:w.cc,bcc:"",subj:"Re: "+l.getSubject(!0),send:S};n.undoAvailable&&d(E);var T=c.getAttachments();if(T&&T.length>0){var D=[],C=[];_.filter(T).forEach(function(t){if(t.narod){var n={narodUrl:t.unsafeUrl,previewSrc:t["preview-src"],name:t.name,size:t.size,folder:t.folder};C.push(Daria.utils.getDiskParams(n))}else D.push({mid:e,hid:t.hid})}),E.parts_json=D.length?JSON.stringify(D):"",E.disk_att=C.length?JSON.stringify(C):""}Daria.SendMail.send({params:E,success:function(e){u.call(r,e),r.then(function(){ns.page.go()})},error:function(){r.reject("error send mail")}})}else r.reject("no fid or not user or inbox folder")}else r.reject(-1)}else r.reject("send template: no message or no message body");else r.reject(-1)}).fail(function(){var t=ns.Model.get("message",{ids:e}),n=ns.Model.get("message-body",{ids:e});t.getData()&&n.getData()?r.reject():r.reject(-1)}),r.promise()}(P,E,v).done(p.bind(null,v)).fail(g.bind(null,P,b)).always(m.bind(null,t,r))):void Object(l.showErrorMessage)(a.StatuslineName.ReplyToOnlyOneEmailError,i18n("%Message_ReplyTmpl_Msg_Error2")):void Object(l.showErrorMessage)(a.StatuslineName.TemplateMissingError,i18n("%Message_ReplyTmpl_Msg_Error"))}var k={oper:t};y.ids.length&&(k.ids=y.ids),y.tids.length&&(k.tids=y.tids),r.translate&&(k.translate=r.translate),D&&ns.Model.get("compose-predefined-data").set(".to",D),Daria.composeGo(k).then(function(){D&&ns.Model.get("compose-state",ns.View.info("compose2").params()).setFocusField("subj")}),m(t,r),e&&(e.close(),e=null)}}),ns.action.copy("reply","forward"),ns.action.copy("reply","reply-all"),ns.action.copy("reply","sendon"),ns.action.copy("reply","reply-tmpl"),ns.action.define("reply.confirm",function(r,i){var o=ns.Model.get("settings"),a=n(),s=i.mMessagesChecked.getIds(),l=i.mMessagesChecked.isOnlyMessageChecked()?s.ids[0]:null;if(l){var c,u,d=function(){this.close()},f={body:Jane.tt("message:reply-confirm-dialog",{mid:l,participants:ns.Model.get("message-body",{ids:l}).participantsCount()+1,prevent:a>=2}),additionalClass:"b-toolbar__popup",onopen:function(e){d=d.bind(e),ns.events.on("ns-page-before-changed",d)},oncancel:function(){o.setSettings({"reply-promo-cnt":a+1})},onclose:function(){ns.events.off("ns-page-before-changed",d),e.$paranja.addClass("g-hidden").removeClass("b-paranja_fadeout"),u&&$("HTML").removeClass("b-page_reply-promo")},width:400,hideOnScroll:!0};if(i.buttonView){var p=(u=i.buttonView.$node).offset(),g=u.outerWidth();(c=Object.assign({},p)).top+=u.height()-$(window).scrollTop(),c.left+=g/2;c.left=Math.max(c.left,220);var m=p.left+g/2-(c.left-200);$.extend(f,{onTarget:{x:c.left,y:c.top,tailX:m,side:"top",pos:"bottom"}})}e=Daria.Dialog.open(f),o.setSettings({"hk-reply-promo":"on"}),t(""),u&&$("HTML").addClass("b-page_reply-promo"),e.$paranja.removeClass("g-hidden b-paranja_transparent").addClass("b-paranja_fadeout")}}),ns.action.define("reply.not-ask",function(e,n,r,i){var o={event:i,params:n},a=nb.block(o.event.currentTarget);return window.setTimeout(function(){ns.Model.get("settings").setSettings({"force-reply":a.isChecked()}),t(" ")},1),!0})}()},,,function(e,t){ns.action.define("fix-empty-image",function(e,t,n){Daria.Page.fixEmptyImage(n,t.type)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(811);function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)})}}ns.action.define("change-theme",function(){var e=o(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.themeId,Object(r.setTheme)(i),e.next=4,Object(r.runTheme)(i);case 4:return e.next=6,ns.action.run("trigger-theme-redraw",{themeId:i});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),ns.action.define("trigger-theme-redraw",function(){var e=o(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.themeId,Daria.themeId=r,ns.events.trigger("daria:vThemesSelector:new-schema"),e.prev=3,e.next=6,ns.page.go();case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),"expired"===(e.t0&&e.t0.error)){e.next=12;break}throw e.t0;case 12:$(window).trigger("resize");case 13:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t,n){return e.apply(this,arguments)}}())},function(e,t){ns.action.define("folder.mark-read",function(e,t){Daria.Folder.markRead(t.fid,t.mailboxUid)}),ns.action.define("tab.mark-read",function(e,t){Daria.MOPS.markReadTab(t.id,t.mailboxUid)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);function i(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ns.action.define("mops.label",function(e,t){var n,i=Object(r.getMailboxUid)();return n=t.ids?ns.Model.get("messages-checked",{mid:t.ids,mailboxUid:i}).checkByMidInParams():ns.Model.get("messages-checked",ns.page.current.params),Daria.MOPS.label(n,t)}),ns.action.define("mops.runOperation",function(e,t){var n=t.operation,o=t.ids,a=i(t,["operation","ids"]),s=Object(r.getMailboxUid)(),l=ns.Model.get("messages-checked",ns.page.current.params);return 1!==o.length||l.isCheckedByMid(o[0])||(l=ns.Model.get("messages-checked",{mid:o[0],mailboxUid:s}).checkByMidInParams()),Daria.MOPS[n](l,a||{})}),ns.action.define("mops.toggleAllMessagesChecked",function(e,t){var n=ns.Model.get("messages-checked",ns.page.current.params);ns.Model.get("messages",ns.page.current.params).isSearch()&&!t.isSelectedAll||n.resetChecked(),t.isSelectedAll||n.selectList(!0)}),ns.action.define("mops.resetMessagesChecked",function(){ns.Model.get("messages-checked",ns.page.current.params).resetChecked()}),ns.action.define("mops.toggleMessageChecked",function(e,t){var n=t.ids,o=t.checked,a=i(t,["ids","checked"]),s=Object(r.getMailboxUid)(),l=ns.Model.get("messages-checked",ns.page.current.params),c=ns.Model.get("message",{ids:n,mailboxUid:s});l.check(c,o,a)}),ns.action.define("mops.insertMessages",function(e,t){var n=ns.Model.get("messages",ns.page.current.params),r=ns.Model.get("messages",t);n.set(".details",Object.assign(n.get(".details")||{},r.get(".details")||{}),{silent:!0}),n.insert(r.models),ns.Model.destroy(r)}),ns.action.define("mops.insertThreadMessages",function(e,t){var n=ns.Model.get("messages",{thread_id:t.thread_id}),r=ns.Model.get("messages",t);n.set(".details",Object.assign(n.get(".details")||{},r.get(".details")||{}),{silent:!0}),n.insert(r.models),ns.Model.destroy(r)})},function(e,t){ns.action.define("journal.log",function(e,t){Daria.monitoring.journal(t.operation,t.data)}),ns.action.define("workflow.log",function(e,t){Daria.monitoring.workflow(t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(626);ns.action.define("error.log-simple",function(e,t){var n=t.errorType,i=t.error;Object(r.logSimpleError)(n,i)})},function(e,t){ns.action.define("shortcuts.modalOn",function(e,t){$.Shortcuts.modalListOn(t.list)}),ns.action.define("shortcuts.modalOff",function(e,t){$.Shortcuts.modalListOff(t.list)}),ns.action.define("shortcuts.freeze",function(){$.Shortcuts.freeze()}),ns.action.define("shortcuts.unfreeze",function(){$.Shortcuts.unfreeze()})},function(e,t){ns.action.define("forceReload",function(e,t){ns.page.forceReload(t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(350),i=n(3838),o=n(3839),a=n(346);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ns.action.define("message.markRead",function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("message",{ids:t.mid,mailboxUid:n});Daria.MOPS[t.isNew?"mark":"unmark"](r.getMessagesCheckedModel())}),ns.action.define("message.markImportant",function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("message",{ids:t.mid,mailboxUid:n}),i=ns.Model.get("labels",{mailboxUid:n}).getImportantLID();Daria.MOPS.updateHelper(t.isImportant?"unlabel":"label",r.getMessagesCheckedModel(),i)}),ns.action.define("message.markPriority",function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("message",{ids:t.mid,mailboxUid:n}),i=ns.Model.get("labels",{mailboxUid:n}).getPriorityLID();Daria.MOPS.updateHelper(t.isPriority?"unlabel":"label",r.getMessagesCheckedModel(),i)}),ns.action.define("message.label",function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("message",{ids:t.mid,mailboxUid:n});Daria.MOPS.updateHelper("label",r.getMessagesCheckedModel(),t.lid)}),ns.action.define("message.unlabel",function(e,t){var n=Object(a.getMailboxUid)(),r=ns.Model.get("message",{ids:t.mid,mailboxUid:n});Daria.MOPS.updateHelper("unlabel",r.getMessagesCheckedModel(),t.lid)}),ns.action.define("app.toggleVerticalScrollBar",function(e,t){Object(r.toggleVerticalScrollBar)(t.hideScrollBar)}),ns.action.define("message.runOperation",function(e,t){var n=t.operation,r=t.mid,i=s(t,["operation","mid"]),o=Object(a.getMailboxUid)(),l=ns.Model.get("messages-checked",{mid:r,mailboxUid:o}).checkByMidInParams();Daria.MOPS[n](l,i||{})}),ns.action.define("quick-reply.open",function(e,t,n){Daria.openQuickReply({oper:t.oper,quickReplyNode:n,ids:t.ids,onMessageSent:t.onMessageSent,mailboxUid:t.mailboxUid})}),ns.action.define("quick-reply.close",function(e,t){t.shouldSaveDraft?Daria.React.QuickReply.saveDraftAndDestroy():Daria.React.QuickReply.destroy()}),ns.action.define("message.openLabelsPopup",function(e,t,n){Object(i.b)({mid:t.mid,node:n})}),ns.action.define("message.openFoldersPopup",function(e,t,n){Object(i.a)({mid:t.mid,node:n})}),ns.action.define("message.scrollMessageBody",function(e,t){Object(o.a)(t.anchor,t.messageBody)}),ns.action.define("message.openMap",function(e,t){var n=t.address,r=t.mid,i=t.coordinates;ns.View.create("map-up",{address:n,ids:r}).open(i)}),ns.action.define("message.closeThreadMessage",function(e,t){ns.Model.get("state-message-thread-item",t).setOpen(!1)})},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r,i,o=function(e){var t=e.mid,n=e.node;if(!r){var i=ns.View.create("labels-actions"),o=ns.Model.get("messages-checked",{mid:t}).checkByMidInParams();i.open(n,o,{logMetrika:function(){}}).then(function(){r=!0,i.nbPopup.on("nb-closed",function(){r=!1})})}},a=function(e){var t=e.mid,n=e.node;if(!i){var r=ns.View.create("folders-actions"),o=ns.Model.get("messages-checked",{mid:t}).checkByMidInParams();r.open(n,o).then(function(){i=!0,r.nbPopup.on("nb-closed",function(){i=!1})})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(349),i=(n.n(r),function(e,t){var n,i=Object(r.hasFeature)(r.Features.REACT_LAYOUT);n=i?t.closest(Daria.is3pane()?".js-message-scroll-area":".js-messages-scroll-area"):Daria.isMessagePage()?window:t.closest(".js-message-scroll-area");var o,a=!Daria.is3pane()&&Daria.isMessageOpenedInList(),s=i||!Daria.isMessagePage()&&!a?n.scrollTop:0,l=!Daria.isMessagePage();o=i?document.getElementById("js-mail-layout-content-header").offsetHeight:Daria.isMessagePage()?59:28;var c=Daria.isThreadOpenedInList()?(Daria.is3pane(),48):66,u=(l?c:0)+o;Jane.DOM.placeInViewport(e,{top:u-s},{nodePositionBelow:"top",nodePositionAbove:"top"},n)})},function(e,t){function n(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ns.action.define("abook.cops",function(e,t){var r=t.operation,i=n(t,["operation"]),o=ns.Model.get("abook-selected",ns.page.current.params);return"abook.import"===r?Daria.abook.openImportDialog():"abook.export"===r?Daria.abook.openExportDialog():"abook.assign-contacts-from-group"===r?Daria.COPS[r](o,i).then(function(){o.clear(),ns.page.go()}):void Daria.COPS[r](o,i)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=(n.n(r),n(1059)),o=n(383);i.scope("file-icon-svg",n(3842)),i.scope("attach-icons-svg",n(1502)),i.scope("file-icon-png",Object.assign({},n(3941),n(3952),n(4002))),i.scope("collector-icon",n(4052)),i.scope("lang-icon",n(4066)),i.scope("social-icon",n(4079)),i.scope("promo-mobile",n(4084)),i.scope("theme-thumb",n(1563)),i.default(function(e,t){return Jane.ErrorLog.send({type:r.ErrorType.Util,source:r.ErrorSource.Resource,sourceMethod:r.ErrorSourceMethod.Img,block:r.ErrorBlock.MailModule,method:"storage.default",message:"Missed image link",scope:e,link:t}),o})},function(e,t,n){e.exports={ai:n(3843),ai_small:n(3844),application:n(3845),application_small:n(3846),archive:n(3847),archive_small:n(3848),audio:n(3849),audio_small:n(3850),avi:n(3851),avi_small:n(3852),bmp:n(3853),bmp_small:n(3854),book:n(3855),book_small:n(3856),cdr:n(3857),cdr_small:n(3858),csv:n(3859),csv_small:n(3860),development:n(3861),development_small:n(3862),djvu:n(3863),djvu_small:n(3864),doc:n(3865),doc_small:n(3866),eml:n(3867),eml_small:n(3868),exe:n(3869),exe_small:n(3870),executable:n(3871),executable_small:n(3872),flash:n(3873),flash_small:n(3874),font:n(3875),font_small:n(3876),general:n(3877),general_small:n(3878),gif:n(3879),gif_small:n(3880),image:n(3881),image_small:n(3882),jpg:n(3883),jpg_small:n(3884),mail:n(3885),mail_small:n(3886),mov:n(3887),mov_small:n(3888),mp3:n(3889),mp3_small:n(3890),mp4:n(3891),mp4_small:n(3892),none:n(3893),none_small:n(3894),odp:n(3895),odp_small:n(3896),ods:n(3897),ods_small:n(3898),odt:n(3899),odt_small:n(3900),pcx:n(3901),pcx_small:n(3902),pdf:n(3903),pdf_small:n(3904),pls:n(3905),pls_small:n(3906),png:n(3907),png_small:n(3908),ppt:n(3909),ppt_small:n(3910),psd:n(3911),psd_small:n(3912),rar:n(3913),rar_small:n(3914),rtf:n(3915),rtf_small:n(3916),script:n(3917),script_small:n(3918),srt:n(3919),srt_small:n(3920),text:n(3921),text_small:n(3922),tiff:n(3923),tiff_small:n(3924),txt:n(3925),txt_small:n(3926),video:n(3927),video_small:n(3928),virus:n(3929),virus_small:n(3930),wav:n(3931),wav_small:n(3932),wma:n(3933),wma_small:n(3934),wmv:n(3935),wmv_small:n(3936),xls:n(3937),xls_small:n(3938),zip:n(3939),zip_small:n(3940)}},function(e,t,n){e.exports=n.p+"_/be0c25fae6f28871ac763354329b95c0-icon_file_ai.svg"},function(e,t,n){e.exports=n.p+"_/f48c196b35090778fcd477e08e7ee7e0-icon_file_ai_small.svg"},function(e,t,n){e.exports=n.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_application.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_application_small.svg"},function(e,t,n){e.exports=n.p+"_/e1b9a3f82960aa508919fe237a05e938-icon_file_archive.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_archive_small.svg"},function(e,t,n){e.exports=n.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_audio.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_audio_small.svg"},function(e,t,n){e.exports=n.p+"_/8e514b0d28a91fd04eff9577404451a0-icon_file_avi.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_avi_small.svg"},function(e,t,n){e.exports=n.p+"_/456a8e721cd77154a6699e7ab5655af5-icon_file_bmp.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_bmp_small.svg"},function(e,t,n){e.exports=n.p+"_/5d935a130b81cdfcabe3dbadfa48170a-icon_file_book.svg"},function(e,t,n){e.exports=n.p+"_/dd5c671fd26662680451258c237b8235-icon_file_book_small.svg"},function(e,t,n){e.exports=n.p+"_/0291b4bf4b4bed1b3d56ecca41398618-icon_file_cdr.svg"},function(e,t,n){e.exports=n.p+"_/db96f6ba4a8c633573d89f2feb5a73b0-icon_file_cdr_small.svg"},function(e,t,n){e.exports=n.p+"_/0d159a3403cd2f0efe68f73cc07289bf-icon_file_csv.svg"},function(e,t,n){e.exports=n.p+"_/457edf14c8a4f290b46eaf2b8ea632a1-icon_file_csv_small.svg"},function(e,t,n){e.exports=n.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_development.svg"},function(e,t,n){e.exports=n.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_development_small.svg"},function(e,t,n){e.exports=n.p+"_/09363f31f78d4c871df33d35bb5b0c85-icon_file_djvu.svg"},function(e,t,n){e.exports=n.p+"_/ea531aff61a9f1a23c543b839bac6f6d-icon_file_djvu_small.svg"},function(e,t,n){e.exports=n.p+"_/1a99bbd3e99b024c0cbc135ee0e4dc14-icon_file_doc.svg"},function(e,t,n){e.exports=n.p+"_/8cbf23c524fd0c5f45d57c960c3b6070-icon_file_doc_small.svg"},function(e,t,n){e.exports=n.p+"_/9afffbf2bbe57e8fcac5e1496d7b2a2f-icon_file_eml.svg"},function(e,t,n){e.exports=n.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_eml_small.svg"},function(e,t,n){e.exports=n.p+"_/1654660480f76471a3e8851b40f3635f-icon_file_exe.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_exe_small.svg"},function(e,t,n){e.exports=n.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_executable.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_executable_small.svg"},function(e,t,n){e.exports=n.p+"_/e84256a31ce119f5270cc29d00ce112f-icon_file_flash.svg"},function(e,t,n){e.exports=n.p+"_/f718f32f7d223a305da6b06c4443f16a-icon_file_flash_small.svg"},function(e,t,n){e.exports=n.p+"_/71c442515253e2426d87d2b36987e58f-icon_file_font.svg"},function(e,t,n){e.exports=n.p+"_/d9124c687ef254b35068cdf927a0378f-icon_file_font_small.svg"},function(e,t,n){e.exports=n.p+"_/6fa94aa8ec8a4b95e4c704142d48ea06-icon_file_general.svg"},function(e,t,n){e.exports=n.p+"_/1a28827c5c9284f36ffe64786a98958d-icon_file_general_small.svg"},function(e,t,n){e.exports=n.p+"_/4c62fa51e072aa2b518fe2a6d9bb7db8-icon_file_gif.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_gif_small.svg"},function(e,t,n){e.exports=n.p+"_/ae33662f545add06634646f8bfb3e589-icon_file_image.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_image_small.svg"},function(e,t,n){e.exports=n.p+"_/32ce8c6772ddda003a3a0852e3c94740-icon_file_jpg.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_jpg_small.svg"},function(e,t,n){e.exports=n.p+"_/4ccfbf5ff7ce7a45c862efb1b4d6b653-icon_file_mail.svg"},function(e,t,n){e.exports=n.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_mail_small.svg"},function(e,t,n){e.exports=n.p+"_/b2f512ff88f79b3294b4efe2d4a8b5b8-icon_file_mov.svg"},function(e,t,n){e.exports=n.p+"_/9b2fab88f730b87482cd0e9e63cf7d09-icon_file_mov_small.svg"},function(e,t,n){e.exports=n.p+"_/d9790f047adc4b433d6e6a158e4a4af9-icon_file_mp3.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_mp3_small.svg"},function(e,t,n){e.exports=n.p+"_/651a574e29a9bd70e69a08aa35d465a4-icon_file_mp4.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_mp4_small.svg"},function(e,t,n){e.exports=n.p+"_/43e6719ba9a6203e8c272a504e310664-icon_file_none.svg"},function(e,t,n){e.exports=n.p+"_/7a3ef1ba2a6c113d7179d418ddf6c734-icon_file_none_small.svg"},function(e,t,n){e.exports=n.p+"_/492af986844dd66c7c9c08faeaa261be-icon_file_odp.svg"},function(e,t,n){e.exports=n.p+"_/85a46315bf57cef959688396f751e0a5-icon_file_odp_small.svg"},function(e,t,n){e.exports=n.p+"_/a01de41907a6b40d2d5e833cff78bb95-icon_file_ods.svg"},function(e,t,n){e.exports=n.p+"_/6b6cb9ca67b2292a46b4887dc271df03-icon_file_ods_small.svg"},function(e,t,n){e.exports=n.p+"_/fe5ea288f8a12b89077a166baa72be67-icon_file_odt.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_odt_small.svg"},function(e,t,n){e.exports=n.p+"_/3a56b52fcac35e27a41edc34c5bdf140-icon_file_pcx.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_pcx_small.svg"},function(e,t,n){e.exports=n.p+"_/63407042e1ac46ce84554920cb97a928-icon_file_pdf.svg"},function(e,t,n){e.exports=n.p+"_/6ace91f4a13ebbf531a5e5069350d460-icon_file_pdf_small.svg"},function(e,t,n){e.exports=n.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_pls.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_pls_small.svg"},function(e,t,n){e.exports=n.p+"_/dbe8f2ed099d49557498dc3aeb694704-icon_file_png.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_png_small.svg"},function(e,t,n){e.exports=n.p+"_/249a420c64848c72217e2a184e43f73f-icon_file_ppt.svg"},function(e,t,n){e.exports=n.p+"_/209a4e8c1eb1d90a0651a98a085c9813-icon_file_ppt_small.svg"},function(e,t,n){e.exports=n.p+"_/1f8f597c9f16a782c31b466838ed961a-icon_file_psd.svg"},function(e,t,n){e.exports=n.p+"_/a1774f9682616e982d234977286a4186-icon_file_psd_small.svg"},function(e,t,n){e.exports=n.p+"_/545a441216bf5ee80228510904eb116e-icon_file_rar.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_rar_small.svg"},function(e,t,n){e.exports=n.p+"_/e63b78a5db4059aaee2b0a26c1e3391d-icon_file_rtf.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_rtf_small.svg"},function(e,t,n){e.exports=n.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_script.svg"},function(e,t,n){e.exports=n.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_script_small.svg"},function(e,t,n){e.exports=n.p+"_/18c4518b36edd61c4117de5697e34d9a-icon_file_srt.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_srt_small.svg"},function(e,t,n){e.exports=n.p+"_/87f98559ca8423415305508060e154df-icon_file_text.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_text_small.svg"},function(e,t,n){e.exports=n.p+"_/76f469d93774a8ee072e54a77d1316fb-icon_file_tiff.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_tiff_small.svg"},function(e,t,n){e.exports=n.p+"_/770496b1f8ba497f7932345b0fa99c51-icon_file_txt.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_txt_small.svg"},function(e,t,n){e.exports=n.p+"_/625b0925dfad9ad67792f8713df2c64d-icon_file_video.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_video_small.svg"},function(e,t,n){e.exports=n.p+"_/6ef89e854963e20536e4f8aa660df196-icon_file_virus.svg"},function(e,t,n){e.exports=n.p+"_/fd66b38f0fc39f598ef72d85a581214e-icon_file_virus_small.svg"},function(e,t,n){e.exports=n.p+"_/1929081a1ef2320eafe37d6b9dd4054f-icon_file_wav.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wav_small.svg"},function(e,t,n){e.exports=n.p+"_/ec94740e3493d44a0c0e871562ead7d8-icon_file_wma.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wma_small.svg"},function(e,t,n){e.exports=n.p+"_/7ff1c6877301e0d2ee8cbb522fbfabad-icon_file_wmv.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_wmv_small.svg"},function(e,t,n){e.exports=n.p+"_/1cbe1eb3da20a035610f7ae750e50507-icon_file_xls.svg"},function(e,t,n){e.exports=n.p+"_/beeb326ca3093a4cdf78631cf84d9777-icon_file_xls_small.svg"},function(e,t,n){e.exports=n.p+"_/7f653b60b459526c425e4e0a9d8ab1f4-icon_file_zip.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_zip_small.svg"},function(e,t,n){e.exports={"bigmail-48":n(3942),"blue-48":n(3943),"blue-al-48":n(3944),"blue-ar-48":n(3945),"camera-48":n(3946),"grey-48":n(3947),"narod-48":n(3948),"shared-foreign-48":n(3949),"shared-own-48":n(3950),"trash-48":n(3951)}},function(e,t,n){e.exports=n.p+"_/f091745b85a1b5a234262d98639f7977-b-mail-icon_bigmail-48.png"},function(e,t,n){e.exports=n.p+"_/fc6dedd3b3a5a8293ed040b648e45336-b-mail-icon_blue-48.png"},function(e,t,n){e.exports=n.p+"_/6d7e2b20aade0b9c2125ffdaba2f3879-b-mail-icon_blue-al-48.png"},function(e,t,n){e.exports=n.p+"_/85778cc2db9a7ac21ec2088b0e7576b3-b-mail-icon_blue-ar-48.png"},function(e,t,n){e.exports=n.p+"_/e3f41f309ccedf920fcf875c6859dc3f-b-mail-icon_camera-48.png"},function(e,t,n){e.exports=n.p+"_/9187087411a527777d76816620717fd3-b-mail-icon_grey-48.png"},function(e,t,n){e.exports=n.p+"_/0d93c6d7721c7992e63eb3d752498f8d-b-mail-icon_narod-48.png"},function(e,t,n){e.exports=n.p+"_/fa673c965dd4d8ea80f45948995212e5-b-mail-icon_shared-foreign-48.png"},function(e,t,n){e.exports=n.p+"_/dcdad2da9e9da84ebd34d544dd9713e8-b-mail-icon_shared-own-48.png"},function(e,t,n){e.exports=n.p+"_/f14d7be3bf0618dc524c5130570edfba-b-mail-icon_trash-48.png"},function(e,t,n){e.exports={"ai-48":n(3953),"application-48":n(3954),"archive-48":n(3955),"audio-48":n(3956),"avi-48":n(3957),"bmp-48":n(3958),"book-48":n(3959),"cdr-48":n(3960),"csv-48":n(3961),"development-48":n(3962),"djvu-48":n(3963),"doc-48":n(3964),"eml-48":n(3965),"exe-48":n(3966),"executable-48":n(3967),"flash-48":n(3968),"font-48":n(3969),"general-48":n(3970),"gif-48":n(3971),"image-48":n(3972),"jpg-48":n(3973),"mail-48":n(3974),"mov-48":n(3975),"mp3-48":n(3976),"mp4-48":n(3977),"none-48":n(3978),"odp-48":n(3979),"ods-48":n(3980),"odt-48":n(3981),"pcx-48":n(3982),"pdf-48":n(3983),"pls-48":n(3984),"png-48":n(3985),"ppt-48":n(3986),"psd-48":n(3987),"rar-48":n(3988),"rtf-48":n(3989),"script-48":n(3990),"srt-48":n(3991),"text-48":n(3992),"tiff-48":n(3993),"txt-48":n(3994),"video-48":n(3995),"virus-48":n(3996),"wav-48":n(3997),"wma-48":n(3998),"wmv-48":n(3999),"xls-48":n(4e3),"zip-48":n(4001)}},function(e,t,n){e.exports=n.p+"_/4e385ef712d228d9bd5fbe4e830f697a-b-mail-icon_ai-48.png"},function(e,t,n){e.exports=n.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_application-48.png"},function(e,t,n){e.exports=n.p+"_/44c2a8cbb02c8be528236ad80e1c3749-b-mail-icon_archive-48.png"},function(e,t,n){e.exports=n.p+"_/5546dd99a85e195918ed35d203f00bd1-b-mail-icon_audio-48.png"},function(e,t,n){e.exports=n.p+"_/531db7f7386660dc96ed2480eea5e98d-b-mail-icon_avi-48.png"},function(e,t,n){e.exports=n.p+"_/e7828e1b92baaa31c9905542822c79d6-b-mail-icon_bmp-48.png"},function(e,t,n){e.exports=n.p+"_/8ed95b3dece205227bb9354a232d4e4e-b-mail-icon_book-48.png"},function(e,t,n){e.exports=n.p+"_/a125276886063d2dd348dbfa5d4ef608-b-mail-icon_cdr-48.png"},function(e,t,n){e.exports=n.p+"_/8a101e1a660d145ef0542dfeac76da22-b-mail-icon_csv-48.png"},function(e,t,n){e.exports=n.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_development-48.png"},function(e,t,n){e.exports=n.p+"_/f1610434d25a0845ef89e10af2ca09e9-b-mail-icon_djvu-48.png"},function(e,t,n){e.exports=n.p+"_/50b19213ee10e722bd0f0dfe6b45abfb-b-mail-icon_doc-48.png"},function(e,t,n){e.exports=n.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_eml-48.png"},function(e,t,n){e.exports=n.p+"_/deda913cb7b171cd185ee662287e3a99-b-mail-icon_exe-48.png"},function(e,t,n){e.exports=n.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_executable-48.png"},function(e,t,n){e.exports=n.p+"_/f56d2249fc66d6e045d9e47209b0d74c-b-mail-icon_flash-48.png"},function(e,t,n){e.exports=n.p+"_/75702f8ffcf90cb4a8c265f912bb2fb3-b-mail-icon_font-48.png"},function(e,t,n){e.exports=n.p+"_/83abfae7075037224e16a9856f1515d4-b-mail-icon_general-48.png"},function(e,t,n){e.exports=n.p+"_/7d3a81c7159dc88073d2c8b68869454c-b-mail-icon_gif-48.png"},function(e,t,n){e.exports=n.p+"_/b30d721e5ec76d5df6e9f5a15f2a8b84-b-mail-icon_image-48.png"},function(e,t,n){e.exports=n.p+"_/70c29e00d2a9726e144663682092d3f2-b-mail-icon_jpg-48.png"},function(e,t,n){e.exports=n.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_mail-48.png"},function(e,t,n){e.exports=n.p+"_/fa85671858f6608a793c6b096013063d-b-mail-icon_mov-48.png"},function(e,t,n){e.exports=n.p+"_/eea5f29ba3d27dcc00790eea34ccbc4a-b-mail-icon_mp3-48.png"},function(e,t,n){e.exports=n.p+"_/7863254ebbc5c8c78d6684036dd56e54-b-mail-icon_mp4-48.png"},function(e,t,n){e.exports=n.p+"_/865da2b10d5c239280d12a6a2d1cfc56-b-mail-icon_none-48.png"},function(e,t,n){e.exports=n.p+"_/bb78c17d4956f3c27fb093d4cc9f2165-b-mail-icon_odp-48.png"},function(e,t,n){e.exports=n.p+"_/d2be1f2f1b208b727ab25d975a6aa242-b-mail-icon_ods-48.png"},function(e,t,n){e.exports=n.p+"_/3a6fa3be2bc661254803e1cec44d6a74-b-mail-icon_odt-48.png"},function(e,t,n){e.exports=n.p+"_/6f15de29744870eea9bbc45b4d169b8e-b-mail-icon_pcx-48.png"},function(e,t,n){e.exports=n.p+"_/fdec035fb674765bb14a832dfa0b7d71-b-mail-icon_pdf-48.png"},function(e,t,n){e.exports=n.p+"_/71e12247108f4576db7fe671dc7d6fa8-b-mail-icon_pls-48.png"},function(e,t,n){e.exports=n.p+"_/7bb7cd24c9c082144c869461098b942d-b-mail-icon_png-48.png"},function(e,t,n){e.exports=n.p+"_/90b3b830b932584838d1ac60e17410dc-b-mail-icon_ppt-48.png"},function(e,t,n){e.exports=n.p+"_/4f46be9bd8f9a9514aa95e1067d45bc3-b-mail-icon_psd-48.png"},function(e,t,n){e.exports=n.p+"_/f3fb7200d501406775330789bd1c5572-b-mail-icon_rar-48.png"},function(e,t,n){e.exports=n.p+"_/d1d14ac25b7f79969dcb8a6d144746bc-b-mail-icon_rtf-48.png"},function(e,t,n){e.exports=n.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_script-48.png"},function(e,t,n){e.exports=n.p+"_/9df67b0fb763e21eeb5c41fd90030d9a-b-mail-icon_srt-48.png"},function(e,t,n){e.exports=n.p+"_/66b914b832fe6c8fa067a5b0089b757d-b-mail-icon_text-48.png"},function(e,t,n){e.exports=n.p+"_/d89d636f51a2933563e5da67186214e3-b-mail-icon_tiff-48.png"},function(e,t,n){e.exports=n.p+"_/7220ce68b5ee138e632cafa81f524cf3-b-mail-icon_txt-48.png"},function(e,t,n){e.exports=n.p+"_/a613c67aa33b5fd98cbd92b34e68cd49-b-mail-icon_video-48.png"},function(e,t,n){e.exports=n.p+"_/64196e074946510cd6a0a972ca941cc9-b-mail-icon_virus-48.png"},function(e,t,n){e.exports=n.p+"_/2384c49baee44858d49e5ba8d3ae7deb-b-mail-icon_wav-48.png"},function(e,t,n){e.exports=n.p+"_/aadc497975dd4d130a89b5a2d7ec65db-b-mail-icon_wma-48.png"},function(e,t,n){e.exports=n.p+"_/82f77cdc49c93261ae20418b44bb07cd-b-mail-icon_wmv-48.png"},function(e,t,n){e.exports=n.p+"_/675e5e02afcbe8d1b60862d4bffbb326-b-mail-icon_xls-48.png"},function(e,t,n){e.exports=n.p+"_/ee0403d4a88e96ecc0c3d604bcbfa2c6-b-mail-icon_zip-48.png"},function(e,t,n){e.exports={"ai-96":n(4003),"application-96":n(4004),"archive-96":n(4005),"audio-96":n(4006),"avi-96":n(4007),"bmp-96":n(4008),"book-96":n(4009),"cdr-96":n(4010),"csv-96":n(4011),"development-96":n(4012),"djvu-96":n(4013),"doc-96":n(4014),"eml-96":n(4015),"exe-96":n(4016),"executable-96":n(4017),"flash-96":n(4018),"font-96":n(4019),"general-96":n(4020),"gif-96":n(4021),"image-96":n(4022),"jpg-96":n(4023),"mail-96":n(4024),"mov-96":n(4025),"mp3-96":n(4026),"mp4-96":n(4027),"none-96":n(4028),"odp-96":n(4029),"ods-96":n(4030),"odt-96":n(4031),"pcx-96":n(4032),"pdf-96":n(4033),"pls-96":n(4034),"png-96":n(4035),"ppt-96":n(4036),"psd-96":n(4037),"rar-96":n(4038),"rtf-96":n(4039),"script-96":n(4040),"srt-96":n(4041),"text-96":n(4042),"tiff-96":n(4043),"txt-96":n(4044),"video-96":n(4045),"virus-96":n(4046),"wav-96":n(4047),"wma-96":n(4048),"wmv-96":n(4049),"xls-96":n(4050),"zip-96":n(4051)}},function(e,t,n){e.exports=n.p+"_/48bfa0dee7eef7cf87c66a11b7d73eff-b-mail-icon_ai-96.png"},function(e,t,n){e.exports=n.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_application-96.png"},function(e,t,n){e.exports=n.p+"_/ca4a0528e4aa9ebae001edc512a3a670-b-mail-icon_archive-96.png"},function(e,t,n){e.exports=n.p+"_/bcac10759c4be79410c3d4de3d100268-b-mail-icon_audio-96.png"},function(e,t,n){e.exports=n.p+"_/2cd7518aee9e4446bc106dac12f65a99-b-mail-icon_avi-96.png"},function(e,t,n){e.exports=n.p+"_/cf2a0fd2dc42a46e0fef99c417039e59-b-mail-icon_bmp-96.png"},function(e,t,n){e.exports=n.p+"_/c399ce3cb6e0b3c01605692ba4440f8c-b-mail-icon_book-96.png"},function(e,t,n){e.exports=n.p+"_/a82045b44b9e51d865a8fa19ee80dab3-b-mail-icon_cdr-96.png"},function(e,t,n){e.exports=n.p+"_/ef1baf8e2912e51ae577820c5d29a6b8-b-mail-icon_csv-96.png"},function(e,t,n){e.exports=n.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_development-96.png"},function(e,t,n){e.exports=n.p+"_/7680f293494ce5833276c8dbd507ac57-b-mail-icon_djvu-96.png"},function(e,t,n){e.exports=n.p+"_/1426d27c6297d6b9ce5e84118c105a49-b-mail-icon_doc-96.png"},function(e,t,n){e.exports=n.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_eml-96.png"},function(e,t,n){e.exports=n.p+"_/1cbd4434134e53cb0f16e46d31584d9f-b-mail-icon_exe-96.png"},function(e,t,n){e.exports=n.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_executable-96.png"},function(e,t,n){e.exports=n.p+"_/33acc5a1a4f3812a0bc917ece06d94a0-b-mail-icon_flash-96.png"},function(e,t,n){e.exports=n.p+"_/659737cfafab5eff1b0a025a5343daa9-b-mail-icon_font-96.png"},function(e,t,n){e.exports=n.p+"_/ef432d2df3fd2d4818d65b3bd9de5047-b-mail-icon_general-96.png"},function(e,t,n){e.exports=n.p+"_/c0784b06bc7bc8a0f8d8eeb4e8f17329-b-mail-icon_gif-96.png"},function(e,t,n){e.exports=n.p+"_/51504742ad5fb671fc3083e3cac264ab-b-mail-icon_image-96.png"},function(e,t,n){e.exports=n.p+"_/8c3fb57b09910dcc21bf0f4a014e5676-b-mail-icon_jpg-96.png"},function(e,t,n){e.exports=n.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_mail-96.png"},function(e,t,n){e.exports=n.p+"_/4c831411ff9fa41d5e9ba39931488ba8-b-mail-icon_mov-96.png"},function(e,t,n){e.exports=n.p+"_/62a2a35587d6b61dcc18d0733083ef1f-b-mail-icon_mp3-96.png"},function(e,t,n){e.exports=n.p+"_/7a9838ac557c84c1e0c8097c3f286315-b-mail-icon_mp4-96.png"},function(e,t,n){e.exports=n.p+"_/f88a6bf72ea39effa43046d3aec327e4-b-mail-icon_none-96.png"},function(e,t,n){e.exports=n.p+"_/2b450534ed8d41646bf981ca1615e5af-b-mail-icon_odp-96.png"},function(e,t,n){e.exports=n.p+"_/f36f9954b74e58239dbc52ab944e533f-b-mail-icon_ods-96.png"},function(e,t,n){e.exports=n.p+"_/f513a1349b439dc39c88fcdf5e6aaa1c-b-mail-icon_odt-96.png"},function(e,t,n){e.exports=n.p+"_/320170650145c57245743df641921ede-b-mail-icon_pcx-96.png"},function(e,t,n){e.exports=n.p+"_/aad3d55899b7c5f38bfce9cfea1b3f5e-b-mail-icon_pdf-96.png"},function(e,t,n){e.exports=n.p+"_/0ee560e23f001c260f3414d8a190290e-b-mail-icon_pls-96.png"},function(e,t,n){e.exports=n.p+"_/83fe16725c9809514f618229a825f4f5-b-mail-icon_png-96.png"},function(e,t,n){e.exports=n.p+"_/9f0d56fad062a48591970a2f8e73f714-b-mail-icon_ppt-96.png"},function(e,t,n){e.exports=n.p+"_/9868804d06ad80df80953fb72c1e8f47-b-mail-icon_psd-96.png"},function(e,t,n){e.exports=n.p+"_/d0acba6652cc3e79c621ad290db87cde-b-mail-icon_rar-96.png"},function(e,t,n){e.exports=n.p+"_/e9084c3b7a3c76fcf1604bb6b0bd9d17-b-mail-icon_rtf-96.png"},function(e,t,n){e.exports=n.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_script-96.png"},function(e,t,n){e.exports=n.p+"_/76d3d42609d0e658bf4978f389fca70d-b-mail-icon_srt-96.png"},function(e,t,n){e.exports=n.p+"_/9c91697c9290a77141a8d69bac54912e-b-mail-icon_text-96.png"},function(e,t,n){e.exports=n.p+"_/7c389b93c4b813e2cfc931d5864c4215-b-mail-icon_tiff-96.png"},function(e,t,n){e.exports=n.p+"_/260dbdda0f9ca156edd19432b504d472-b-mail-icon_txt-96.png"},function(e,t,n){e.exports=n.p+"_/6c0386fa3508c7814aa5bcb902c753f0-b-mail-icon_video-96.png"},function(e,t,n){e.exports=n.p+"_/cb70ba9f5428704c6cf851b642c01b3e-b-mail-icon_virus-96.png"},function(e,t,n){e.exports=n.p+"_/31d309bd02cb7decb1149e63c5214d31-b-mail-icon_wav-96.png"},function(e,t,n){e.exports=n.p+"_/b142e97afd9db49149a06b14eac16267-b-mail-icon_wma-96.png"},function(e,t,n){e.exports=n.p+"_/0e622d34993b49b3222195f53cf1741a-b-mail-icon_wmv-96.png"},function(e,t,n){e.exports=n.p+"_/5049f31b6ad918d5977d03879f664ad7-b-mail-icon_xls-96.png"},function(e,t,n){e.exports=n.p+"_/1057b6af9481d314a64e8756ee872f46-b-mail-icon_zip-96.png"},function(e,t,n){e.exports={aol:n(4053),gmail:n(4054),hotmail:n(4055),mail:n(4056),mynet:n(4057),"narod-disk":n(4058),outlook:n(4059),qip:n(4060),rambler:n(4061),tutby:n(4062),yahoo:n(4063),yandex:n(4064),yandex_en:n(4065)}},function(e,t,n){e.exports=n.p+"_/a05626800a96abe8faaac1392a2ad337-aol.png"},function(e,t,n){e.exports=n.p+"_/9b1f923e766689d2be2243dbb486e189-gmail.png"},function(e,t,n){e.exports=n.p+"_/cbaa76e2094ee925756334cac36448cf-hotmail.png"},function(e,t,n){e.exports=n.p+"_/75c6df658cb90713f21ba17d08dddda9-mail.png"},function(e,t,n){e.exports=n.p+"_/3df72c8dfea553b3ce4fca279fd40c26-mynet.png"},function(e,t,n){e.exports=n.p+"_/bea3e69fc0e43f47278237c797c347d0-narod-disk.png"},function(e,t,n){e.exports=n.p+"_/e32fdbcbfcd12488359854854b05bd2a-outlook.png"},function(e,t,n){e.exports=n.p+"_/3ae9fc94cfc81852fbc0632d62db118e-qip.png"},function(e,t,n){e.exports=n.p+"_/1e98a3ac9550b9a9be26d946474907f4-rambler.png"},function(e,t,n){e.exports=n.p+"_/d9acaaef2a8b6ebe2de55e0958e26cd7-tutby.png"},function(e,t,n){e.exports=n.p+"_/16798af393b000d6660dcf9d40471f14-yahoo.png"},function(e,t,n){e.exports=n.p+"_/a59909a455d3f5fc2b7248f2a5efc17f-yandex.png"},function(e,t,n){e.exports=n.p+"_/4c43487a92bc3ccee98543a4c819701c-yandex_en.png"},function(e,t,n){e.exports={az:n(4067),be:n(4068),en:n(4069),hy:n(4070),ka:n(4071),kk:n(4072),ro:n(4073),ru:n(4074),tr:n(4075),tt:n(4076),uk:n(4077),uz:n(4078)}},function(e,t,n){e.exports=n.p+"_/6dd6e15c8551deb21373d19aea1d067c-b-mail-icon_lang-az.gif"},function(e,t,n){e.exports=n.p+"_/8677dfed64c931dd3b426727b005ce4e-b-mail-icon_lang-be.gif"},function(e,t,n){e.exports=n.p+"_/9287de8c1f93ef82114c0d52a5ecdd2c-b-mail-icon_lang-en.gif"},function(e,t,n){e.exports=n.p+"_/763ede66e8fd2ad17951261cfc18a737-b-mail-icon_lang-hy.gif"},function(e,t,n){e.exports=n.p+"_/541d340c43dffd331ea19453c505c151-b-mail-icon_lang-ka.gif"},function(e,t,n){e.exports=n.p+"_/48848f048d84b60111b5fe6e5f3ad29f-b-mail-icon_lang-kk.gif"},function(e,t,n){e.exports=n.p+"_/ffba23df3618cdb57029a2fdf372c043-b-mail-icon_lang-ro.gif"},function(e,t,n){e.exports=n.p+"_/1624dbd739e623729b99da358ec8d9de-b-mail-icon_lang-ru.gif"},function(e,t,n){e.exports=n.p+"_/9d864c518442b77e5f7460f1124fc91a-b-mail-icon_lang-tr.gif"},function(e,t,n){e.exports=n.p+"_/13ea19e44b02151cd968a9329361e33d-b-mail-icon_lang-tt.gif"},function(e,t,n){e.exports=n.p+"_/d022e48f407b2410e7fe528f79a8f2ff-b-mail-icon_lang-uk.gif"},function(e,t,n){e.exports=n.p+"_/7b924141e38e5f89b0c8335e296d3ace-b-mail-icon_lang-uz.gif"},function(e,t,n){e.exports={"facebook.com":n(4080),"moikrug.ru":n(4081),"my.mail.ru":n(4082),"odnoklassniki.ru":n(4083)}},function(e,t,n){e.exports=n.p+"_/967824736368482c7687caab03715e9d-b-site-icon_facebook.com-14.png"},function(e,t,n){e.exports=n.p+"_/82bf97fe3902f37dae35866fb89b4b84-b-site-icon_moikrug.ru-14.png"},function(e,t,n){e.exports=n.p+"_/482f2cfb194e122f2ea9ba9cbd892630-b-site-icon_my.mail.ru-14.png"},function(e,t,n){e.exports=n.p+"_/ba34f63cb7305df1f6c9969065eeb7f2-b-site-icon_odnoklassniki.ru-14.png"},function(e,t,n){e.exports={"MailAppLink-ru.png":n(4085),"MailAppLink-ru@2x.png":n(4086),"MailAppLink-en.png":n(4087),"MailAppLink-en@2x.png":n(4088),"MailAppLink-uk.png":n(4089),"MailAppLink-uk@2x.png":n(4090),"MailAppLink-tr.png":n(4091),"MailAppLink-tr@2x.png":n(4092),"MailAppLink2-ru.png":n(4093),"MailAppLink2-ru@2x.png":n(4094),"MailAppLink2-en.png":n(4095),"MailAppLink2-en@2x.png":n(4096),"MailAppLink2-uk.png":n(4097),"MailAppLink2-uk@2x.png":n(4098),"MailAppLink2-tr.png":n(4099),"MailAppLink2-tr@2x.png":n(4100),"MailAppLink3-ru.png":n(4101),"MailAppLink3-ru@2x.png":n(4102),"MailAppLink3-en.png":n(4103),"MailAppLink3-en@2x.png":n(4104),"MailAppLink3-uk.png":n(4105),"MailAppLink3-uk@2x.png":n(4106),"MailAppLink3-tr.png":n(4107),"MailAppLink3-tr@2x.png":n(4108)}},function(e,t,n){e.exports=n.p+"_/80e0e2a71f3c5a3e71578ec4b68d1de9-Devices_ru.png"},function(e,t,n){e.exports=n.p+"_/efb907fc047ee920cd91223b1c6fef0e-Devices_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/580cf7493354657f2d5517397977b9fd-Devices_en.png"},function(e,t,n){e.exports=n.p+"_/becf8b3cc644139ac1ec219d95f68288-Devices_en@2x.png"},function(e,t,n){e.exports=n.p+"_/5d097f13a1a63c488cddb98cda8d71db-Devices_uk.png"},function(e,t,n){e.exports=n.p+"_/faeed2756a72fc30cb2296205fe190cd-Devices_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/13cb0f59af2b71261987ca4db82c334d-Devices_tr.png"},function(e,t,n){e.exports=n.p+"_/d6e8f0b205c356e49fc9e592c98f5138-Devices_tr@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_ru.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_en.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_en@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_uk.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_tr.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_tr@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_ru.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_en.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_en@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_uk.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_tr.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_tr@2x.png"},function(e,t,n){n(4110),n(4111),n(4112),n(4113),n(4114),n(4115),n(4116),n(4118),n(4119),n(4120),n(4121),n(4122),n(4123),n(4124),n(4125),n(4126),n(4127),n(4128),n(4129),n(4130),n(4131),n(4132),n(4133),n(4134),n(4135),n(4136),n(4137),n(4138),n(4139),n(4140),n(4141),n(4142),n(4143),n(4144),n(4145),n(4146),n(4147),n(4148),n(4149),n(4150),n(4151),n(4152),n(4153),n(4154),n(4155),n(4156),n(4157),n(4158),n(4159),n(4160),n(4161),n(4162),n(4163),n(4164),n(4165),n(4166),n(4167),n(4168),n(4169),n(4170),n(4171),n(4172),n(4173),n(4174),n(4175),n(4176),n(4177),n(4178),n(4179),n(4180),n(4181),n(4182),n(4183),n(4185),n(4186),n(4187),n(4188),n(4189),n(4190),n(4191),n(4192),n(4193),n(4194),n(4195),n(4196),n(4197),n(4198),n(4199),n(4200),n(4201),n(4202),n(4203),n(4204),n(4205),n(4206),n(4207),n(4208),n(4209),n(4210),n(4211),n(4212),n(4213),n(4214),n(4215),n(4216),n(4217),n(4218),n(4219),n(4220),n(4221),n(4222),n(4223),n(4224),n(4225),n(4226),n(4227),n(4228),n(4229),n(4230),n(4231),n(4232),n(4233),n(4234),n(4235),n(4236),n(4237),n(4238),n(4239),n(4240),n(4241),n(4242),n(4243),n(4244),n(4245),n(4246),n(4256)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136),i=(n.n(r),n(137));n.n(i);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,t){return Object(r.set)(e,t,!0)},t)};ns.Model.define("checkbox-tree-state",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){this.setData({subscribedFolders:ns.Model.get("settings").getSign("subscribed_folders"),subscribedTabs:ns.Model.get("settings").getSign("subscribed_tabs"),hashOfFoldedFids:{}})},getFolderTree:function(){return Object(r.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder)[0])},getOnlyUserFoldersTree:function(){return{items:Object(r.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder,!0,!0)).map(function(e){return e.level-=1,e})}},getFoldersTabsList:function(){return ns.Model.get("tabs").getFoldersTabsList()},filterFolder:function(e){return!e.shared},getSelectedFids:function(){return this.get(".subscribedFolders")},getSelectedTabIds:function(){return this.get(".subscribedTabs")},setSelectedFids:function(e,t){t=t||{},this.set(".subscribedFolders",e.sort(),t)},setSelectedTabIds:function(e,t){t=t||{},this.set(".subscribedTabs",e.sort(),t)},isSelectionEmpty:function(){return 0===this.getSelectedFids().length},isSelectionTabsEmpty:function(){return 0===this.getSelectedTabIds().length},isAllSelectionEmpty:function(){return Daria.areFoldersTabsEnabled()?this.isSelectionEmpty()&&this.isSelectionTabsEmpty():this.isSelectionEmpty()},isSelected:function(e){return-1!==this.getSelectedFids().indexOf(e)},isTabSelected:function(e){return-1!==this.getSelectedTabIds().indexOf(e)},areAllFoldersSelected:function(e){var t=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),n=this.getFidsOfInboxWithSubfolders(),r=e?n.filter(function(e){return e!==t}):n;return this.getSelectedFids().length===r.length},areAllTabsSelected:function(){return this.getSelectedTabIds().length===ns.Model.get("tabs").getFoldersTabsIds().length},areAllSelected:function(){return Daria.areFoldersTabsEnabled()?this.areAllFoldersSelected(!0)&&this.areAllTabsSelected():this.areAllFoldersSelected()},getFidsOfInboxWithSubfolders:function(){return this.getFidsOfFolderAndSubfolders(this.getFolderTree())},calcSelectedFids:function(e,t,n){var r=e.fid;if(r===t)return n?this.getFidsOfFolderAndSubfolders(e):[];var i=(e.items||[]).reduce(function(e,r){return e.concat(this.calcSelectedFids(r,t,n))}.bind(this),[]);return this.isSelected(r)?i.concat(r):i},calcSelectedTabIds:function(e,t){var n=this,i=ns.Model.get("tabs").getFoldersTabsIds();return Object(r.filter)(i,function(r){var i=r===e&&t,o=r!==e&&n.getSelectedTabIds().indexOf(r)>=0;return i||o})},getFidsOfFolderAndSubfolders:function(e){var t=(e.items||[]).reduce(function(e,t){return e.concat(this.getFidsOfFolderAndSubfolders(t))}.bind(this),[]);return[e.fid].concat(t)},getHashOfSelectedFids:function(){return s(this.getSelectedFids())},getHashOfSelectedTabIds:function(){return s(this.getSelectedTabIds())},getHashOfHighlightedFids:function(){var e=this.setParentFids(this.getFolderTree()),t=this.getHashOfFolders(e);return this.getSelectedFids().reduce(function(e,n){return t[n]?s(t[n].parentFids):e},{})},getHashOfHighlightedTabIds:function(){return s(this.getSelectedTabIds())},_isInboxFolderWasSubscribed:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX);return this.isSelected(e)},_isInboxTabWasSubscribed:function(){return this.isTabSelected("relevant")},setParentFids:function(e,t){return e.parentFids=t||[],(e.items||[]).forEach(function(t){this.setParentFids(t,e.parentFids.concat(e.fid))},this),e},getHashOfFolders:function(e,t){return t=t||{},e.fid&&(t[e.fid]=e),(e.items||[]).forEach(function(n){t[n.fid]=e,this.getHashOfFolders(n,t)},this),t},serializeSelectedFids:function(){return JSON.stringify(this.getSelectedFids())},serializeSelectedTabsIds:function(){return JSON.stringify(this.getSelectedTabIds())},resetSelectedFids:function(){this.set(".subscribedFolders",ns.Model.get("settings").getSign("subscribed_folders"))},resetSelectedTabIds:function(){this.set(".subscribedTabs",ns.Model.get("settings").getSign("subscribed_tabs"))},reset:function(){this.resetSelectedFids(),Daria.areFoldersTabsEnabled()&&this.resetSelectedTabIds()},_resubscribe:function(){return Daria.PushManager.subscribe(this.getSelectedFids(),this.getSelectedTabIds(),!0)},resubscribeOnFoldersTabsNotifications:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ns.Model.get("settings").getSetting("browser_notify_message")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._updateSettings(t);case 5:return e.next=7,this._resubscribe();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),shouldSyncronizeInbox:function(e){return Boolean(Object.keys(e).length)},syncronizeInboxBetween:function(e){var t={};return e?this._isInboxFolderWasSubscribed()&&Object.assign(t,this._unsubscribeInboxFolder(),this._subscribeOnlyInboxTab()):this._isInboxTabWasSubscribed()?Object.assign(t,this._unsubscribeAllTabs(),this._subscribeInboxFolder()):this.getSelectedTabIds().length&&Object.assign(t,this._unsubscribeAllTabs()),t},_updateSettings:function(e){return ns.Model.get("settings").setSettings(e,{silent:!0})},_subscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids();return this.setSelectedFids([].concat(o(t),[e]),{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_unsubscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids(),n=Object(r.filter)(t,function(t){return t!==e});return this.setSelectedFids(n,{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_subscribeOnlyInboxTab:function(){return this.setSelectedTabIds(["relevant"],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}},_unsubscribeAllTabs:function(){return this.setSelectedTabIds([],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}}}},ns.ModelStatic)},function(e,t){ns.Model.define("captcha",{params:{type:null},methods:{preprocessData:function(e){return e.url&&(e.url=e.url.replace(/^https?:/,"")),e}}})},function(e,t){ns.Model.define("captcha-check",{params:{type:null,captcha_key:null,captcha_entered:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405);ns.Model.define("model-with-scenario-manager-mixin",{methods:{scenarioManager:r.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(405);ns.Model.define("model-collection-with-scenario-manager-mixin",{methods:{scenarioManager:r.a}},ns.ModelCollection)},function(e,t){ns.Model.define("app-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({asideSizeKind:"maximum",pageClasses:{},timelineHeight:0,mailLayoutClientRect:null})},updatePageClasses:function(e){var t=this.get(".pageClasses"),n=Object.keys(e).filter(function(n){return t[n]!==e[n]});n.length&&this.set(".pageClasses",Object.assign({},t,_.pick(e,n)))},updateAsideKind:function(e){this.setIfChanged(".asideSizeKind",e)}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4117),i="app_badge_up_to_date_"+Daria.uid,o="function"==typeof navigator.setAppBadge&&"function"==typeof navigator.clearAppBadge,a=new r.a(i,1e4);ns.Model.define("app-badge-counter",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){o&&(this.update=a.debounced(this.update.bind(this),Vow.resolve()),ns.events.on("xiva.mail.update",this.update),ns.events.on("xiva.mail.insert",this.update))},_request:function(){var e=this;return ns.request.fetchModels([this],{_uid:void 0}).then(function(t){return ns.request.extractModel(e,t.models[0],t),e})},_setBadge:function(){this.data&&this.data.counters&&o&&navigator.clearAppBadge()},update:function(){var e=this;return o?this._request().then(function(){return e._setBadge(),e}):Vow.resolve()},getRequestParams:function(){return{uid:Daria.uid}},request:function(){return this.update()}}})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",function(){return i});var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._getCookieValue=_.memoize(function(){return Daria.getCookie(r.cookieName)},function(){return document.cookie}),this._markAsActive=function(){return Daria.setCookie(r.cookieName,1,{expires:new Date(Date.now()+r.timeout).toGMTString(),path:"/"})},this._canExecuteNow=function(){return!r._getCookieValue()},this._postponeExecution=function(e){setTimeout(function(){r._canExecuteNow()&&r._exec(e)},r.timeout+50)},this._exec=function(e){return r._markAsActive(),e()},this.cookieName=t,this.timeout=n}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"debounced",value:function(e,t){var n=this;return function(){return n._canExecuteNow()?n._exec(e):(n._postponeExecution(e),t)}}}]),e}()},function(e,t){!function(){var e={inbox:"Messages",mail:"Mail",search:"Search",contacts:"Contacts",disk:"Disc",money:"Money",portal:"Connect",q:"Q",calendar:"Calendar",wiki:"Wiki",staff:"Staff",invite:"Invite"};ns.Model.define("user-dropdown-data",{methods:{getData:function(){var t=this.data||{};if(t.services=[],!Daria.CompactMode.isCompactHeader())return t;var n=Daria.IS_CORP?function(e){var t=[{id:"calendar",content:i18n("%Tab_calendar"),href:Daria.Config["calendar-url"]},{id:"invite",content:i18n("%Tab_invite"),href:Daria.Config["calendar-url"]+"/invite/"}];return"abook"===e?t.push({id:"mail",content:i18n("%Tab_mail"),href:"#inbox"}):t.push({id:"contacts",content:i18n("%Tab_contacts"),href:"#contacts"}),t}(ns.page.current.page):ns.Model.get("index-data").get(".tabs.head");return t.services=n.map(function(t){return{url:t.href,title:t.content,metrikaTitle:e[t.id]}}),t},getFreshCountByUid:function(e){var t=this.get(".accounts"),n=0;return t&&t.some(function(t){return Number(t.uid)===Number(e)&&(n=Number(t["fresh-count"]||0),!0)}),n},setNewCountById:function(e,t){var n=this.getData();n&&Array.isArray(n.accounts)&&n.accounts.length&&(n.accounts.forEach(function(r,i){Number(r.uid)===Number(e)&&(n.accounts[i]["fresh-count"]=t)}),this.data=n)},getSumOfFresh:function(){var e=this.getData(),t=0;return e&&Array.isArray(e.accounts)&&e.accounts.length&&e.accounts.forEach(function(e){t+=Number(e["fresh-count"]||0)}),t},getFreshForDefault:function(){return this.getFreshCountByUid(Daria.uid)}}})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(359),i=(n.n(r),n(358));n.n(i);ns.Model.define("abook-groups",{events:{"ns-model-changed":function(){var e=this.getData(),t=jpath(e,'.tag[.type == "system" && .title == "Phone"]')[0];t&&(t.type="phone",t.title=i18n("%AK_Phone_Contacts")),this.data=e}},methods:{RETRY_LIMIT:1,getGroupByTitle:function(e){return jpath(this.data,'.tag[.title == "'+e+'"]')[0]},getGroupByTid:function(e){return jpath(this.data,'.tag[.tid == "'+e+'"]')[0]},getContactsCount:function(e){var t=e.mcids.map(this._getCid);return _.uniq(t).length},isPhoneGroup:function(e){return"phone"===this.getGroupByTid(e).type},getPhoneGroupTid:function(){var e=this.getData(),t=jpath(e,'.tag[.type == "phone"]')[0];return t&&t.tid},addToGroup:function(e){var t=this,n={tids:[e.tid],mcids:e.mcids,action:"add"};return this.isPhoneGroup(e.tid)&&(n.mcids=_.uniq(n.mcids.map(this._getCid))),this._doGroupAction(n).then(function(){var o=t.getGroupByTid(e.tid).title;Object(i.showSuccessMessage)(r.StatuslineName.AbookContactsAddedToGroup,i18n("%AK_contacts_added_to_group",t.getContactsCount(n),o))})},removeFromGroup:function(e){return this._doGroupAction({tids:e.tids,mcids:e.mcids,action:"rm"})},_getCid:function(e){return String(e).split(".")[0]},_doGroupAction:function(e){var t=$.Deferred(),n=e.tids,r=e.mcids;if(n.length&&r.length){var i={tid:n,mcid:this._getSimpleMcids(r),action:e.action};return ns.forcedRequest("do-abook-group-edit-contacts",i).then(function(){Daria.Autocompleter.getContact().flushCache(),Daria.Dropdown.closeAll(),["abook-groups","abook-contact","abook-contacts"].forEach(function(e){ns.Model.invalidate(e)}),t.resolve()}),t.promise()}},_getSimpleMcids:function(e){var t=this;return e.map(function(e){return Array.isArray(e)?e.map(t._simplifyMcid):t._simplifyMcid(e)})},_simplifyMcid:function(e){return String(e).split(".").slice(0,2).join(".")}}})},function(e,t){ns.Model.define("do-abook-group-add",{params:{title:null,mcid:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.Model.define("abook-contact",{params:{email:null,cid:null,shared:null,mailboxUid:null},paramsRewrite:function(e){return null!=e.cid?{cid:e.cid,shared:Daria.toIntFlag(e.shared)}:e},methods:{RETRY_LIMIT:1,preprocessData:function(e){if(Object(r.hasFeature)(r.Features.WEB_SMART_DISPLAY_NAME)&&e.name){var t=e.name,n=t.last,i=t.first,o=t.middle;e.name.full=[n,i,o].filter(Boolean).join(" ")}return e},getContactInfo:function(e,t){e=e||{};var n=this.getData();return n?Daria.Abook.formatContactInfo(n,e,t):{}},getPhone:function(){return this.select(".phone.value")[0]||null},getMcids:function(e){var t=this,n=this.getData(),r=[];return this.eachEmailsByTid(e,function(e){r.push(t.getMcidByEmailId(e.id))}),r.length||(r=[String(n.cid)]),r},getMcidByEmailId:function(e){return"".concat(this.get(".cid"),".").concat(e,".").concat(this.isShared()?1:0)},eachEmailsByTid:function(e,t){var n=this.get(".email");if(_.isFunction(e)&&(t=e),e=Number(e),_.isFunction(t)){var r=ns.Model.get("abook-groups");_.each(n,function(n){if(!e||r.isPhoneGroup(e)||_(n.tags).contains(e))return t(n)})}},filterEmailsByTid:function(e){var t=this.get(".email");e=Number(e);var n=ns.Model.get("abook-groups");return!e||n.isPhoneGroup(e)?t:_(t).filter(function(t){if(_(t.tags).contains(e))return t}).value()},yateFilterEmailsByTid:function(e){return e=yr.nodeset2scalar(e),this.filterEmailsByTid(e)},yateGetMcidContacts:function(e){var t=this.yateFilterEmailsByTid(e),n=this.getData();return _.map(t,function(e){var t=_.clone(n);return t.email=[e],t})},getRefByEmail:function(e){var t=_.find(this.get(".email"),{value:e});return t?t.ref:void 0},getEmailByMcid:function(e){e=String(e);var t=Number(e.split(".")[1]),n=_.find(this.getData().email,{id:t});return n?n.value:null},getHeadEmail:function(){return this.select(".email.value")[0]||null},getName:function(){return this.get(".name.full")||(this.getHeadEmail()||"").split("@")[0]},getDepartment:function(){return this.get(".department")},getPosition:function(){return this.get(".title")},getCityAddress:function(){return this.get(".cityName")},getCompanyName:function(){return this.get(".orgName")},getManager:function(){return this.get(".manager")},isShared:function(){return this.get(".isShared")},isSharedLocal:function(){return this.get(".isSharedLocal")},isLocal:function(){return this.get(".isLocal")},findContactByPhone:function(e){var t=null;return ns.Model.traverse(this.id,function(n){t||n.getPhone()!==e||(t=n)}),t}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(359),i=(n.n(r),n(358));n.n(i);ns.Model.define("abook-contacts",{params:{q:null,extended:null,tid:null,emails:null,skip:null,pagesize:30,shared:null,type:null,mode:null},paramsRewrite:function(e){var t=_.extend({},e);return t.shared=Daria.toIntFlag(e.shared)||0,t.shared||delete t.shared,t},split:{items:".contact",params:{cid:".cid",shared:".isShared"},model_id:"abook-contact"},methods:{RETRY_LIMIT:1,_findContactData:function(e){var t=null;return ns.Model.traverse(this.id,function(n){t||n.models.some(function(n){return t=e(n)&&n.getData()})}),t},getContactDataByEmail:function(e){return this._findContactData(function(t){return _.some(t.get(".email"),{value:e})})},getContactDataByPhone:function(e){return this._findContactData(function(t){return _.some(t.get(".phone"),{value:e})})},getContactsInfoByEmails:function(e,t){var n=[],r=this;return t=t||{},_.each(e,function(e){var i=_.find(r.models,function(t){return _.find(t.get(".email"),{value:e})});i&&n.push(i.getContactInfo(t,{email:e}))}),n},_removeContact:function(e){var t=ns.Model.get("abook-contacts",ns.page.current.params),n=ns.Model.get("abook-contact",{cid:e,shared:!1});t.remove(n)},removeContacts:function(e){var t=Vow.promise();return e.forEach(function(e){var t=ns.Model.get("abook-contact",{cid:e,shared:!1});t.get(".email").forEach(function(e){ns.Model.get("abook-contact",{email:e.value}).invalidate()}),t.invalidate()}),e.forEach(this._removeContact),ns.forcedRequest(["do-abook-person-delete","abook-groups"],{cid:e}).then(function(e){var n=e[0],o=n.getError(),a=n.get(".deleted-items").length;o?(Object(i.showErrorMessage)(r.StatuslineName.AbookFailed,i18n("%_")),t.reject(o)):(Object(i.showSuccessMessage)(r.StatuslineName.AbookContactRemoved,i18n("%__",a)),t.fulfill(e))}),t},loadMore:function(e){var t=this.models.length,n=_.extend({},this.params,{skip:t});if(e){var r=this.get(".pager.items-count");n.pagesize=r-t}return ns.request("abook-contacts",n).then(this._addModels,this)},_addModels:function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var n=t.get(".pager"),r=this.get(".pager");this.set(".pager",_.extend({},r,n),{silent:!0});var i=t.models;return this.insert(i),ns.Model.destroy(t),i},getCount:function(){return this.models.length},isEmptyList:function(){return this.isValid()&&0===this.getCount()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.Model.define("abook-suggest",{params:{to:null,popup:null,domain:null,all:null,q:null,mcid:null,climit:null,glimit:null,useAbook:null,phone:null,popular:null,alternateOrder:Object(r.hasFeature)(r.Features.WEB_SMART_DISPLAY_NAME)?"1":"",mailboxUid:null},type:"js",ckey:!0,methods:{RETRY_LIMIT:1,getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return e.reqid=Daria.React.getSearchSessionId(),e}}})},function(e,t){ns.Model.define("abook-suggest-report",{params:{uid:null,q:null,section:null,title:null,id:null,mailboxUid:null},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("abook-selected",{isCollection:!0,params:function(e){if("normal"!==e.type)return{};var t=ns.Model.getKeyAndParams("abook-contacts",e).params;return delete t.pagesize,t},events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},isFolderSelected:no.False,runOps:function(e,t){return Daria.COPS[e](this,t)},getCids:function(){return _.map(this.models,function(e){return Number(e.get(".cid"))})},containsEmail:function(){return _.some(this.models,function(e){var t=e.get(".email");return Array.isArray(t)&&t.length})},containsShared:function(){return _.some(this.models,function(e){return e.isShared()})},getContactsMcids:function(e){var t={};return _.each(this.models,function(n){t[n.get(".cid")]=n.getMcids(e)}),t},emailsToString:function(e){e=Number(e||0);var t=Daria.Constants.CONTACTS.DELIMITER;return _(this.models).filter(function(e){return Array.isArray(e.get(".email"))}).map(function(t){var n={},r=function(e){return n=e,!1};return e?t.eachEmailsByTid(e,r):t.eachEmailsByTid(r),Jane.FormValidation.obj2contact({email:n.value,name:t.get(".name.full")})}).join(t)},abookContactsToAbookMcidContacts:function(e,t,n,r){return _(e).map(function(e){var i=e.getMcids(t);return"number"==typeof n&&(i=[i[n]]),r?[this.abookContactToAbookMcidContact(e,i[0])]:_.map(i,function(t){return this.abookContactToAbookMcidContact(e,t)},this)},this).flatten().value()},abookContactToAbookMcidContact:function(e,t){var n=ns.Model.get("abook-mcid-contact",{mcid:t});return n.getData()||n.setData({cid:e.get(".cid"),mcid:t,name:e.getName(),email:e.getEmailByMcid(t),isShared:e.get(".isShared")}),n},isEmptyContactsList:function(){return ns.Model.get("abook-contacts",ns.page.current.params).isEmptyList()},isMcidSelected:function(e,t){return _.some(this.models,function(n){return n.get(".cid")===e&&n.get(".isShared")===t})},yateIsMcidSelected:function(e,t){return this.isMcidSelected(e,yr.nodeset2scalar(t))},isSelected:function(e){return _.some(this.models,function(t){return t===e})},selectAll:function(){this.clear();var e=ns.Model.get("abook-contacts",this.params);this.insert(e.models)},unselectAll:function(){this.clear()},getSelectedMcids:function(){return _.map(this.models,function(e){return e.get(".mcid")})}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("history-suggest",{params:{text:null},ckey:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n.n(r);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ns.Model.define("account-information",{methods:{MAXAGE:72e5,preprocessData:function(e){return delete this._emails,Daria.ckey=e.ckey,this.refreshData(.8*this.MAXAGE),e},setError:function(){this.refreshData(30*Jane.Date.SECOND)},refreshData:function(e){window.clearTimeout(this._timer),this._timer=setTimeout(function(){ns.forcedRequest(["account-information"])},e)},getDataKey:function(e){return this.get("."+e)},getFromEmails:function(){return this.getAllUserEmails().filter(function(e){return"narod.ru"!==e.split("@")[1]})},getBeautifulEmail:function(){if(!Daria.Config.pddDomain){var e=this.get(".aliases");return e&&e[7]}},getFromDefaultEmail:function(){var e=this.getFromEmails(),t=this.get(".yandex_account")+"@"+Daria.Config["yandex-domain"];return t&&_.contains(e,t)||(t=e[0]||""),t},getAllUserEmails:function(){var e;try{e=this.getEmails().concat(ns.Model.get("settings").getValidatedEmails())}catch(e){Jane.ErrorLog.log({message:"User doesn't have email",type:r.ErrorType.NsModel,source:r.ErrorSource.Logic,sourceMethod:this.id,block:r.ErrorBlock.MailModule,method:"getAllUserEmails",key:this.key,modelData:o(this.data),modelStatus:this.status},e)}return e=this.sortEmails(_.uniq(e))},sortEmails:function(e){var t=/@/,n=new RegExp("(yandex|ya)\\.("+Daria.Config.domainZonesForReg+"|com\\.ua||xn--p1ai)"),r={RUS:{1:/^ya\.ru$/,2:/^yandex\.ru$/},INT:{1:/^yandex\.com$/},TUR:{1:/^yandex\.com\.tr$/}},i=function(e){var t=r[Daria.Config.product];for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return Number(i);return n.test(e)?10:5},o=ns.Model.get("settings").getSetting("default_email");return e.sort(function(e,n){if(e===o)return-1;if(n===o)return 1;var r=e.split(t).pop(),a=n.split(t).pop(),s=i(r),l=i(a);return s!==l?s-l:e<n?-1:1}),e},getEmails:function(){var e=this;return this._emails||function(){for(var t=e.getDataKey("email"),n=[],r=e.getBeautifulEmail(),i=ns.Model.get("settings").getSetting("default_email"),o=i&&i.split("@")[0]||null,a=r&&i&&r.toLowerCase()===i.toLowerCase(),s=function(r,i){var s=t[r],l=s.login,c=l+"@"+s.domain,u=[];o&&l.toLowerCase()===o.toLowerCase()&&!a&&(l=o),n.push(c),Daria.Config.pddDomain||(u=e.getAlternateLogins([l])),u.length&&u.forEach(function(e){n.push(e+"@"+s.domain)})},l=0,c=t.length;l<c;l++)s(l);e._emails=n}(),this._emails},getAlternateLogins:function(e){return e.reduce(function(e,t){var n=t.indexOf(".")>-1,r=t.indexOf("-")>-1;return n&&e.push(t.replace(/\./g,"-")),r&&e.push(t.replace(/-/g,".")),e},[])},getDefaultLogins:function(){var e=this,t=this.getDataKey("email").filter(function(t){return"".concat(t.login,"@").concat(t.domain)!==e.getBeautifulEmail()}).map(function(e){return e.login});return i(new Set(t))},_isSameLogin:function(e,t){var n=[t].concat(i(this.getAlternateLogins(t)));return e=e.toLowerCase(),n.some(function(t){return e===t.toLowerCase()})},isMyEmail:function(e){return e=e.toLowerCase(),this.getAllUserEmails().some(function(t){return e===t.toLowerCase()})},getDigitalAlias:function(){return this.getDataKey("digital_login")},getTimezoneInHours:function(){return-this.getDataKey("tz_offset")*Jane.Date.MINUTE/Jane.Date.HOUR},getMA:function(){return this.get(".users")||[]},hasMA:function(){return this.getMA().length>0},isPG:function(){return"pg"===this.get(".db")},isSSO:function(){var e=this.get(".aliases");return Boolean(e&&e[24])},hasAppPasswordsEnabled:function(){return this.get(".hasAppPasswordsEnabled")}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=(n.n(r),n(346));function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ns.Model.define("address-information",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){return delete this._emails,e},getDataKey:function(e){return this.get("."+e)},_getDefaultEmailFromSettings:function(){return ns.Model.get("mailbox-settings").getSetting("default_email")},getFromEmails:function(){return this.getAllUserEmails().filter(function(e){return"narod.ru"!==e.split("@")[1]})},getBeautifulEmail:function(){if(!Daria.Config.pddDomain){var e=this.get(".aliases");return e&&e[7]}},getFromDefaultEmail:function(){var e=this.getFromEmails(),t=this.get(".yandex_account")+"@"+Daria.Config["yandex-domain"];return t&&_.contains(e,t)||(t=e[0]||""),t},getAllUserEmails:function(){var e;try{e=this.getEmails().concat(ns.Model.get("mailbox-settings").getValidatedEmails())}catch(e){Jane.ErrorLog.log({message:"User doesn't have email",type:r.ErrorType.NsModel,source:r.ErrorSource.Logic,sourceMethod:this.id,block:r.ErrorBlock.MailModule,method:"getAllUserEmails",key:this.key,modelData:a(this.data),modelStatus:this.status},e)}return e=this.sortEmails(_.uniq(e))},sortEmails:function(e){var t=/@/,n=new RegExp("(yandex|ya)\\.("+Daria.Config.domainZonesForReg+"|com\\.ua||xn--p1ai)"),r={RUS:{1:/^ya\.ru$/,2:/^yandex\.ru$/},INT:{1:/^yandex\.com$/},TUR:{1:/^yandex\.com\.tr$/}},i=function(e){var t=r[Daria.Config.product];for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return Number(i);return n.test(e)?10:5},o=this._getDefaultEmailFromSettings();return e.sort(function(e,n){if(e===o)return-1;if(n===o)return 1;var r=e.split(t).pop(),a=n.split(t).pop(),s=i(r),l=i(a);return s!==l?s-l:e<n?-1:1}),e},getEmails:function(){var e=this;return this._emails||function(){for(var t=e.getDataKey("email"),n=[],r=e.getBeautifulEmail(),i=e._getDefaultEmailFromSettings(),o=i&&i.split("@")[0]||null,a=r&&i&&r.toLowerCase()===i.toLowerCase(),s=function(r,i){var s=t[r],l=s.login,c=l+"@"+s.domain,u=[];o&&l.toLowerCase()===o.toLowerCase()&&!a&&(l=o),n.push(c),Daria.Config.pddDomain||(u=e.getAlternateLogins([l])),u.length&&u.forEach(function(e){n.push(e+"@"+s.domain)})},l=0,c=t.length;l<c;l++)s(l);e._emails=n}(),this._emails},getAlternateLogins:function(e){return e.reduce(function(e,t){var n=t.indexOf(".")>-1,r=t.indexOf("-")>-1;return n&&e.push(t.replace(/\./g,"-")),r&&e.push(t.replace(/-/g,".")),e},[])},getDefaultLogins:function(){var e=this,t=this.getDataKey("email").filter(function(t){return"".concat(t.login,"@").concat(t.domain)!==e.getBeautifulEmail()}).map(function(e){return e.login});return o(new Set(t))},_isSameLogin:function(e,t){var n=[t].concat(o(this.getAlternateLogins(t)));return e=e.toLowerCase(),n.some(function(t){return e===t.toLowerCase()})},isMyEmail:function(e){return e=e.toLowerCase(),this.getAllUserEmails().some(function(t){return e===t.toLowerCase()})},hasAppPasswordsEnabled:function(){return this.get(".hasAppPasswordsEnabled")}}})},function(e,t){ns.Model.define("do-admsubscribe-calendar")},function(e,t){ns.Model.define("base-calendar-event",{methods:{getError:function(e){e&&e.error&&(e.data={error:e.error},delete e.error)},preprocessData:function(e){var t=no.jpath(".eventInfo.attendees",e);if(t&&t.length){var n=[],r=[],i=jpath(e,".eventInfo.organizer.email")[0];_.forEach(t,function(e){"yandexUser"===e.type||"externalUser"===e.type?e.email!==i&&(!e.name&&e.email&&(e.name=e.email.split("@")[0]),n.push(e)):"resource"===e.type&&r.push(e)}),e.eventInfo.organizer&&(e.eventInfo.organizer.isOrganizer=!0,n.unshift(e.eventInfo.organizer)),e.rooms=r,e.eventInfo.attendees=n,e.eventInfo.calendarUrl+="&uid=".concat(Daria.uid),e.isNotPast=!e.eventInfo.isPast,e.toCollapsedMessage="declined"!==e.eventInfo.decision&&!e.refusal,e.isNotOperate="undecided"===e.eventInfo.decision&&!e.eventInfo.isNoRsvp,e.showWidgetInMessageHead=!e.refusal&&Daria.IS_CORP&&!e.eventInfo.isPast,e.showRightPartOfWidget=!e.eventInfo.isCancelled||e.eventInfo.isCancelled&&e.eventInfo.repetitionDescription&&e.eventInfo.isPast;var o=e.eventInfo.repetitionDescription,a=e.eventInfo.start+Daria.getPassportTzOffset(),s=e.eventInfo.end+Daria.getPassportTzOffset();return e.eventInfo.eventTime=o?this.getTimeForRepeatEvents({start:a,end:s,repetitionDescription:o}):this.convertEventDates(a,s),e}},convertEventDates:function(e,t){if((t-e)/36e5<=24){var n=i18n("%Week_Full_Day",new Date(e).getDay()),r=Jane.Date.format("%Date_HM__colon",e),i=Jane.Date.format("%Date_HM__colon",t),o=i18n("%Message_Item_Event_Dates",r,i);return Jane.Date.format("%Date_dB",e)+", "+n+", "+o}var a=Jane.Date.format("%Date_dBY_year",e),s=Jane.Date.format("%Date_dBY_year",t),l=Jane.Date.format("%Date_HM__colon",e),c=Jane.Date.format("%Date_HM__colon",t);return i18n("%Message_Item_Event_Dates",a+" "+l,s+" "+c)},getTimeForRepeatEvents:function(e){var t=e.start,n=e.end,r=e.repetitionDescription,i=Jane.Date.format("%Date_HM__colon",t),o=Jane.Date.format("%Date_HM__colon",n);return i18n("%Message_Item_Event_Dates",i,o)+" "+r},getEventInfo:function(){return this.get(".eventInfo")}}})},function(e,t){ns.Model.define("dimensions",{events:{"ns-model-init":"_onInit"},methods:{DOC_HEIGHT_KEY:".document-height",DOC_WIDTH_KEY:".document-width",WIN_HEIGHT_KEY:".window-height",WIN_WIDTH_KEY:".window-width",_$document:null,_$window:null,_onInit:function(){this._$document=$(document),this._$window=$(window),this._$window.on("resize",_.throttle(this._onResize.bind(this),20)),this.clean()},getWindowScrollTop:function(){return this._$window.prop("pageYOffset")},getDocumentHeight:function(){var e=this.get(this.DOC_HEIGHT_KEY);return e||(e=this._$document.height(),this._setDimension(this.DOC_HEIGHT_KEY,e)),e},getDocumentWidth:function(){var e=this.get(this.DOC_WIDTH_KEY);return e||(e=this._$document.width(),this._setDimension(this.DOC_WIDTH_KEY,e)),e},getWindowHeight:function(){var e=this.get(this.WIN_HEIGHT_KEY);return e||(e=this._$window.height(),this._setDimension(this.WIN_HEIGHT_KEY,e)),e},getWindowWidth:function(){var e=this.get(this.WIN_WIDTH_KEY);return e||(e=this._$window.width(),this._setDimension(this.WIN_WIDTH_KEY,e)),e},clean:function(){this.setData({},{silent:!0})},_onResize:function(e){e.originalEvent&&e.originalEvent.data&&e.originalEvent.data.custom||(this.clean(),this.trigger("resize",e))},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}})},function(e,t,n){ns.Model.define("do-client-log",{params:{messages:null},methods:n(1588)})},function(e,t,n){ns.Model.define("do-journal-log",{params:{messages:null},methods:n(1588)})},function(e,t){ns.Model.define("do-init-compose",{})},function(e,t){ns.Model.define("do-service-worker-log",{params:{params:null}})},function(e,t){ns.Model.define("do-mail-reset-recent-counter")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-messages",{params:{ids:null,tids:null,movefile:null,action:null,with_sent:null,fid:null,tabId:null,tab:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){var t=this.params.mailboxUid;if("notspam"===this.params.action&&Array.isArray(this.params.ids)){var n=this.params.ids.map(function(e){return ns.Model.get("message",{ids:e,mailboxUid:t})});ns.forcedRequest(n)}return e}}})},function(e,t){ns.Model.define("do-sanitize",{params:{content:null}})},function(e,t){ns.Model.define("do-settings",{params:{params:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-mailbox-settings",{params:{params:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-signs",{params:{signs:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("do-clean-suggest-history",{params:{all:null,request:null}})},function(e,t){ns.Model.define("do-staff-settings",{params:{lang_ui:null}})},function(e,t){ns.Model.define("do-enable-mail-pro-bonus",{})},function(e,t){ns.Model.define("do-disable-mail-pro-bonus",{})},function(e,t){ns.Model.define("index-data",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this._state="inbox"},_getTabsIds:function(e){return Array.isArray(e)?e.map(function(e){return e.id}).filter(function(e){return e}):[]},getAllTabsIds:function(){return{head:this._getTabsIds(this.get(".tabs.head")),more:this._getTabsIds(this.get(".tabs.more"))}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("filters",{params:{master:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,methods:{getMasterRequest:function(){var e=this,t=ns.Model.get(this.id,_.assign({},this.params,{master:1}));return t.destroy(),t.once("ns-model-changed",function(){e.setData(this.getData())}),t},getFilters:function(){return this.get(".action")||[]},getById:function(e){return jpath(this.getFilters(),'.[.filid == "'+e+'"]')[0]},getForLabel:function(e){return jpath(this.getFilters(),'.[.actions.type == "movel" && .actions.parameter == "'+e+'"]')},getForFolder:function(e){return jpath(this.getFilters(),'.[.actions.type == "move" && .actions.parameter == "'+e+'"]')},getForCollector:function(e){return jpath(this.getFilters(),'.[.condition.div == "X-yandex-rpop-id" && .condition.pattern == "'+e+'"]')},getCountEnableFilters:function(){return jpath(this.getFilters(),'.action[.enable == "yes"]').length},hasCollectorFiltersWithFolder:function(){return jpath(this.getFilters(),'.[.condition.div == "X-yandex-rpop-id" && .actions.type == "move"]').length>0}}})},function(e,t){ns.Model.define("focus",{events:{"ns-model-init":"_onInit"},methods:{DEFAULT_COLUMN:1,DEFAULT_ITEM:0,indexColumns:{LEFT:0,MESSAGES:1,MESSAGE:2},preventOpenOnFocus:!1,isInitialized:!1,_onInit:function(){this._rebuild=this._rebuild.bind(this),this.setData({tree:[[],[],[]],itemIndex:null,columnIndex:null,currentFocus:null,lastFocus:[],lastActionFocus:{},pageParams:JSON.stringify(ns.Model.getKeyAndParams("messages",ns.page.current.params).params)}),this._buildTree(),this._setDefaultCoordinates(),ns.events.on("ns-page-after-load",this._rebuild),ns.events.on("daria:mFocus:buildTree",this._rebuild)},_rebuild:function(){this._buildTree(),this._updateFocus(),this.isInitialized||(this._setDefaultCoordinates(),this.isInitialized=!0)},_updateFocus:function(){var e=JSON.stringify(ns.Model.getKeyAndParams("messages",ns.page.current.params).params),t=this.get(".pageParams"),n=this.get(".columnIndex");this.set(".pageParams",e),n!==this.indexColumns.LEFT&&e!==t?this.resetFocus():this._recalculateFocus()},_buildTree:function(){Daria.DEBUG&&console.time("mFocus buildTree");var e=Daria.nsTreeWalker.getTreeForFocus();this.set(".tree",e);var t=this.get(".lastFocus").map(function(t,n){return t&&{focusView:t.focusView,itemIndex:e[n].indexOf(t.focusView)}});this.set(".lastFocus",t),Daria.DEBUG&&(console.timeEnd("mFocus buildTree"),console.log("mFocus tree",e))},_recalculateFocus:function(){if(this.hasFocus()){var e=this.get(".columnIndex"),t=this.get(".itemIndex"),n=this.get(".tree")[e],r=this.getFocus();if(-1===n.indexOf(r)){var i,o,a;if(Daria.is3pane()&&e===this.indexColumns.MESSAGE&&0===n.length&&this.get(".tree")[this.indexColumns.MESSAGES].length>0)n=this.get(".tree")[this.indexColumns.MESSAGES],i=this._getLastFocusedItemIndex(this.indexColumns.MESSAGES,!0),o=this.indexColumns.MESSAGES;else if(i=t,o=e,a=_.method("getParentReferenceParams")(r)){var s=_.findIndex(n,a);-1!==s&&(i=s)}i=Math.min(n.length-1,i),i=Math.max(i,0),this.set(".itemIndex",i),this.set(".columnIndex",o),this._setCurrentFocus(o,i)}}},_setDefaultCoordinates:function(){this.set(".itemIndex",this.DEFAULT_ITEM);var e=this.get(".tree"),t=this.DEFAULT_COLUMN;0===e[t].length&&(t=this.indexColumns.LEFT),this.set(".columnIndex",t)},setLastActionFocus:function(){var e=_.clone(this.get(".lastActionFocus"));_.isEmpty(e)||e.focusView&&e.focusView.isVisible()&&(this.pubEvent("blur"),this.set(".columnIndex",e.columnIndex),this.set(".itemIndex",e.itemIndex),this.set(".currentFocus",e.focusView),this._updateFocus(),this.pubEvent("focus"))},setPreventOpenOnFocus:function(e){void 0===e&&(e=!0),this.set(".preventOpenOnFocus",e)},getPreventOpenOnFocus:function(){return this.get(".preventOpenOnFocus")},resetFocus:function(e){this.pubEvent("blur"),this.set(".currentFocus",null),this.set(".itemIndex",this.DEFAULT_ITEM),e&&this.set(".columnIndex",this.DEFAULT_COLUMN);var t=_.clone(this.get(".lastFocus"));t[this.indexColumns.MESSAGES]=null,t[this.indexColumns.MESSAGE]=null,this.set(".lastFocus",t),this.set(".lastActionFocus",{}),this.set(".preventOpenOnFocus",!1)},clearFocus:function(){this.hasFocus()&&(this.pubEvent("blur"),this.set(".currentFocus",null)),this.set(".preventOpenOnFocus",!1)},changeItem:function(e,t){var n=this.get(".columnIndex"),r=this.get(".itemIndex"),i=this.get(".tree")[n];if(this.hasFocus()){var o=this.get(".currentFocus");if(Daria.Focus.needLazyScroll(o,e))Daria.Focus.lazyScroll(e);else{var a=i.length,s=i.indexOf(o);e?s++:s--,n!==this.indexColumns.MESSAGES||s!==a?s>=0&&s<a&&this._changeFocus(n,s,{select:t}):this._loadMoreMessages()}}else{if(n===this.indexColumns.MESSAGES&&!i[r]){var l=this._getFirstIndexForViews(i);l>=0&&(r=l)}this._changeFocus(n,r,{select:t})}},_loadMoreMessages:function(){ns.events.trigger("daria:vMessagesPager:messages-load")},changeColumn:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e?this._getNextColumnIndex():this._getPrevColumnIndex(),this.setColumn(t,n)},setColumn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get(".columnIndex"),r=this.get(".tree").length;if((n!==e||!this.hasFocus())&&e>=0&&e<r){var i=this._getLastFocusedItemIndex(e);this._changeFocus(e,i,{scroll:!("scroll"in t)||t.scroll})}},_getNextColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),n=t.length,r=e,i=e+1;i<n;i++)if(t[i].length>0){r=i;break}return r},_getPrevColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),n=e,r=e-1;r>=0;r--)if(t[r].length>0){n=r;break}return n},_getLastFocusedItemIndex:function(e,t){var n=this.get(".tree")[e],r=this.get(".lastFocus")[e],i=null;if(r&&(-1!==(i=n.indexOf(r.focusView))||t?t&&(i=r.itemIndex):i=null),null===i&&e===this.indexColumns.MESSAGE){var o=n[0];if(o&&"message-thread-item-wrap"===o.id)return this._getFirstVisibleMessageInThread(n)}if(null===i&&e===this.indexColumns.MESSAGES){var a=this._getFirstIndexForViews(n);if(a>=0)return a}return i||0},_getFirstIndexForViews:function(e){var t=this._getOpenMessageIndex(e);if(t>=0)return t;var n=this._getFirstUnpinnedMessage(e);return n>=0?n:-1},_getFirstVisibleMessageInThread:function(e){for(var t=ns.Model.get("scroller-message").getVDimensions(),n=e.length,r={},i=0;i<n;i++){var o=e[i];if(o.isOpen()){var a=o.isVisibleInScroller(t,!1);if(a)return i;r[o.key]=a}}for(var s=0;s<n;s++){var l=e[s],c=r[l.key];if(_.isBoolean(c)){if(c)return s}else if(c=l.isVisibleInScroller(t,!1))return s}return 0},_getOpenMessageIndex:function(e){if(Daria.is3pane())return-1;for(var t=ns.page.current.params,n=t.ids||t.thread_id,r=0,i=e.length;r<i;r++){var o=e[r].getModel("message");if(o&&o.params.ids===n)return r}return-1},_getFirstUnpinnedMessage:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].getModel("message");if(r&&!r.isPinned())return t}return-1},saveViewAsLastFocused:function(e,t){var n=this.get(".tree")[t].indexOf(e);this._saveLastFocusView(e,t,n)},_saveFocus:function(e,t){var n=this.get(".currentFocus");n&&this._saveLastFocusView(n,e,t)},_saveLastFocusView:function(e,t,n){var r=_.clone(this.get(".lastFocus"));r[t]={focusView:e,itemIndex:n},this.set(".lastFocus",r)},isFocusedInColumn:function(e,t){if(this.get(".columnIndex")===e)return this.getFocus()===t;var n=this.get(".lastFocus");return!!n&&(n[e]||{}).focusView===t},_saveLastActionFocus:function(e,t){var n=_.clone(this.get(".lastActionFocus")),r=this.get(".currentFocus");r&&(n={columnIndex:e,focusView:r,itemIndex:t},this.set(".lastActionFocus",n))},_changeFocus:function(e,t,n){var r=_.extend({scroll:!0,select:!1,show:!0},n),i=this.get(".columnIndex"),o=this.get(".itemIndex");if(i!==e&&this._saveFocus(i,o),this._saveLastActionFocus(i,o),this.set(".itemIndex",t),this.set(".columnIndex",e),this.set(".preventOpenOnFocus",!1),r.show){var a=this._setCurrentFocus(e,t);a&&(r.scroll&&a.node&&(Daria.Focus.needLazyScroll(a,!1)?Daria.Focus.lazyScroll(!1):Daria.Focus.scrollIntoView(a.$node,e)),r.select&&this.keyboardSelection(a.params.ids))}else this.clearFocus()},_setCurrentFocus:function(e,t){var n=_.get(this.get(".currentFocus"),".key"),r=this.get(".tree")[e][t];if(n!==_.get(r,".key"))return this.pubEvent("blur"),this.set(".currentFocus",r),this.pubEvent("focus"),r},pubEvent:function(e,t){var n=this.getFocus();if(!n)return!0;ns.assert(n.onFocusEvent,"View: "+n.id,"   #onFocusEvent()"),Daria.DEBUG&&console.log("mFocus","pubEvent",e,n),n.isValid()?(t=Object.assign({},t,{type:e}),"focus"===e&&this.get(".preventOpenOnFocus")&&(t.preventOpenOnFocus=!0),n.onFocusEvent(t)):Daria.DEBUG&&console.warn("mFocus",n.id+" "," "+e+" ",n)},hasFocus:function(){return Boolean(this.get(".currentFocus"))},getFocus:function(){return this.get(".currentFocus")},getFocusOrDefault:function(){var e=this.getFocus();if(e)return e;var t=this.get(".itemIndex"),n=this.get(".columnIndex");return this.get(".tree")[n][t]},goInbox:function(){var e=this;ns.page.go("#inbox").then(function(){e._changeFocus(e.indexColumns.LEFT,e.DEFAULT_ITEM)})},_focusToMessage:function(e,t){this.get(".tree")[this.indexColumns.MESSAGES].length>0&&this._changeFocus(this.indexColumns.MESSAGES,e,{select:t})},focusToFirstMessage:function(e){this._focusToMessage(0,e)},focusToLastMessage:function(e){var t=this.get(".tree")[this.indexColumns.MESSAGES].length;this._focusToMessage(t-1,e)},setFocusByMid:function(e,t){var n=this.get(".tree")[this.indexColumns.MESSAGES],r=_.findIndex(n,"params.ids",e);if(r>-1){var i={scroll:t,show:Daria.is3pane()};this._changeFocus(this.indexColumns.MESSAGES,r,i)}},keyboardSelection:function(e){var t=this.get(".keyboardSelection");t&&t.select(e)},startKeyboardSelect:function(){var e=this.getFocusOrDefault();if(e){var t=e.getModel("message");if(t){var n=new Daria.CBS;n.start(t.params.ids),this.set(".keyboardSelection",n)}}},getRange:function(e,t){for(var n=ns.Model.get("message",{ids:e}),r=ns.Model.get("message",{ids:t}),i=this.get(".tree")[this.indexColumns.MESSAGES],o=-1,a=-1,s=0,l=i.length;s<l;s++){var c=i[s].getModel("message");if(!c)throw new Error("Something goes wrong");if(-1===o&&c===n&&(o=s),-1===a&&c===r&&(a=s),-1!==a&&-1!==o)break}return o<=a?i.slice(o,a+1):i.slice(a,o+1).reverse()},getIndexCurrentColumn:function(){return this.get(".columnIndex")},isCurrentFocusOnMessage:function(){if(!this.hasFocus())return!1;var e=this.getFocus();return e.isValid()&&Boolean(e.getModel("message")&&e.getModel("messages-checked"))},findIndex:function(e){var t=-1;return _.forEach(this.get(".tree"),function(n){if((t=n.indexOf(e))>-1)return!1}),t},setFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!0},cancelSetFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!1},shouldSetFocusAfterPageLoaded:function(){return Boolean(this.__setFocusAfterPageLoaded)}}},ns.ModelStatic),ns.events.on("pageinit",function(){_.defer(function(){var e=ns.Model.get("focus");"message"===ns.page.current.page&&e.setColumn(e.DEFAULT_COLUMN);var t=ns.page.current.params,n=t.ids||t.thread_id;n&&ns.Model.get("focus").setFocusByMid(n,!0)})})},function(e,t){ns.Model.define("footer-data",{events:{"ns-model-init":function(){var e=Daria.Config;this.setData({"full-year":new Date(Daria.now()).getFullYear(),"link-advert":this._linkAdvert(),"link-lite":"/u2709/go2lite","link-mobile-apps":this._linkMobileApps(),"link-nda":"".concat(e["wiki-url"],"/nda"),"link-yandex":Daria.IS_CORP?e["company-url"]:e["morda-url"],"link-hiring":"".concat(e["hiring-url"],"?from=mail_footer"),"link-recommendation-rules":"".concat(e["www-url"],"/legal/recommendations/#index__mail")})}},methods:{_linkAdvert:function(){return Daria.Config["adv-url"]},_linkMobileApps:function(){var e=Daria.Config,t=!1;return"RUS"===e.product&&(t=e["mobile-mail-url"]),t}}},ns.ModelStatic)},function(e,t){ns.Model.define("get_user_activity",{params:{mailboxUid:null},events:{"ns-model-changed":"_onModelChanged"},methods:{_onModelChanged:function(){this._lastLcnCheck=!0;var e=this.get(".lcn");e&&(this._lastLcnCheck=Daria.Xiva.handlers.processNewLcn(e,this.params.mailboxUid))},syncLcn:function(){return ns.forcedRequest([this]).then(function(){return vow.resolve(this._lastLcnCheck)},this)}}},ns.ModelArmour)},function(e,t){ns.Model.define("get-group-user-events",{ctor:function(){this._lazyRequestDebounce=_.debounce(this._lazyRequest.bind(this),50),this._models={},this._promise=null},methods:{request:function(){return this.isValid()||(this._promise=Vow.promise()),this._lazyRequestDebounce(),this._promise},addModel:function(e){this._models[e.key]=e},isValid:function(){return _.isEmpty(this._models)},canRequest:function(){return!_.isEmpty(this._models)},_lazyRequest:function(){if(this.canRequest()){var e,t,n,r,i=_.assign({},this._models);_.forEach(i,function(i){(!e||e.getTime()>i.dateFrom.getTime())&&(e=i.dateFrom,n=i.params.from),(!t||t.getTime()<i.dateTo.getTime())&&(t=i.dateTo,r=i.params.to)});var o=ns.Model.get("get-user-events",{from:n,to:r,group:!0});o.destroy();var a=this;ns.request.models([o]).then(function(){_.forEach(i,function(e){e.setDataFromEvents(o)})}).always(function(){_.forEach(i,function(e){delete a._models[e.key]}),a._promise.fulfill(),o.destroy()})}else this._promise.fulfill()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n.n(r);ns.Model.define("get-user-events",{events:{"ns-model-init":"_onInit","ns-model-touched":"_setUpdateTimer"},params:{from:"",to:"",group:!1},maxAge:24*Jane.Date.HOUR,maxStaleAge:Number(Jane.Date.MINUTE),ctor:function(){this._updateTimer=null,this._minimalViewTime=15,this._minimalViewInterval=Daria.timify({minutes:15},"hours"),this._mapEventsIterator=this._mapEventsIterator.bind(this),this._sortEvents=this._sortEvents.bind(this),this._reduceGroupsIterator=this._reduceGroupsIterator.bind(this)},methods:{_onInit:function(){this.params.from&&(this.dateFrom=Jane.Date.LocalDate.parseDate(this.params.from)),this.params.to&&(this.dateTo=Jane.Date.LocalDate.parseDate(this.params.to),this.dateTo.setHours(23,59,59))},getRequest:function(){if(this.isValid())return this;if(this.params.group)return this;if(!this.dateFrom||!this.dateTo)return this;var e=ns.Model.get("get-group-user-events");return e.addModel(this),e},extractData:function(e){var t=this._extractData(e);return!t&&this.data&&((t=this.data)._lastData=!0),t||{events:[]}},hasDataChanged:function(e){return(!e||!e._lastData)&&Boolean(e)},preprocessData:function(e){return e._lastData?e:this.params.group?(e.events=_.map(e.events,this._mapEventsCommonIterator),e):(Array.isArray(e.events)?e.ranges=this.createGroupsOfEvents(e.events):Jane.ErrorLog.log({type:r.ErrorType.NsModel,message:"Model handler error: ".concat(this.id),block:r.ErrorBlock.MailModule,source:r.ErrorSource.Request,sourceMethod:this.id,key:this.key}),e)},_setUpdateTimer:function(){var e=this;this.params.group||(this._updateTimer&&(clearTimeout(this._updateTimer),this._updateTimer=null),this._updateTimer=setTimeout(function(){e._updateTimer=null,e.isValid()&&(e.invalidate(),e.atrigger("daria:mGetUserEvents:update"))},this.info[this.isLastData()?"maxStaleAge":"maxAge"]))},getEventsFromRange:function(e,t){var n=e.getTime(),r=t.getTime();return _.filter(this.get(".events"),function(e){var t=e.startDate.getTime(),i=e.endDate.getTime();return!(n>i||r<t)})},setDataFromEvents:function(e){var t=e.getEventsFromRange(this.dateFrom,this.dateTo);return this.setData({events:t})},isLastData:function(){return Boolean(this.get("._lastData"))},createGroupsOfEvents:function(e){return _(e).chain().map(this._mapEventsCommonIterator).map(this._mapEventsIterator).sortBy(this._sortEvents).reduce(this._reduceGroupsIterator,[]).value()},_getSizeOfRange:function(e,t){var n=(t.getTime()-e.getTime())/Jane.Date.HOUR;return Number(n.toFixed(2))},_sortEvents:function(e){return e.startDate.getTime()},_findGroupIndex:function(e,t){var n=e.startDate.getTime(),r=e.viewEndDate.getTime(),i=t.startDate.getTime(),o=t.viewEndDate.getTime();return!(r<=i||n>=o)},_reduceGroupsIterator:function(e,t){var n=e[_.findIndex(e,this._findGroupIndex.bind(this,t))];return n||(n={events:[]},e.push(n)),n.events.push(t),n.startDate=n.startDate?n.startDate.getTime()>t.startDate.getTime()?t.startDate:n.startDate:t.startDate,n.endDate=n.endDate&&n.endDate.getTime()>t.endDate.getTime()?n.endDate:t.endDate,_.assign(n,this._createIntervalOptions(n.startDate,n.endDate)),e},_mapEventsCommonIterator:function(e){var t=Jane.Date.LocalDate.parseISOTime(e.startTs),n=Jane.Date.LocalDate.parseISOTime(e.endTs);return _.assign({},e,{startDate:t,endDate:n})},_mapEventsIterator:function(e){return _.assign({},e,this._createIntervalOptions(e.startDate,e.endDate))},_createIntervalOptions:function(e,t){var n,r,i=this._getSizeOfRange(e,t);i<this._minimalViewInterval?(r=this._minimalViewInterval,(n=Jane.Date.clone(e)).setMinutes(e.getMinutes()+this._minimalViewTime)):(r=i,n=Jane.Date.clone(t));var o=Jane.Date.getHours(e),a=o,s=Jane.Date.clone(e),l=Jane.Date.clone(n),c=!0,u=!0;return this.dateTo&&this.dateTo.getTime()<n.getTime()&&(l=Jane.Date.clone(this.dateTo),c=!1),this.dateFrom&&this.dateFrom.getTime()>e.getTime()&&(s=Jane.Date.clone(this.dateFrom),u=!1,a=0),{intervalInHours:i,viewEndDate:n,viewIntervalInHours:r,startInHours:o,startInRange:a,viewIntervalInRange:this._getSizeOfRange(s,l),isFinishedInRange:c,isStartedInRange:u,stringDate:Jane.Date.getDaysInterval(e,t),startStringHour:Jane.Date.format("%Date_HM__colon",e),endStringHour:Jane.Date.format("%Date_HM__colon",t),startDay:Jane.Date.format("%F",e)}}}},ns.ModelArmour)},function(e,t){ns.Model.define("head-user-state",{events:{"ns-model-init":"_onInit"},methods:{LS_ITEM_NAME:"newLettersInMA",_onInit:function(){this.setData({newLettersInMA:Boolean(Daria.LS.getItem("newLettersInMA"))}),window.addEventListener("storage",function(e){if(e&&"newLettersInMA"===e.key){var t=Daria.LS.getItem(this.LS_ITEM_NAME);this.setNewLettersInMA(t)}}.bind(this),!1)},hasNewLettersInMA:function(){return this.get(".newLettersInMA")},setNewLettersInMA:function(e){this.setIfChanged(".newLettersInMA",e),e?Daria.LS.setItem(this.LS_ITEM_NAME,"true"):Daria.LS.removeItem(this.LS_ITEM_NAME)}}},ns.ModelStatic)},function(e,t){ns.Model.define("is-yandex-user",{params:{email:null}})},function(e,t){!function(e){for(var t={ru:{abbr:"ru",short:"Ru",name:"","date-format":"%d %h. %Y  %H:%M",locale:"ru_RU.UTF-8",locale_short:"ru_RU"},uk:{abbr:"uk",short:"Ua",name:"","date-format":"%d %h. %Y  %H:%M",locale:"uk_UA.UTF-8",locale_short:"uk_UA"},en:{abbr:"en",short:"En",name:"English","date-format":"%h %d, %Y at %H:%M",locale:"en_US.UTF-8",locale_short:"en_US"},tr:{abbr:"tr",short:"Tr",name:"Trke","date-format":"%d %h. %Y  %H:%M",locale:"tr_TR.UTF-8",locale_short:"tr_TR"},be:{abbr:"be",short:"By",name:"","date-format":"%d %h. %Y  %H:%M",locale:"be_BE.UTF-8",locale_short:"be_BE"},kk:{abbr:"kk",short:"Kz",name:"","date-format":"%d %h. %Y  %H:%M",locale:"kk_KK.UTF-8",locale_short:"kk_KK"},uz:{abbr:"uz",short:"Uzb",name:"Ozbekcha","date-format":"%d %h. %Y  %H:%M",locale:"uz_UZ.UTF-8",locale_short:"uz_UZ"}},n=[],r=0,i=0;r<e.length;r++){var o=t[e[r]];o&&(n[i++]=o)}ns.Model.define("languages",{events:{"ns-model-init":function(){this.setData({languages:{lang:n}})}}},ns.ModelStatic)}(Daria.locales)},function(e,t){ns.Model.define("message-failed",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},hasMid:function(e){return this.data.hasOwnProperty(e)},setMid:function(e){e&&(this.data[e]=!0)},removeMid:function(e){delete this.data[e]}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(370)),o=n(538),a=n(1589),s=n(551),l=n(346);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}!function(){ns.Model.define("message-body",{params:{ids:null,is_spam:!1,hid:null,raw:!1,frequency:"ru"===Daria.Config.locale&&Object(r.hasFeature)(r.Features.WEB_EMAIL_CLASSIFICATION)?_.get(Object(r.getFeatureParams)(r.Features.WEB_EMAIL_CLASSIFICATION)||{},"frequency",.1):0,draft:!1,force:null,mailboxUid:null},paramsRewrite:l.addMailboxUidParamsRewrite,calculateParamsForMessageBody:function(e){var t=Array.isArray(e.ids)&&e.ids.length>1&&"forward"===e.oper;return!e.ids||t?null:_.extend({},e,{draft:Boolean(!e.oper&&e.ids)})},methods:{_bodyNodesCache:{},_bodyNodesCacheLifetime:3e5,_destroyNodesCacheTimer:null,exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},preprocessData:function(e){var t=this.params;this._cancelDestroyNodesCacheTimer(),this._destroyNodesCache(),this.setIconInfo(e);var n=ns.Model.get("message",{ids:t.ids,mailboxUid:this.params.mailboxUid});e["is-spam"]=n.isSpam(),e["is-support"]=n.isYaSupport(),e["is-noreply-notification"]=n.isNoreplyNotification(),(e["is-spam"]||e.phishing)&&(e["hide-imgs"]=!0);var r=e.attachment;return r&&r.forEach(function(e){var t=e.name,n=Daria.splitName(t);e.narod?(e.filename=n[0],e.fileext=n[1]?"."+n[1]:"",e["name-uri-encoded"]=encodeURIComponent(t),e["preview-src"]=e.preview):".wdp"===e.fileext&&delete e["preview-supported"];var r=Daria.splitAttachmentName(t);e.nameprefix=r.prefix,e.namesuffix=r.suffix,e.nameext=(n[1]||"").toLowerCase()}),e.info&&e.info.date&&(e.info.date.view=Daria.MessageTime.getFormattedTime(e.info.date.timestamp)),e},hasRelativeTime:function(){return this.get(".info.date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".info.date.timestamp"));this.set(".info.date.view",e)},setIconInfo:function(e){(jpath(e,".attachment")[0]||[]).forEach(function(e){var t=Daria.getExtensionInfo(e.name);t.icon&&(e.icon=t.icon)})},getEmailInfoParams:function(){var e=this.select('.info.field[.type=="from"]')[0],t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},getEmailRef:function(e){return this.select('.info.field[.email=="'+e+'"].ref')[0]},parseDate:function(e){var t=String(e).match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/);return t?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10)).getTime():null},getSubtype:function(){var e=this.get(".body.subtype");return e&&e[0]},getAddressField:function(e,t){return Daria.formatContacts(this.select('.info.field[.type == "'+e+'"]'),t)},filterRecipients:function(e){return Object(s.a)(this.getFieldsByType(e),this.params.mailboxUid)},getRecipients:function(e,t){var n;n=t?function(e){return e}:function(e){return Daria.formatContacts(e,!1)};var r=this.filterRecipients("reply-to");r.length||(r=this.filterRecipients("from")),r.length&&!e||(r=r.concat(this.filterRecipients("to"))),r.length||(r=this.getFieldsByType("from")),r=_.uniq(r,"email");var i=e?this.filterRecipients("cc"):[];return{to:n(r),cc:n(i)}},allowedReplyAll:function(){var e=this.getRecipients(!0,!0),t=_(e).chain().values().flatten().filter("email").uniq("email").value(),n=this.getFieldsByType("to").pop();return n&&Daria.email.isCA(n.email)&&_.remove(t,function(e){return e.email===n.email}),t.length>1},participantsCount:function(){return this.filterRecipients("to").length+this.filterRecipients("cc").length},getFieldsByType:function(e){return this.select('.info.field[.type == "'+e+'"]')},recipientsCount:function(){return this.getFieldsByType("to").length+this.getFieldsByType("cc").length+this.getFieldsByType("bcc").length},hasTooManyRecipients:function(){return this.recipientsCount()>=10},getInfo:function(e){return this.select(".info."+e)},getMessageId:function(){return this.get(".info.message-id")||null},getInReplyTo:function(){return this.get(".info.in-reply-to")||null},getReferences:function(){return this.get(".info.references")||null},getAttachments:function(){return this.get(".attachment")||[]},getOnlyNotInlineAttachments:function(){return this.get(".attachment[.narod || !.inline]")||[]},hasInlineAttachments:function(){var e=this.getData();return!!e&&jpath(e,".attachment[!.narod]")>0},_COLLECTOR_MSG_STIDS:["102.66466005.241046198820547232969001058","102.66466005.157526963565013225811429732","102.66466005.134090406637961488505874094","102.66466005.776572722362711757375188712","102.66466005.856799731918248093078980991"],getComposeHTML:function(){var e=this.get(".body"),t=[];if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t.push(e[n].content);return t},getHTML:function(e){(e=e||{}).ids=this.params.ids;var t=this.getData();if(!t||t.error)return Jane.tt("message:message-body-error");if(this.isCollectorMessage())return Jane.tt("message:message-body-collector-msg",{lang:this.getDefaultLangId()});this._resetDestroyNodesCacheTimer();var n=Daria.getParamsHash(e);if(this._bodyNodesCache[n])return this._bodyNodesCache[n].cloneNode(!0);var r=document.createElement("div"),i=["js-message-body-content","mail-Message-Body-Content"],o=t.body||[],a=o[0];a&&"plain"===a.subtype&&i.push("mail-Message-Body-Content_plain"),r.className=i.join(" ");for(var s,l,c,u=0,d=o.length;u<d;u++)for(l=0,c=(s=this._processBody(o[u],e)).length;l<c;l++)r.appendChild(s[l]);return this._bodyNodesCache[n]=r,this._bodyNodesCache[n].cloneNode(!0)},_destroyNodesCache:function(){this._bodyNodesCache={}},_cancelDestroyNodesCacheTimer:function(){clearTimeout(this._destroyNodesCacheTimer)},_resetDestroyNodesCacheTimer:function(){this._cancelDestroyNodesCacheTimer(),this._destroyNodesCacheTimer=setTimeout(this._destroyNodesCache.bind(this),this._bodyNodesCacheLifetime)},getDefaultLangId:function(){switch(Daria.Config.locale){case"ru":case"be":return 1;case"en":return 2;case"uk":return 5;case"tr":return 44;default:return 0}},_processBody:function(e,t){var n=Daria.MessageProcess.processBody(e.content,t),r=$(n).contents().get(),i="";return"message"===e.type&&"delivery-status"===e.subtype&&(i="<p>"+i18n("%Message_Delivery_Status")+"</p>"),$(i).get().concat(r)},isCollectorMessage:function(){var e=this.getSTID();return!!e&&this._COLLECTOR_MSG_STIDS.indexOf(e)>-1},getSTID:function(){return this.get(".info.stid")},formatAddress:function(e){return e.replace(/"/g,"").replace(/</g,"(").replace(/>/g,")")},getRawFirstBody:function(){return this.get(".body[0].content")||""},getReplyBody:function(e,t,n){var r="";if(ns.Model.get("settings").isSet("enable_quoting")&&(r=this.getQuoteContent(e)),!n){var i=Daria.Translate.getLangByMid(this.params.ids);i||(i=Daria.Translate.defineLanguage(this.getComposeHTML())),r=Daria.signs.appendToBody(r,e,null,t,i,this.params.mailboxUid)}return r},getCopyRecipients:function(){return this.formatAddress(Daria.formatContacts(this.getRecipients(!0,!0).cc)).split(", ").map(function(e){var t=c(e.split(" "),2),n=t[0],r=t[1];return r&&n===r.slice(1,r.length-1)?n:e}).filter(Boolean).join(", ")},getQuoteContent:function(e){var t=ns.Model.get("message",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}),n=this.getComposeHTML(),r=t.getDateTime(),i=t.getAddressField("from").replace(/\\"/g,'"'),o=this.formatAddress(t.getAddressField("to")),a=t.data.subject.replace(/\\"/g,'"'),s=this.getCopyRecipients();return"html"===e?(n=Daria.Html2Text.quoteHtml(n),this.getReplyFields({date:r,from:i,mode:e,toWhom:o,copySent:s,subject:a,body:n})):(n=Daria.Html2Text.quoteText(n),n=this.getReplyFields({date:r,from:i,mode:e,toWhom:o,copySent:s,subject:a,body:n}))},prepareLabels:function(e){var t,n,r,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i18n("%Compose_Forward_Start"),a=i18n("%Compose_Forward_ToWhom"),s=i18n("%Compose_Forward_Copy"),l=i18n("%Compose_Forward_Theme"),c=i18n("%Compose_Forward_End");return"html"===e?(t="<br/>",n="<div>",r="</div>"):(t=i?"\n":"",n="",r=""),{NL_SYMBOL:t,START:n,END:r,MESSAGE_START_TEXT:o,TO_WHOM_TEXT:a,COPY_TO_TEXT:s,THEME_TEXT:l,MESSAGE_END_TEXT:c}},prepareFields:function(e){var t=e.from,n=e.mode,r=e.toWhom,i=e.copySent,o=e.subject,a=e.body;return"html"===n?(t=_.escape(t),r=_.escape(r),i=_.escape(i),o=_.escape(o)):a=Daria.Html2Text.html2text(a),{from:t,toWhom:r,copySent:i,subject:o,body:a}},getReplyFields:function(e){var t=e.date,n=e.mode,r=this.prepareLabels(n,!1),i=r.START,o=r.NL_SYMBOL,a=r.END,s=r.TO_WHOM_TEXT,l=r.COPY_TO_TEXT,c=r.THEME_TEXT,u=this.prepareFields(e),d=u.toWhom,f=u.copySent,p=u.subject,g=u.body,m=u.from;return"".concat(i).concat(o).concat(a).concat(i).concat(o).concat(a)+"".concat(i,"----------------").concat(a,"\n                        ").concat(d?"".concat(i).concat(s,": ").concat(d,";").concat(o).concat(a):"","\n                        ").concat(f?"".concat(i).concat(l,": ").concat(f,";").concat(o).concat(a):"","\n                        ").concat(p?"".concat(i).concat(c,": ").concat(p,";").concat(o).concat(a):"","\n                        ").concat(t?"".concat(i).concat(t,", ").concat(m,":").concat(o).concat(a):"","\n                        ").concat(g)},getForwardFields:function(e){var t=e.date,n=e.mode,r=this.prepareLabels(n,!0),i=r.START,o=r.NL_SYMBOL,a=r.END,s=r.TO_WHOM_TEXT,l=r.COPY_TO_TEXT,c=r.THEME_TEXT,u=r.MESSAGE_START_TEXT,d=r.MESSAGE_END_TEXT,f=this.prepareFields(e),p=f.toWhom,g=f.copySent,m=f.subject,h=f.body,v=f.from;return"".concat(i).concat(o).concat(a).concat(i).concat(o).concat(a)+"".concat(i,"-------- ").concat(u," --------").concat(a,"\n                        ").concat(t?"".concat(i).concat(t,", ").concat(v,":").concat(o).concat(a):"","\n                        ").concat(p?"".concat(i).concat(s,": ").concat(p,";").concat(o).concat(a):"","\n                        ").concat(g?"".concat(i).concat(l,": ").concat(g,";").concat(o).concat(a):"","\n                        ").concat(m?"".concat(i).concat(c,": ").concat(m,";").concat(o).concat(a):"","\n                        ").concat(i).concat(o).concat(a,"\n                        ").concat(h,"\n                        ").concat(i).concat(o).concat(a).concat(i,"-------- ").concat(d," --------").concat(a)},getForwardBody:function(e,t){var n=this.getComposeHTML(),r=ns.Model.get("message",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}),i=r.getDateTime(),o=this.formatAddress(r.getAddressField("from")).replace(/\\"/g,'"'),a=this.formatAddress(r.getAddressField("to")),s=this.getCopyRecipients(),l=r.data.subject.replace(/\\"/g,'"'),c=Daria.Translate.getLangByMid(this.params.ids)||Daria.Translate.defineLanguage(n);n='<div class="normalize">'+n+"</div>";var u=this.getForwardFields({date:i,from:o,mode:e,toWhom:a,copySent:s,subject:l,body:n});return Daria.signs.appendToBody(u,e,null,t,c,this.params.mailboxUid)},getDraftBody:function(e){var t;if(e&&(t=$.makeArray(this.get('.body[.subtype == "'+e+'" && .name == ""]')||[])[0]),t||(t=this.getFirstBody()),!t)return"";var n=t.content,r=t.subtype;return"plain"===e&&"html"===r?n=Daria.Html2Text.html2text(n):"html"===e&&"plain"===r&&(n=n.replace(/\u0020\u0020/g," "),n=_.unescape(n),n=Daria.Html2Text.text2html(n)),"plain"===e&&(n=_.unescape(n)),n},_getLocationsData:function(){var e=this.get(".facts.addr");return _.flatten(e).filter(function(e){return Boolean(e)})},getInvalidLocations:function(){return _.difference(this._getLocationsData(),this.getLocations())},getLocations:function(){return _(this._getLocationsData()).filter(function(e){return e.weight>=40&&"string"==typeof e.geo_addr}).valueOf()},hasPGP:function(){if(!this.isValid())return!1;var e=this.getFirstNonEmptyBodyContent()||"";return e.indexOf("wmi-pgp")>-1||e.indexOf("-----BEGIN PGP MESSAGE-----")>-1},getPGP:function(){var e={ids:this.params.ids,raw:!0},t=$.Deferred();return ns.request("message-body",e).then(function(e){var n=e[0],r=n.getFirstNonEmptyBodyContent()||"",i=n.getFieldsByType("from")[0],o=n.getFieldsByType("to")[0];t.resolve({from:{email:i.email,name:i.name},message:r.trim(),to:{email:o.email,name:o.name}})},function(){t.reject()}),t},getCalendarEvent:function(){return this.select(".facts.events.CalendarEvent")[0]},getCalendarICS:function(){return this.select(".calendars.calendar.hid")[0]},fetch:function(e){return e=no.extend(this.params,e||{}),ns.forcedRequest(this.id,e)},isLoaded:function(){return Boolean(this.get(".body"))},getUnsubscribeOptions:function(){var e,t=this.getInfo("list-unsubscribe")[0],n=this.get(".body.facts.unsubscribe"),r="<((mailto|https?):[^>]+)>",i={};function o(e,t){if(e){var n=$.url(e);n.Proto.match(/^https?$/gi)&&n.host&&(i[n.Proto+(t?"-"+t:"")]=e)}}var a=t.match(new RegExp(r,"gi"));if(a)for(var s=0;s<a.length;s++){var l=(e=new RegExp(r,"i").exec(a[s]))[2]+"-header";i[l]||(i[l]=e[1])}else Jane.FormValidation.reEmail.test(t)?i["mailto-header"]="mailto:"+t:o(t,"header");if(n&&n.length){var c=jpath(n[0],".url");c.length&&o(c[0],"body")}return i},fromComposeMessage:function(e,t){if(this.isValid())return this;var n=ns.Model.get("message",{ids:t}),r=ns.Model.get("message-body",{ids:t}),i=e.get(".sentMessageId"),o=e.get(".from_mailbox"),a=[{email:o,name:e.get(".from_name"),ref:r.getEmailRef(o),type:"from"}];a=a.concat(e.formatContacts("to",r),e.formatContacts("cc",r),e.formatContacts("bcc",r));var s=e.getSendMessage();return e.isHtmlType()||(s=Daria.Html2Text.text2html(s)),this.setData({fake:!0,body:[{type:"text",subtype:e.get(".ttype"),content:s}],info:{date:n.createMessageCurrentDate(),field:a,"message-id":i}})},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,function(t){return e.isMyEmail(t.email)})},hasPhishingBody:function(){return(this.get(".body")||[]).some(function(e){return Boolean(e.phishing)})},getFirstBody:function(){return(this.get(".body")||[])[0]},getFirstNonEmptyBodyContent:function(){return(this.get(".body.content")||[])[0]},setError:function(){this.scenarioManager.hasActiveScenario(i.d)&&this.scenarioManager.getActiveScenario(i.d).logError(o.c),this.scenarioManager.hasActiveScenario(i.e)&&this.scenarioManager.getActiveScenario(i.e).logError(a.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1585),i=n(137),o=(n.n(i),n(349)),a=(n.n(o),n(144)),s=(n.n(a),n(346));ns.Model.define("message",{events:{"ns-model-init":"_onInit"},params:{mailboxUid:null,ids:null,hid:null,force:null},paramsRewrite:s.addMailboxUidParamsRewrite,methods:{_threadKeyPrefix:"t",_readInfo:{},_countInfo:{},INVALID_FOLDERS_SYMBOLS_FOR_PIN:i.PinDisabledFolders,_onInit:function(){this._checkIds(),this.params.ids&&this.params.ids[0]===this._threadKeyPrefix&&this.setData({FAKE_THREAD_DATA:!0})},_checkIds:function(){if(!this.params.ids)throw new Error("Can't create Daria.mMessage without ids")},preprocessData:function(e){if(e.date&&e.date.chunks){var t=e.date.chunks;e.date.ts=new Date(t.year,t.month,t.date,t.hours,t.minutes).getTime(),e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)}var n=e.subject;n&&"No subject"!==n||(e.subject=i18n("%_"));var r=e.recipients;if(r&&!e.recipientsProcessed){for(var i in r)Daria.Recipients.cacheRecipient(r[i]);e.recipientsProcessed=!0}return this._preprocessWidgets(e),e},_preprocessWidgets:function(e){var t=this;Array.isArray(e.widgets)?e.widgets=e.widgets.reduce(function(n,r){var i=_.get(r,"info.showType");return i?t._skipWidget(i,e,r)?n:(Array.isArray(n[i])||(n[i]=[]),n[i].push(r),n):n},{}):delete e.widgets},_skipWidget:function(e,t,n){switch(n.info.type){case"bigimage":if(!ns.Model.get("settings").getSign("show_widgets_buttons"))return!0;if(this.getTrustLevel(t.type)<5||!n.info.valid)return!0;var r=Object(o.getFeatureParams)(o.Features.WEB_WIDGET_BIGIMAGE)||{},i=r.blacklist,a=r.whitelist;if(Array.isArray(a))return!a.includes(n.info.id);if(Array.isArray(i))return i.includes(n.info.id)}return!1},hasRelativeTime:function(){return this.get(".date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".date.timestamp"));this.set(".date.view",e)},hasDataChanged:function(e){var t=this.data;if(!t||!this.hasRealData())return!0;if(e.__prevent_update)return!1;var n=[];return t.count!==e.count&&n.push({jpath:".count",value:e.count}),t.fid!==e.fid&&n.push({jpath:".fid",value:e.fid}),t.tabId!==e.tabId&&n.push({jpath:".tabId",value:e.tabId}),t.tid!==e.tid&&n.push({jpath:".tid",value:e.tid}),t.firstline!==e.firstline&&n.push({jpath:".firstline",value:e.firstline}),t.new!==e.new&&n.push({jpath:".new",value:e.new}),_.isEqual(t.flags,e.flags)||n.push({jpath:".flags",value:e.flags}),_.isEqual(t.lid,e.lid)||n.push({jpath:".lid",value:e.lid}),_.isEqual(t.field,e.field)||n.push({jpath:".field",value:e.field}),_.isEqual(t.last_mid,e.last_mid)||n.push({jpath:".last_mid",value:e.last_mid}),e.date&&!_.isEqual(t.date,e.date)&&n.push({jpath:".date",value:_.extend({},e.date,{view:Daria.MessageTime.getFormattedTime(e.date.timestamp)})}),n.forEach(function(e){this.set(e.jpath,e.value)},this),this.isThread()&&(n.length||t.thread_scn!==e.thread_scn)&&ns.forcedRequest([{id:"messages",params:{thread_id:t.tid}}]),!1},exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},isDraftLike:function(){return!this.isThread()&&this.inFolderBySymbol(i.DraftLikeFolders)},isExternalLike:function(){return!this.inFolderBySymbol(i.InternalFolders)},isOutcomeMessage:function(){return this.inFolderBySymbol(i.OutcomingFolders)},canReply:function(){return!this.inFolderBySymbol(i.ReplyDisabledFolders)},canReplyQR:function(){return!this.inFolderBySymbol(i.QuickReplyDisabledFolders)},isTemplate:function(){return!this.isThread()&&this.inFolderBySymbol(i.WellKnownFolderSymbol.TEMPLATE)},isThread:function(){return this.isThreadModel()},isMessageThread:function(){return this.isThreadModel()&&1===this.getThreadCount()},getMessageThreadMid:function(){if(!this.isMessageThread())return this.params.ids;var e=this.getThreadMessages().models[0];return e?e.params.ids:this.params.ids.slice(1)},isThreadModel:function(){return this.params.ids&&this.params.ids[0]===this._threadKeyPrefix},getSocialLabel:function(){var e=this.get(".dlid");return e||(e=this.get(".dtype.name")),e},getFolderId:function(){return this.get(".fid")||null},getTabId:function(){return this.get(".tabId")||null},getLastMid:function(){return this.get(".last_mid")||this.get(".mid")||null},getMessageFieldName:function(){var e="from",t=this.params?this.params.mailboxUid:null,n=ns.Model.get("folders",{mailboxUid:t}),r=i.InternalFolders;return n.isFolder(ns.page.current.params.current_folder,r)&&(e="to"),ns.page.current.params.search&&n.isFolder(ns.page.current.params.fid,[i.WellKnownFolderSymbol.SENT])&&(e="to"),e},isNew:function(){return Boolean(this.get(".new"))},isSpam:function(){var e=this.getFolderId();return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(e,i.WellKnownFolderSymbol.SPAM)},isTrash:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)},isNoreplyNotification:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelByName("SystMetkaWJDT:NOTIFY");return e&&this.hasLabel(e.lid)},hasAttachment:function(){return Boolean(this.get(".flags.attachment"))},hasLabel:function(e){var t=this.getData();return Boolean(t&&Array.isArray(t.lid)&&t.lid.indexOf(e)>-1)},hasLabelWithSymbolicName:function(e){var t=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelBySymbolicName(e);return Boolean(t&&this.hasLabel(t.lid))},inFolder:function(e){var t=this.get(".fid");return!(!e||!t||t!==e)},inFolderBySymbol:function(e){var t=this.getFolderId();return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(t,e)},isIntoThread:function(){var e=this.getThreadMessage();return e&&e.hasRealData()},getThreadId:function(){return this.get(".tid")},getUrl:function(){var e=this.inFolder(ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).getFidBySymbol(i.WellKnownFolderSymbol.DRAFT));return Daria.isMessagePage()&&Daria.is2pane()&&(e=!1),ns.router.generateUrl(e?"compose2":"message",{ids:this.get(".mid")})},getSOLabels:function(){return this.get(".type")},toMove:function(e){var t=e.tabId&&(this.getTabId()!==e.tabId||this.getFolderId()!==e.current_folder);return this.isThread()||t||this.getFolderId()!==e.current_folder},toDelete:function(e){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)||this.toMove(e)},toSpam:function(e){return this.toMove(e)},toNotspam:function(e){return this.toMove(e)},_grep:function(e,t,n,r){var i=[];if($.isArray(e))for(var o=0,a=e.length;o<a;o++)this[r](t+e[o],n)&&i.push(e[o]);return i},grep:function(e,t,n){var r=this._grep(e.mids,"",t,n),i=this._grep(e.tids,this._threadKeyPrefix,t,n);return!(!r[0]&&!i[0])&&{mids:r,tids:i}},label:function(e){var t=new Daria.MOPS.Opinfo,n=e.lid;if(!this._canLabel(n))return t;this._addLid(n);var r=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,n,r),this.isThreadModel()){if(!e.onlyAdd)return this._correctThreadListLabel("label",e)}else{this._shouldAdjustLabelCount(n)&&t.addAdjust(n,1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i,mailboxUid:this.params.mailboxUid});o._addLid(n),o._correctThreadLidCount(n,1)}return t},unlabel:function(e){var t=new Daria.MOPS.Opinfo,n=e.lid;if(!this._canUnlabel(n))return t;this._removeLid(n);var r=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,n,-r),this.isThread())return this._correctThreadListLabel("unlabel",e);this._shouldAdjustLabelCount(n)&&t.addAdjust(n,-1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i,mailboxUid:this.params.mailboxUid});return 0===o._correctThreadLidCount(n,-1)&&o._removeLid(n),t},isPhishing:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPhishingLabel();return Boolean(e)&&this._hasLid(e.lid)},_shouldAdjustLabelCount:function(){return!this.isTrash()&&!this.isSpam()},_hasLid:function(e){var t=_.clone(this.get(".lid"));return!(!e||!t)&&-1!==t.indexOf(e)},_canLabel:function(e){return!this._hasLid(e)||!!this.isThreadModel()&&((this.get(".lid_cnt")||{})[e]||0)!==this.getThreadCount()},_addLid:function(e){if(!this._hasLid(e)){var t=_.clone(this.get(".lid"))||[];t.push(e),this.set(".lid",t)}},_canUnlabel:function(e){return this._hasLid(e)},_removeLid:function(e){if(this._hasLid(e)){var t=_.clone(this.get(".lid"));Jane.Array.remove(t,e),this.set(".lid",t)}},toTemplate:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}),t=this.getFolderId(),n=e.getFolderById(t);return!(!n||!n.user&&!e.isFolder(t,[i.WellKnownFolderSymbol.INBOX]))},mark:function(){var e=new Daria.MOPS.Opinfo,t=this.get(".new");if(t>0){if(this.set(".new",0),this.isThread())return this._correctThreadListMark("mark",-t);this._correctThreadMark("mark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),-t):e.addAdjust(this.getFolderId(),-t),this._adjustLabelsUnreadCounter(e,-t),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},unmark:function(){var e=new Daria.MOPS.Opinfo,t=this.getThreadCount(),n=t-this.get(".new");if(n>0){if(this.set(".new",t),this.isThread())return this._correctThreadListMark("unmark",n);this._correctThreadMark("unmark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),n):e.addAdjust(this.getFolderId(),n),this._adjustLabelsUnreadCounter(e,n),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},toggleMark:function(){var e,t=this.isNew()?"mark":"unmark";return e=this.isThread()?this.getThreadMessagesCheckedModel(!0):this.getMessagesCheckedModel(!0),Daria.MOPS[t](e)},toggleMute:function(){var e=this.isMuted()?"unignore":"ignore";return Daria.MOPS[e]({tids:this.getThreadId()})},_correctThreadMark:function(e){var t=this.getThreadId(),n=this.params.mailboxUid,r=ns.Model.get("message",{ids:t,mailboxUid:n});if(r.data){var i=r.get(".new")||0,o=r.getThreadCount();"mark"===e?i--:i++,i=Math.max(i,0),i=Math.min(i,o),r.setIfChanged(".new",i)}},getThreadMessages:function(e){return _.isUndefined(e)&&(e=this.getThreadId()),ns.Model.get("messages",{thread_id:e,mailboxUid:this.params.mailboxUid})},getThreadMessage:function(e){if(_.isUndefined(e)&&(e=this.getThreadId()),e)return ns.Model.get("message",{ids:e,mailboxUid:this.params.mailboxUid})},_correctThreadListMark:function(e,t){var n=this.getThreadId(),r=this.getThreadMessages(n)[e]();return r.saveUnreadCounter(n,Math.abs(t)),r.saveAffectedMids(),r.checkTidAdjust(t,n),r},_correctThreadListLabel:function(e,t){var n=this.getThreadId(),r=this.getThreadMessages(n)[e](t),i=this.getThreadCount();return this._correctThreadLidCount(t.lid,"label"===e?i:-i),r.getModelsCount()!==i&&r.checkTidAdjust(NaN,n),r},_correctThreadLidCount:function(e,t){var n=this.getThreadCount(),r=this.get(".lid_cnt")||{};if(e){var i=r[e]||0,o=Daria.clamp(i+t,0,n);return r[e]=o,this.set(".lid_cnt",r),o}},_adjustLabelsUnreadCounter:function(e,t){var n=this;t&&ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLidsWithUnreadCounter().map(function(r){n._hasLid(r)&&e.addLabelsUnreadAdjust(r,t)})},_adjustLabelsUnreadCounterByLid:function(e,t,n){n&&(ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLidsWithUnreadCounter().includes(t)&&e.addLabelsUnreadAdjust(t,n))},getAddressField:function(e,t){var n=this.getFieldsByType(e);return Daria.formatContacts(n,t)},getToEmail:function(){if(!this.getData())return"";var e=this.getFieldsByType("to"),t=this.params.mailboxUid,n=Object(s.isSharedMailboxes)()&&t?"address-information":"account-information";return ns.Model.get(n).getAllUserEmails().find(function(t){return e.find(function(e){return e.email.toLowerCase()===t.toLowerCase()})})},getReplyToEmail:function(){return _.get(this.getFieldsByType("reply-to"),"0.email")||""},getReplyToName:function(){return this.getFieldsByType("reply-to")[0].name||""},isReply:function(){return Boolean(this.getReplyToEmail())},getToEmails:function(){var e=this.getFieldsByType("to");return $.map(e,function(e){return e.email||null})},getToNames:function(){var e=this.getFieldsByType("to");return $.map(e,function(e){return e.name||null})},getFromName:function(){var e=this.getFieldsByType("from")[0];return e&&e.name?e.name:""},getFromEmail:function(){var e=this.getFieldsByType("from")[0];return e&&e.email?e.email:""},getSubject:function(e){var t=this.getData();if(!t)return"";var n="";return!e&&t.subject_prefix&&(n=t.subject_prefix+" "),n+t.subject},getDate:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$3.$2.$1"):""},getTime:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$4:$5"):""},getDateTime:function(){return this.getDate()+", "+this.getTime()},getEmailRef:function(e){return this.select('.field[.email=="'+e+'"].ref')[0]},getSelectedInfo:function(e){var t,n,r,i,o=this._readInfo,a=this._countInfo,s=0,l=0;if(e.mids)for(t=0,n=e.mids.length;t<n;t++)i=a[r=e.mids[t]],o[r]&&(s+=i),l+=i;if(e.tids)for(t=0,n=e.tids.length;t<n;t++)i=a[r=this._threadKeyPrefix+e.tids[t]],o[r]&&(s+=i),l+=i;return{read:s,all:l}},isForward:function(){return/^Fwd:/.test(this.getSubject())},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".lid"))),t=e.length;if(t)for(var n=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),r=0;r<t;r++)if(n.isSocial(e[r]))return e[r];return null},COUPON_SERVICE_TYPES:[13,14],isCouponService:function(){var e=this.COUPON_SERVICE_TYPES;return _.intersection(e,this.get(".type")).length===e.length},CALENDAR_SERVICE_TYPE:42,isCalendarService:function(){return this.hasType(this.CALENDAR_SERVICE_TYPE)},isHuman:function(){return this.hasType(4)},hasType:function(e,t){var n=this.get(".type");_.isArray(e)||(e=[e]);var r="all";return t&&(r="any"),n&&_[r](e,function(e){return _.contains(n,e)})},updateThreadsUnreadCount:function(e,t){var n=[];for(var r in t){var i=this._threadKeyPrefix+r,o=this.getCache(i);if(o){var a,s=o.new||0;a="mark"===e?s-t[r].length:s+t[r].length,a=Math.max(0,a),this._readInfo[i]=0===a,a?o.new=a:delete o.new,("mark"===e&&0===a||"unmark"===e&&a>0)&&n.push(r)}}return n},getThreadCount:function(){return this.get(".count")},updateThreadCount:function(e){var t=this.getThreadCount();this.set(".count",t+e)},updateThreadInfo:function(e){if(!this.hasRealData())return!1;if(e.isNew()){var t=this.get(".new");this.set(".new",t+1)}e.isExternalLike()&&this.updateThreadContextInfo(e),this.updateThreadCount(1);var n=e.get(".lid"),r=this.get(".lid");r=_.uniq(r.concat(n)),this.set(".lid",r),!this.isAnswered()||e.isReply()&&e.isOutcomeMessage()||this.unsetAnswered(),this.isForwarded()&&!e.isOutcomeMessage()&&this.unsetForwarded();var i=_.extend({},this.params,{fid:e.get(".fid")}),o=ns.Model.get("message-presentation",i);return o.fill(e),o.ensureOnDestroyBinded(this),!0},updateThreadContextInfo:function(e){this.set(".date",e.get(".date")),Daria.areFoldersTabsEnabled()&&e.getTabId()&&this.set(".tabId",e.getTabId()),this.set(".fid",e.get(".fid")),this.set(".field",e.get(".field")),this.set(".firstline",e.getFirstline()),this.set(".last_mid",e.get(".mid")),this.set(".subject",e.getSubject(!0)),this.set(".subject_prefix",e.get(".subject_prefix")),this.set(".flags.attachment",e.hasAttachment())},uncheckThreadMessages:function(e){if(e=e||ns.Model.get("messages-checked"),this.isThread()){var t=this.getThreadMessages();_.forEach(t.models,function(t){e.isChecked(t)&&e.check(t,!1)})}},getEmails:function(){var e={},t=this.getData();if(t){var n=t.field;$.each(n,function(t,n){var r=e[n.type]={},i=n.name,o=n.email;o&&(r.ref=n.ref,r.email=o),i&&(r.name=i)})}return e},isYaSupport:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getLabelByName("yasupport");return!!e&&this.hasLabel(e.lid)},isBodyAutoExpand:function(){var e=this.getData();if(!e)return!1;var t=e.lid;if(!t||!t.length)return!1;for(var n,r=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),i=0,o=t.length,a=/^(vtnrf0roemru|vtnrf0habrahabr|vtnrf0livejournal)$/;i<o;i++)if((n=r.getLabelById(t[i]))&&a.test(n.name))return!0;return!1},getFieldsByType:function(e){return this.select('.field[.type == "'+e+'"]')},getFirstline:function(){return this.get(".firstline")||""},getMessageLink:function(){return ns.router.generateUrl("message",{ids:this.get(".mid")})},getMessagesCheckedModel:function(){var e=ns.Model.get("messages-checked",{mailboxUid:this.params.mailboxUid,mid:this.get(".mid")});return e.check(this,!0,{silent:!0}),e},getThreadMessagesCheckedModel:function(){if(this.isThread()){var e="all_"+this.get(".mid"),t=ns.Model.get("messages-checked",{mid:e,mailboxUid:this.params.mailboxUid}),n=this.getThreadMessages();return t.check(this,!0),_.each(n.models,function(e){t.check(e,!0)}),t}return ns.Model.get("messages-checked")},isImportant:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getImportantLID();return this.hasLabel(e)},isPriority:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPriorityLID();return Boolean(e&&this.hasLabel(e))},isPinned:function(){var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getPinnedLabel();return!!e&&this.hasLabel(e.lid)},isReplyLater:function(){return(this.isPinned()||this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER))&&Boolean(this.getReplyLaterDate())},isReplyLaterFinished:function(){return this.isPinned()&&this.isReplyLater()},isReplyLaterStarted:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER)&&this.isReplyLater()},getReplyLaterDate:function(){var e=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER});return this.isThread()&&this.get(".count")>1?e.getRemindDateByTid(this.getThreadId()):e.getRemindDateByMid(this.getLastMid())},getReplyLaterStickers:function(){var e=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER});return this.isThread()?e.getStickersByTid(this.getThreadId()):[e.getStickerByMid(this.getLastMid())]},getLastMidForReplyLater:function(){var e=this.getLastMid();if(this.isThread()){var t=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER}).getLastStickerByTid(this.getThreadId());e=t?t.mid:e}return e},isDelayed:function(){if(!this.inFolderBySymbol(i.WellKnownFolderSymbol.OUTBOX))return!1;var e=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getDelayedMessageLabel();return!!e&&(!!this.hasLabel(e.lid)&&!((this.get(".date.ts")||this.get(".date.timestamp"))<Daria.now()))},getDelayedTime:function(){if(this.isDelayed())return this.get(".date.ts")||this.get(".date.timestamp")},move:function(e){var t={current_folder:e.fid,tabId:e.tabId};Daria.isAttachmentsTab()&&this.toSpam(t)?this.remove():this.toMove(t)?this.doMove(t):this.toDelete(t)&&this.remove();var n=new Daria.MOPS.Opinfo;return n.resetAdjust(),n.resetTabsAdjust(),n},moveToDrafts:function(){var e=this.params.ids,t=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).getFidBySymbol(i.WellKnownFolderSymbol.DRAFT);return Daria.Xiva.moveMessageToFolder(e,t)},doMove:function(e){var t,n=e.current_folder,r=e.tabId,o=this,a=this.getThreadId(),s=this.get(".fid"),l=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),c=new Daria.MOPS.Opinfo,u=this.get(".lid"),d=this.getTabId(),f=this.isInTab();r?(this.set(".tabId",r),s!==n&&this.set(".fid",n)):s===n?s="":this.set(".fid",n);var p=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),g=this.inFolderBySymbol([i.WellKnownFolderSymbol.SPAM]),m=this.getThreadMessages(),h=this.isThread();if(h?t=this:(t=ns.Model.get("message",{ids:a,mailboxUid:this.params.mailboxUid})).hasRealData()||(t=this),p&&this.isNew()&&!h&&this.isIntoThread()&&t._correctThreadMark("mark"),m.isValid())if(h)m.models.forEach(function(e){r&&e.set(".tabId",r),e.inFolderBySymbol(i.WellKnownFolderSymbol.SENT)||e.set(".fid",n)});else{var v=t.isPinned();if(f&&s&&d&&!m.hasMessagesFromTab(s,d)&&!v){var b=ns.Model.get("messages",{current_folder:s,tabId:d,threaded:"yes",mailboxUid:this.params.mailboxUid});b.isValid()&&b.remove(t)}if(s&&s!==n&&!m.hasMessagesFromFolder(s)&&!v){var _=ns.Model.get("messages",{current_folder:s,threaded:"yes",mailboxUid:this.params.mailboxUid});_.isValid()&&_.remove(t)}}var y,S=ns.page.current.params.current_folder,w=ns.page.current.params.tabId,O=ns.page.current.params.mailboxUid===this.params.mailboxUid&&ns.Model.get("messages",ns.page.current.params).isUnreadMessagesCollection(),M=this.isNew();(p||g)&&u&&(y={},u.forEach(function(e){y[e]=!0}));var x={};return ns.Model.traverse("messages",function(e){if(e.isValid()&&e.params.mailboxUid===o.params.mailboxUid){if(e.isSearchNotFilter()&&e.params.fid!==n&&e.remove(o),o.isPinned())(g||p)&&e.remove(o);else{var i=e.params.tabId;f&&(i===d||w&&i===w&&d===w&&r!==w)?e.remove(o):r&&i===r?e.insertMessageBySort("yes"===e.params.threaded?t:o):e.params.current_folder===s||S&&e.params.current_folder===S&&n!==S?e.remove(o):e.params.current_folder===n&&("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}var c=e.params.thread_id;if(p&&!h&&c===a)if(e.remove(o)){var m=ns.Model.get("message",{ids:c,mailboxUid:o.params.mailboxUid});m.hasRealData()&&!x[c]&&(m.updateThreadCount(-1),x[c]=!0)}(p||O&&!M)&&(e.isUnreadMessagesCollection()||e.isWithAttachmentMessagesCollection()||e.isImportantMessagesCollection())&&e.remove(o),(p||g)&&u&&e.params.current_label&&y[e.params.current_label]&&e.remove(o),!l||p||h||c!==a||("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}}),ns.Model.invalidateAll("messages-from"),c.resetAdjust(),c.resetTabsAdjust(),c},remove:function(){var e=this;ns.Model.traverse("messages",function(t){t.remove(e)}),this._cleaningModelsAfterAction(),ns.Model.get("message-body",{ids:this.params.ids,mailboxUid:this.params.mailboxUid}).destroy(),this.destroy()},getEmailInfoParams:function(){var e=this.getEmails().from,t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},createMessageCurrentDate:function(){var e=Daria.now(),t=new Date(e),n=Jane.Date.format("%Date_db",e),r=Jane.Date.format("%Date_db_in_HM",e);return{chunks:{date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),month:t.getMonth(),year:t.getFullYear()},timestamp:e,user_timestamp:e,view:{attach:n,list:n,message:r,title:r}}},fromComposeMessage:function(e,t){if(this.isValid())return this;var n=ns.Model.get("message",{ids:t,mailboxUid:this.params.mailboxUid}),r=ns.Model.get("message-body",{ids:t,mailboxUid:this.params.mailboxUid}),i=e.get(".from_mailbox"),o=[{email:i,name:e.get(".from_name"),ref:r.getEmailRef(i),type:"from"}];return o=o.concat(e.formatContacts("to",r),e.formatContacts("cc",r),e.formatContacts("bcc",r)),this.setData({fake:!0,mid:this.params.ids,tid:n.getThreadId()||"t"+this.params.ids,lid:e.get(".lids"),field:o,subject:e.get(".subj"),date:n.createMessageCurrentDate(),types:"4",type:[4],flags:{human:!0},count:1,new:0})},hasRealData:function(){return this.isValid()&&!this.get(".FAKE_THREAD_DATA")},isCheckedInList:function(){return ns.Model.get("messages-checked").isChecked(this)},isInSharedFolder:function(){return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isShared(this.getFolderId())},isInTab:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid});return this.getTabId()&&this.getFolderId()===e.getFidBySymbol(i.WellKnownFolderSymbol.INBOX)},isMuted:function(){if(!this.isThread())return!1;var e=jpath(ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}).getMuteThreadLabel(),".lid")[0];return this.hasLabel(e)},isMutable:function(){return this.isThread()&&!this.isMuted()&&!this.isInSharedFolder()},isValidForPin:function(){var e=ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}),t=this.getFolderId();return!e.isFolder(t,this.INVALID_FOLDERS_SYMBOLS_FOR_PIN)},isReplyLaterAllowed:function(){var e=this.get(".fid");return ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isReplyLaterAllowed(e)},isDraggable:function(){var e=this.get(".fid");return!ns.Model.get("folders",{mailboxUid:this.params.mailboxUid}).isFolder(e,[i.WellKnownFolderSymbol.REPLY_LATER])},hasUserLabel:function(){var e=this.get(".lid");if(!Array.isArray(e)||!e.length)return!1;for(var t=ns.Model.get("labels",{mailboxUid:this.params.mailboxUid}),n=0,r=e.length;n<r;n++){var i=t.getLabelById(e[n]);if(i&&i.user)return!0}return!1},hasLabelInDiff:function(e,t){var n=this.get(".lid");return _().xor(n,t).contains(e)},isAnswered:function(){return Boolean(this.get(".flags.replied"))},setAnswered:function(){this.set(".flags.replied",!0)},unsetAnswered:function(){this.set(".flags.replied",!1)},markAnswered:function(){this.setAnswered();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setAnswered(),new Daria.MOPS.Opinfo},isForwarded:function(){return Boolean(this.get(".flags.forwarded"))},setForwarded:function(){this.set(".flags.forwarded",!0)},unsetForwarded:function(){this.set(".flags.forwarded",!1)},markForwarded:function(){this.setForwarded();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setForwarded(),new Daria.MOPS.Opinfo},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,function(t){return e.isMyEmail(t.email)})},_cleaningModelsAfterAction:function(){var e=ns.Model.get("messages-from-item",this.params);e.isValid()&&ns.Model.traverse("messages-from",function(t){t.remove(e)})},getTrustLevel:function(e){e=e||this.get(".type")||[];var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a>=51&&a<=56)return a-50}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null},getMessagesListWidget:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.LIST_TYPE;return this.select(".widgets.".concat(e,"[0]"))[0]||null},getMessageLinksInfo:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.BODY_TYPE;return this.select(".widgets.".concat(e,'[.info.type == "url_info"].controls[.type == "rich_preview_link"].attributes'))||[]},isSubscriptionMessage:function(){return(this.get(".type")||[]).some(function(e){return-1!==r.a.indexOf(e)})},getSubscriptionType:function(){return(this.get(".type")||[]).find(function(e){return-1!==r.a.indexOf(e)})},getSubscriptionData:function(){return{email:this.getFromEmail(),displayName:this.getFromName(),messageType:this.getSubscriptionType()}},getSender:function(){var e=this.getFieldsByType(this.getMessageFieldName());if(e.length)return e[0]}}})},function(e,t){ns.Model.define("message-presentation",{params:{ids:null,hid:null,fid:null,mailboxUid:null},methods:{fill:function(e){this.setData({flags:e.get(".flags"),field:e.get(".field"),firstline:e.get(".firstline"),subject:e.get(".subject"),subject_prefix:e.get(".subject_prefix")})},ensureOnDestroyBinded:function(e){if(this._isBindedOnDestroy){if(e.key!==this._bindedOnDestroyMessageKey){var t="ensureOnDestroyBinded called more then once: was binded to "+this._bindedOnDestroyMessageKey+", now binding to "+e.key;Jane.ErrorLog.send({errorType:"message-presentation.error",params:JSON.stringify(this.params),errorMessage:t})}}else this._isBindedOnDestroy=!0,this._bindedOnDestroyMessageKey=e.key,this.destroyWith([e])}}},ns.ModelStatic)},function(e,t){ns.Model.define("message-widget-events",{params:{ids:null},methods:{request:function(){return ns.request("message-body",this.params).then(this._onRequestSuccess,this._onRequestError,this)},_onRequestSuccess:function(){var e=ns.Model.get("message-body",this.params);return this.params.inc_hid=e.getCalendarICS(),this.params.stid=e.getSTID(),ns.request("get-event-ics",this.params).then(this._onRequestSuccessEventData,function(e){return this.setData({error:e}),Vow.reject(e)},this)},_onRequestSuccessEventData:function(e){var t=e&&e[0]&&e[0].data;t=t||{},this.setData(t),this.updateEventsData()},updateEventsData:function(){this.getEventKey()&&(this.hasOutdatedLabelOnMessage()&&this.markOutdated(),ns.Model.traverse("message-widget-events",this._onUpdateEventData.bind(this)))},_onUpdateEventData:function(e){if(e.isValid()){var t=this.getEventKey(),n=ns.Model.get("message-body",this.params).get(".info.date.timestamp"),r=ns.Model.get("message-body",e.params).get(".info.date.timestamp");this!==e&&t===e.getEventKey()&&(r<=n||e.hasOutdatedLabelOnMessage()?e.markOutdated():this.markOutdated())}},getEventKey:function(){var e=this.get(".eventInfo.instanceKey");return e&&e[0]},getEventInfo:function(){return this.get(".eventInfo")},markOutdated:function(){this.getOutdatedLID()&&!this.hasOutdatedLabelOnMessage()&&this.setOutdatedLabel(),this.set(".isOutdated",!0)},hasOutdatedLabelOnMessage:function(){var e=this.getOutdatedLID();return!!e&&ns.Model.get("message",this.params).hasLabel(e)},getOutdatedLID:function(){return ns.Model.get("labels").getLIDByName("not_show_widget_event")},setOutdatedLabel:function(){Daria.MOPS.doActionWithMessages([this.params.ids],"label",{lid:this.getOutdatedLID()})},setEventInfo:function(e){this.set(".eventInfo",e),this.set(".isNotOperate",!1)},_onRequestError:function(e){return this.setData({error:e}),Vow.reject(e)},refetchEventIcs:function(){return ns.request("get-event-ics",this.params,{forced:!0}).then(this._onRequestSuccessEventData,function(e){return Vow.reject(e)},this)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(347)),o=n(346),a=n(1117),s=n.n(a);function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}ns.Model.define("messages-checked",{params:Daria.params.messagesChecked,paramsRewrite:o.addMailboxUidParamsRewrite,ctor:function(){var e=this;this.touch=s()(this.touch,100,{trailing:!0,leading:!0}),this.bTouch=this.touch.bind(this),this.bChanged=s()(function(){Object(r.hasFeature)(r.Features.REACT_LAYOUT)&&e.trigger("ns-model-changed","")},100,{trailing:!0}),this.bOnMessagesInserted=this.onMessageInserted.bind(this),this.bOnMessagesRemoved=this.onMessageRemoved.bind(this)},events:{"ns-model-init":"_onInit","ns-model-destroyed":"_onDestroy"},methods:{INFOLINE_MESSAGES_COUNT:2,_mMessages:null,_onDestroy:function(){this._resetChecked(),this._mMessages.off("ns-model-insert",this.bOnMessagesInserted).off("ns-model-remove",this.bOnMessagesRemoved)},_onInit:function(){this._resetChecked(),this._mMessages=ns.Model.get("messages",this.params),this._mMessages.on("ns-model-insert",this.bOnMessagesInserted).on("ns-model-remove",this.bOnMessagesRemoved)},_resetChecked:function(){var e=this;_.forIn(this._checked,function(t){t.off("ns-model-touched",e.bTouch),t.off("ns-model-changed",e.bChanged)}),this._checked={},this._folderSelected=!1,this._listSelected=!1,this._tabSelected=!1,Object(i.getTabOrFolderCheckedBridge)().resetSelection({fid:this.params.current_folder,tid:this.params.tabId}),this._lastCheckedMessage=null,this.trigger("ns-model-reset-checked"),this.resetMemoizeAndTouch()},_resetMemoize:function(){Daria.memoizeClearCache(this.getCount)||(this.getCount=_.memoize(this.getCount)),Daria.memoizeClearCache(this.getData)||(this.getData=_.memoize(this.getData))},resetMemoizeAndTouch:function(){this._resetMemoize(),this.touch()},isValid:no.True,onMessageInserted:function(e,t){this.isListSelected()&&_.forEach(t,function(e){this.check(e,!0,{silent:!0})}.bind(this)),this.touch()},onMessageRemoved:function(e,t){_.forEach(t,function(e){this.check(e,!1,{silent:!0})}.bind(this)),this.touch()},resetChecked:function(){this._resetChecked()},getData:function(){return Object.keys(this.getCheckedMessagesHash())},isChecked:function(e){return Boolean(this._checked[e.get(".mid")])},isCheckedByMid:function(e){return Boolean(this._checked[e])},isSearchTopResultByMid:function(e){return this._mMessages.isSearchTopResult(e)},isCheckedByMidFromYate:function(e){var t=yr.nodeset2scalar(e);return this.isCheckedByMid(t)},toggleCheck:function(e){this.check(e,!this.isChecked(e)),this.setLastChecked(e)},check:function(e,t,n){var r=e.get(".mid");if(r||!e.get(".FAKE_THREAD_DATA")){var o=!1;n=_.extend({silent:!1},n),t?this._checked.hasOwnProperty(r)||(this._checked[r]=e,e.on("ns-model-touched",this.bTouch),e.on("ns-model-changed",this.bChanged),o=!0):(this._checked.hasOwnProperty(r)&&(delete this._checked[r],e.off("ns-model-touched",this.bTouch),e.off("ns-model-changed",this.bChanged),o=!0),this._listSelected=!1,this._folderSelected=!1,this._tabSelected=!1,Object(i.getTabOrFolderCheckedBridge)().resetSelection({fid:this.params.current_folder,tid:this.params.tabId})),o&&(this._resetMemoize(),n.silent||(this.touch(),this.triggerToggleCheckedOnMessage(e,n)))}},triggerToggleCheckedOnMessage:function(e,t){e.trigger("ns-model-checked-toggle",t,this.key)},checkByMidInParams:function(){if(this.params.mid){var e=ns.Model.get("message",{ids:this.params.mid,mailboxUid:this.params.mailboxUid});this.check(e,!0)}return this},isOnlyMessageChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length},isEmptyMessagesList:function(){return this._mMessages.isEmptyList()},isPinnedMessagesList:function(){return this._mMessages.hasOnlyPinnedMessages()},isOnlyMessageOrThreadChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length||0===e.ids.length&&1===e.tids.length},getOnlyMessageCheckedMid:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length?e.ids[0]:null},getOnlyCheckedMidOrTid:function(e){return e=e||this.getIds(),_.isEmpty(e.tids)?_.isEmpty(e.ids)?null:_.first(e.ids):_.first(e.tids)},getOnlyNotPinnedMessages:function(){return this._mMessages.models.filter(function(e){return!e.isPinned()})},getLabels:function(){var e=ns.Model.get("labels").getLabelsHash();return _(this.getCheckedMessages()).forEach(function(t){var n=t.get(".count"),r=t.get(".lid"),i=t.get(".lid_cnt");_(r).forEach(function(t){e[t]+=n>1?i[t]||0:n}).value()}).value(),e},getFolders:function(){var e=this,t=ns.Model.get("folders").getFoldersHash();if(this.isFolderSelected()){var n=this.getSelectedFolder();n&&(t[n]=ns.Model.get("folders").getCount(n))}else{var r=this.getIds();r.ids.concat(r.tids).forEach(function(n){var r=e.getCheckedMessagesHash()[n];t[r.getFolderId()]+=r.get(".count")})}return t},getTabs:function(){var e=ns.Model.get("tabs").get(".tabs").reduce(function(e,t){return e[t.id]=0,e},{});if(this.isTabSelected()){var t=this.getSelectedTab();if(t){var n=ns.Model.get("tab",{id:t}).getCount();return e[t]=n,e}}var r=this.getIds(),i=this.getCheckedMessagesHash();return[].concat(l(r.ids),l(r.tids)).reduce(function(e,t){var n=i[t];return n.getTabId()&&(e[n.getTabId()]+=n.get(".count")),e},e)},_getTotalCount:function(e){var t,n=e.tabId,r=e.fid;return n?t=ns.Model.get("tab",{id:n}).getCount():r&&(t=ns.Model.get("folders").getCount(r)),t},getCount:function(){var e=this,t=0;if(this.isFolderOrTabSelected())t=this._getTotalCount({fid:this.params.current_folder,tabId:ns.page.current.params.tabId});else{var n=this.getIds();t=n.ids.length,n.tids.forEach(function(n){t+=e.getCheckedMessagesHash()[n].get(".count")})}return t},getPinnedCount:function(){var e=this,t=0;return this.getData().forEach(function(n){ns.Model.get("message",{ids:n,mailboxUid:e.params.mailboxUid}).isPinned()&&(t+=1)}),t},getCheckedMessages:function(){var e=this,t=this.getIds();return _.map(t.tids.concat(t.ids),function(t){return ns.Model.get("message",{ids:t,mailboxUid:e.params.mailboxUid})})},getCheckedMessagesHash:function(){if(_.isEmpty(this._checked)&&!Object(r.hasFeature)(r.Features.WEB_REACT_TOOLBAR)&&!Object(r.hasFeature)(r.Features.REACT_LAYOUT)){var e=ns.page.current.params.thread_id||ns.page.current.params.ids;if(Daria.is3pane()&&e){var t=ns.Model.get("message",{ids:e,mailboxUid:this.params.mailboxUid});if(t.hasRealData())return _.set({},e,t)}}return this._checked},isFolderSelected:function(){return this._folderSelected},isTabSelected:function(){return this._tabSelected},isFolderOrTabSelected:function(){return this.isTabSelected()||this.isFolderSelected()},selectFolder:function(){this._folderSelected||!Boolean(this.params.current_folder)||this.params.tabId||(this._folderSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch(),Object(i.getTabOrFolderCheckedBridge)().selectFolder({fid:this.params.current_folder,tid:this.params.tabId}))},selectTab:function(){!this._tabSelected&&Boolean(this.params.current_folder)&&Boolean(this.params.tabId)&&(this._tabSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch(),Object(i.getTabOrFolderCheckedBridge)().selectTab({fid:this.params.current_folder,tid:this.params.tabId}))},getSelectedFolder:function(){return this._folderSelected?this.params.current_folder:null},getSelectedTab:function(){return this._tabSelected?this.params.tabId:null},selectList:function(){this._listSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch()},isListSelected:function(){return this._listSelected},canShowInfoline:function(){return(this.getCheckedMessages()||[]).length>=this.INFOLINE_MESSAGES_COUNT},shouldSelectAll:function(){return!this.isListSelected()&&!this.isFolderSelected()&&!this.isTabSelected()},toggleSelectAll:function(){this.shouldSelectAll()?this.selectList():this.resetChecked()},_checkAllFromCollection:function(){var e=this._mMessages.isSearch(),t=this._mMessages.isLabeledCollection(),n=this._mMessages.isUnreadMessagesCollection(),i=this._mMessages.isInNoPinsFolder(),o=this._mMessages.isWithAttachmentMessagesCollection();this._mMessages.models.forEach(function(a){(Object(r.hasFeature)(r.Features.WEB_SELECT_ALL_PINNED)||!a.isPinned()||e||t||n||i||o)&&this.check(a,!0)},this)},areAllCheckedInFolderOrTab:function(){var e=this._getTotalCount({fid:ns.page.current.params.current_folder,tabId:ns.page.current.params.tabId}),t=this.getCount();return this.isFolderOrTabSelected()||t>0&&t>=e},_areAllCheckedRead:function(e){var t,n=Object(o.getMailboxUid)();if(this.isTabSelected())return t=ns.Model.get("tabs",{mailboxUid:n}).getUnreadCount(this.getSelectedTab()),e?!t:t;if(this.isFolderSelected())return t=ns.Model.get("folders",{mailboxUid:n}).getUnreadCount(this.getSelectedFolder()),e?!t:t;var r=this.getCheckedMessagesHash();return!_.isEmpty(r)&&_.every(r,function(t){var n=t.isNew();return e?!n:n})},areAllCheckedRead:function(){return this._areAllCheckedRead(!0)},areAllCheckedPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this.getCheckedMessages().filter(function(e){return e.isPinned()});return!_.difference(e,t).length},hasPinnedCheckedMessage:function(){return this.getCheckedMessages().some(function(e){return e.isPinned()})},hasImportantCheckedMessage:function(){return this.getCheckedMessages().some(function(e){return e.isImportant()})},areAllCheckedNotPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this._mMessages.models;if(e.length===t.length)return!1;var n=this.getCheckedMessages(),r=_.difference(t,n);return 0===_.difference(r,e).length},getIds:function(e,t){var n={threads:[],messages:[]},r=this.getCheckedMessagesHash();for(var i in r){var o=r[i];if(e){var a="to"+Daria.capitalize(e);if(o[a]&&!o[a](t))continue}n[o.isThreadModel()?"threads":"messages"].push(o)}var s={ids:[],tids:[]};return n.threads.forEach(function(e){var t=e.get(".mid");t&&(n.messages=n.messages.filter(function(e){return e.get(".tid")!==t}),s.tids.push(t))}),n.messages.length&&(s.ids=s.ids.concat(n.messages.map(function(e){return e.params.ids}))),s},runAction:function(e,t){var n={action:e,params:t};this.trigger("run-action",n)},runOps:function(e,t){return Daria.MOPS[e](this,t)},runLabelAction:function(e){return this.runAction("label",{lid:e})},getLastChecked:function(){if(Daria.is2pane())return this._lastCheckedMessage||this._mMessages.models[0];var e=ns.page.current.params.thread_id||ns.page.current.params.ids;return this._lastCheckedMessage||this._mMessages.getMessageByMid(e)||this._mMessages.models[0]},setLastChecked:function(e){var t=this.isChecked(e);if(t)this._lastCheckedMessage=e;else if(t||this._lastCheckedMessage!==e||(this._lastCheckedMessage=null),!this._lastCheckedMessage){var n=this._mMessages.models,r=n.indexOf(e);if(-1===r)return void(this._lastCheckedMessage=null);var i,o,a=null,s=1;do{if(i=n[r+s],o=n[r-s],i&&this.isChecked(i)){a=i;break}if(o&&this.isChecked(o)){a=o;break}s++}while(i||o);this._lastCheckedMessage=a}},getLidsSet:function(){var e=Object(o.getMailboxUid)(),t=this.getIds(),n=[].concat(l(t.ids),l(t.tids)),r=new Set;return n.forEach(function(t){ns.Model.get("message",{ids:t,mailboxUid:e}).get(".lid").forEach(function(e){return r.add(e)})}),r}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(370),i=n(538),o=n(1589),a=n(137),s=(n.n(a),n(554)),l=(n.n(s),n(3)),c=(n.n(l),n(346));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){function e(e,n,r,i){i=i||Number.POSITIVE_INFINITY;for(var o=[],a=ns.Model.get("folders",{mailboxUid:n}),s=0,l=e.length;s<l;s++){var c=e[s].getData(),u=e[s].isThread();if((u||a.isIncoming(c.fid)&&t(c,r))&&(u?o.push({tid:c.tid}):o.push({mid:c.mid}),o.length>=i))break}return o}function t(e,t){return parseInt(e.size,10)<t}ns.Model.define("messages",{events:{"ns-model-before-destroyed":"_setRefreshCount","ns-model-insert":"_arrangeTopResultsFirst","ns-model-remove":"_onModelRemove"},params:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({mailboxUid:null,threaded:null,goto:null,filter_ids:null,current_folder:null,current_label:null,thread_id:null,extra_cond:null,page_number:null,sort_type:"date",request:null,datePager:null,mrange:null,excluded:null,search:null,force:null},s.AdvancedSearchParams.reduce(function(e,t){return e[t]=null,e},{}),{tabId:null,first:null,count:null,with_pins:"yes",allow_empty:null,prevent_update:null}),split:{items:".message",model_id:function(){return"message"},params:{ids:".mid",mailboxUid:".mailboxUid"}},paramsRewrite:function(e){return e.thread_id&&e.current_folder&&delete e.thread_id,"only_atta"===e.extra_cond&&delete e.current_folder,Daria.messages.checkUsePinsByParams(e)?e.with_pins="yes":delete e.with_pins,Object(c.addMailboxUidParamsRewrite)(e)},requiredFeatures:["web_search_extra_params"],methods:{SEARCH_PARAMS:["request","scope","unread","from","to","excluded","search","type","attaches","deleted"],_splitModels:function(e){this.params.prevent_update&&_.each(e,function(e){e.__prevent_update=!0});var t=this.super_._splitModels.apply(this,arguments),n=this.params.current_folder;return n&&t.forEach(function(e){if(e.isValid()){var t=_.extend({},e.params,{fid:n}),r=ns.Model.get("message-presentation",t);r.fill(e),r.ensureOnDestroyBinded(e)}}),t},preprocessData:function(e){return"yes"===this.params.threaded&&(e=this._createThreadsFromMessages(e)),_.defer(this.preloadAllMessages.bind(this)),e},getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return this.params.search&&(e.reqid=Daria.React.getSearchSessionId(),this.isSearchNotFilter()&&"count"in e&&(e.count=Math.max(e.count,10))),e.filter_ids&&(e.filter_ids=e.filter_ids.join()),e},_setRefreshCount:function(){this._refreshCount=this.models.length},_unsetRefreshCount:function(){delete this._refreshCount},_hasParamsForRequest:function(){var e=this.params,t="search"===e.search,n=e.deviation,r=e.current_folder,i=e.thread_id,o=e.current_label,a="all"===e.goto;return[t,n,r,i,o,a&&"only_new"===e.extra_cond,a&&"only_atta"===e.extra_cond,e.filter_ids,e.tabId].some(function(e){return e})},_fakeRequest:function(){return this.request=void 0,this.setData({details:{"has-more":!1},message:[]}),Vow.resolve()},getRequest:function(){var e=this;if(this.isFakeMessages())return this.params.allow_empty||Jane.ErrorLog.log({message:"Messages request without params",type:l.ErrorType.NsModel,source:l.ErrorSource.Logic,sourceMethod:l.ErrorSourceMethod.MessagesNoParams,block:l.ErrorBlock.MailModule,method:"getRequest",params:JSON.stringify(_.omit(this.params,"request"))},new Error),this.request=this._fakeRequest,this;if(this.isValid())return this;var t=this.getCount()||this._refreshCount;if(!t)return this;var n=this._getCountForRequest(t),r=ns.Model.get(this.id,$.extend({},this.params,{first:this.params.first||0,count:n}));return r.once("ns-model-changed",function(){e.setData(this.getData()),e._unsetRefreshCount(),ns.Model.destroy(this)}),r},_arrangeTopResultsFirst:function(){var e=this;this.isSearchNotFilter()&&Daria.arrangeMatchingFirstInline(this.models,function(t){return e.isSearchTopResult(t.get(".mid"))})},_onModelRemove:function(e,t){this._updateThreadMetaOnRemove(t),this._updateDetailsForSearch(t)},_updateThreadMetaOnRemove:function(e){var t=this.params.thread_id;if(t){var n=this.params.mailboxUid,r=ns.Model.get("message",{ids:t,mailboxUid:n});if(r.hasRealData()){var i=r.get(".last_mid");-1!==_.findIndex(e,function(e){return e.params.ids===i&&e.get(".date.timestamp")===r.get(".date.timestamp")})&&this.updateThreadMeta(r)}}},_updateDetailsForSearch:function(e){if(void 0!==this.get(".details.total-found")){var t=this.get(".details.total-found")||0,n=e.length;this.set(".details.total-found",Math.max(t-n,0));var r=this.get(".details.top-relevant")||0,i=this.get(".details.topResultsMids"),o=0;i&&(e.forEach(function(e){var t=e.get(".mid"),n=i.indexOf(t);n>-1&&(o++,i.splice(n,1))}),o>0&&(this.set(".details.top-relevant",Math.max(r-o,0)),this.set(".details.topResultsMids",i)))}},_createThreadsFromMessages:function(e){var t=this;return e.message=e.message.map(function(e){return t._createThreadFromMessage(e)}),e},_createThreadFromMessage:function(e){var t=this.params.mailboxUid,n=ns.Model.get("message",{ids:e.mid,mailboxUid:t}).setData(e);if(!Daria.messages.toCreateThread(n))return e;var r=_.cloneDeep(e);r.last_mid=e.mid,r.mid=r.tid;var i=ns.Model.get("messages",{thread_id:r.tid,mailboxUid:t});return i.isValid()||i.setData({details:{"has-more":!1},message:[e]}),r},loadMore:function(e){var t;e&&!this.isValid()?(t=0,this.clear()):t=this.getCount();var n=ns.Model.get("settings").getSetting("messages_per_page"),r=$.extend({},this.params,{first:t,count:n});return ns.request("messages",r).then(function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var n,r=t.get(".details")||{},i=this.get(".details")||{};("topResultsMids"in r||"topResultsMids"in i)&&(n=_.union(i.topResultsMids,r.topResultsMids));var o=$.extend(i,r);n&&(o.topResultsMids=n),this.set(".details",o,{silent:!0});var a=t.models;return this.insert(a),ns.Model.destroy(t),a},this)},refresh:function(){var e=_.assign({},this.params,{first:0,count:this._getCountForRequest(this.getCount())}),t=ns.Model.get(this.id,e),n=this;return t.once("ns-model-changed",function(){n.setData(this.getData())}),ns.request.models([t],{forced:!0}).then(function(){ns.Model.destroy(t)})},_getCountForRequest:function(e){var t=ns.Model.get("settings").getSetting("messages_per_page"),n=e||t;return n=Math.ceil(n/t)*t,n=Math.min(n,200)},canLoadMore:function(){return Boolean(this.get(".details.has-more"))},getCount:function(){return this.models.length},getUnreads:function(){return this.models.filter(function(e){return e.isNew()})},getUnreadCount:function(){return this.getUnreads().length},getPinned:function(){return this.models.filter(function(e){return e.isPinned()})},getTotal:function(){for(var e=0,t=0,n=this.models.length;t<n;t++)e+=this.models[t].get(".count");return e},preloadAllMessages:function(){var e=this.params,t=this.params.mailboxUid,n=ns.Model.get("folders",{mailboxUid:t}),r=e.current_folder;if(!r||!n.spamOrTrash(r)){var i=this.models.map(function(e){var t=e.get(".mid");return e.isThread()?{tid:t}:{mid:t}});Daria.messages.preload(i)}},preloadMessages:function(){var t,n=this.params,r=ns.Model.get("folders",{mailboxUid:n.mailboxUid}),i=n.current_folder;if(i===r.getFidBySymbol(a.WellKnownFolderSymbol.INBOX))t="inbox";else{if(i in r.ids())return!1;t="user_folder"}n.thread_id&&(t="thread");var o=this.getUnreads(),s=o.length;if(0===s)return!1;var l=this.getCount(),c=Math.round(s/l*100),u=[];switch(t){case"user_folder":(l<=10||c<=80)&&(u=e(o,n.mailboxUid,20,10));break;case"thread":default:l<=10||c<=30?u=e(o,n.mailboxUid,50):c<=80&&(u=e(o,n.mailboxUid,50,10))}return Daria.messages.preload(u),!0},getNextPage:function(){return jpath(this.data,".details.pager.next")[0]||null},getPrevPage:function(){return jpath(this.data,".details.pager.prev")[0]||null},deleteMessage:function(e){var t=this.params.mailboxUid,n=ns.Model.get("message",{ids:e,mailboxUid:t});return this.remove(n)},getCountThreadMessageInFolder:function(){return!this.canLoadMore()&&this.select('.message[.fid == "'+ns.page.current.params.current_folder+'"]').length},getEmails:function(){var e={};return this.models.forEach(function(t){var n=t.getData(),r={};r.social=t.hasSocialLabels(),r.type=n.type,n.field.forEach(function(e){r[e.type]={ref:e.ref,email:e.email}}),e[n.mid]=r}),e},isFakeMessages:function(){return this.canRequest()&&!this._hasParamsForRequest()},insertMessage:function(e,t){if(!this.isValid())return!1;ns.events.trigger("daria:vContextMenu:close"),t&&this.remove(t);var n=0;return"yes"!==this.params.with_pins||e.isPinned()||(n=this.getPinned().length),this.insert(e,n),!0},insertMessageBySort:function(e){if(!this.isValid())return!1;if(this.isEmptyList())this.insert(e);else{var t,r,i=n[this.params.sort_type];ns.assert(i,"mMessages","invalid sort type");var o=this.models.length,a=this.getPinned().length;e.isPinned()?(r=this.models.slice(0,a),-1===(t=_.findIndex(r,i,e))&&(t=a)):(r=this.models.slice(a),-1===(t=_.findIndex(r,i,e))?t=o:t+=a),(t>=0&&t<o||!this.canLoadMore())&&this.insert(e,t)}},updateThreadMeta:function(e){var t=_.findIndex(this.models,function(e){return e.isExternalLike()});-1===t&&(t=0);var n=this.models[t];n&&e.updateThreadContextInfo(n)},isEmptyList:function(){return this.isValid()&&0===this.getCount()},isSearch:function(){return Object.keys(this.params).some(function(e){return _.include(this.SEARCH_PARAMS,e)},this)},isLabeledCollection:function(){return Boolean(this.params.current_label)},isInNoPinsFolder:function(){var e=this.params.mailboxUid,t=ns.Model.get("folders",{mailboxUid:e}),n=this.params.current_folder;return n&&(t.spamOrTrash(n)||t.draftOrTemplate(n))},isSearchNotFilter:function(){return Boolean(this.params.search)&&(Boolean(this.params.request)||Boolean(this.params.fid)||Boolean(this.params.lid))&&"rpopinfo"!==this.params.scope},isSearchTopResult:function(e){return(this.get(".details.topResultsMids")||[]).indexOf(e)>-1},isUnreadMessagesCollection:function(){return"only_new"===this.params.extra_cond||"yes"===this.params.unread||"unread"===this.params.unread},isWithAttachmentMessagesCollection:function(){return"only_atta"===this.params.extra_cond},isImportantMessagesCollection:function(){var e=this.params.mailboxUid,t=ns.Model.get("labels",{mailboxUid:e});return this.params.current_label===t.getImportantLID()},_doOper:function(e,t){var n=new Daria.MOPS.Opinfo,r=this.models.length;if(!r)return n.resetAdjust(),n;n.setModelsCount(r);for(var i=0;i<r;i++){var o=this.models[i][e](t);n.merge(o)}return n},mark:function(){return this._doOper("mark")},unmark:function(){return this._doOper("unmark")},label:function(e){return this._doOper("label",e)},unlabel:function(e){return this._doOper("unlabel",e)},hasOnlyPinnedMessages:function(){return!this.hasUnpinned()&&!this.canLoadMore()},hasMessageWithLabel:function(e,t){var n=this.models.length;if(!n||n!==t)return null;for(var r=0;r<n;r++)if(this.models[r].hasLabel(e))return!0;return!1},getPrevMessageByMid:function(e){return this.getNearestMessageByMid(e,"prev")},getNextMessageByMid:function(e){return this.getNearestMessageByMid(e,"next")},getNearestMessageByMid:function(e,t){if(!e)return!1;var n=this.params.mailboxUid,r=ns.Model.get("message",{ids:e,mailboxUid:n}),i=this.models,o=i.indexOf(r),a=-1;switch(t){case"prev":a=o-1;break;case"next":a=o+1}return i[a]||!1},getMessageByMid:function(e){return _.find(this.models,"params.ids",e)||null},recalculateIndexesAfterPin:function(e,t){var n=this.params.current_folder,r=this.params.tabId;this.remove(e),e.forEach(function(e){var i=Daria.areFoldersTabsEnabled()&&e.isInTab()&&r===e.getTabId(),o=n===e.getFolderId();(t||!t&&(!r&&o||i))&&this.insertMessageBySort(e)},this)},getLastReplyMessage:function(){for(var e,t=0,n=this.models.length;t<n&&!(e=this.models[t]).canReply();t++);return e},getLastReplyMessageQR:function(){return _.find(this.models,function(e){return e.canReplyQR()})},hasUnpinned:function(){return this.models.some(function(e){return!e.isPinned()})},hasMessagesFromFolder:function(e){return-1!==_.findIndex(this.models,function(t){return t.getFolderId()===e})},hasMessagesFromTab:function(e,t){return-1!==_.findIndex(this.models,function(n){return n.getFolderId()===e&&n.getTabId()===t})},setError:function(){this.scenarioManager.hasActiveScenario(r.d)&&this.scenarioManager.getActiveScenario(r.d).logError(i.d),this.scenarioManager.hasActiveScenario(r.e)&&this.scenarioManager.getActiveScenario(r.e).logError(o.b),ns.Model.prototype.setError.apply(this,arguments)}}},"model-collection-with-scenario-manager-mixin");var n={from:function(e){return e.getFromName().toLowerCase()>this.getFromName().toLowerCase()},from1:function(e){return e.getFromName().toLowerCase()<this.getFromName().toLowerCase()},date:function(e){return e.get(".date.timestamp")<this.get(".date.timestamp")},date1:function(e){return e.get(".date.timestamp")>this.get(".date.timestamp")},size:function(e){return e.get(".length")<this.get(".length")},size1:function(e){return e.get(".length")>this.get(".length")},subject:function(e){return e.getSubject().toLowerCase()>this.getSubject().toLowerCase()},subject1:function(e){return e.getSubject().toLowerCase()<this.getSubject().toLowerCase()}}}()},function(e,t){ns.Model.define("message-head-state",{params:{ids:null,hid:null},events:{"ns-model-init":function(){var e=ns.Model.get("settings"),t=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_SENDER_CLOSE)&&e.isSet(this.SETTING_MSG_HEAD_SENDER_CLOSE)),n=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_RECIEVERS_OPEN)&&e.isSet(this.SETTING_MSG_HEAD_RECIEVERS_OPEN));this.setData({"sender-closed":t,"recievers-opened":n})}},methods:{SETTING_MSG_HEAD_SENDER_CLOSE:"m_head_folded_sender",SETTING_MSG_HEAD_RECIEVERS_OPEN:"m_head_full_edition",toggleSenderOpened:function(){var e=this.get(".sender-closed");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_SENDER_CLOSE,this._onSettingsChangeSuccess.bind(this))),this.set(".sender-closed",!e),!e},setRecieversOpened:function(e){this.set(".recievers-opened",e)},getRecieversOpened:function(){return this.get(".recievers-opened")},toggleRecieversOpened:function(){var e=this.get(".recievers-opened");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_RECIEVERS_OPEN,this._onSettingsChangeSuccess.bind(this))),this.set(".recievers-opened",!e),!e},_onSettingsChangeSuccess:function(){this._lockToggleMessageHead=!1}}},ns.ModelStatic)},function(e,t){ns.Model.define("module-common",{methods:{MODULES:[],request:function(){var e=this;return Jane.Services.runModules(this.MODULES).then(function(){return e.afterRunModules()}).then(function(){return e.finishRequest()})},afterRunModules:function(){},finishRequest:function(){this.setData(!0),ns.Model.get("app-state").set(".".concat(this.id,"-loaded"),!0)}}})},function(e,t){ns.Model.define("module-compose",{methods:{MODULES:["compose.css","compose2.js","compose2.yate"]}},"module-common")},function(e,t){ns.Model.define("module-direct",{methods:{MODULES:["direct.js","direct.css"],afterRunModules:function(){return Daria.yabsManager.run()}}},"module-common")},function(e,t){ns.Model.define("module-editor",{methods:{MODULES:["ckeditor.js","editor.css"]}},"module-common")},function(e,t){ns.Model.define("module-message",{methods:{MODULES:["message.css","message.js","message.yate"]}},"module-common")},function(e,t){ns.Model.define("module-messages",{methods:{MODULES:["messages.css","messages.js","messages.yate"]}},"module-common")},function(e,t){ns.Model.define("module-promo",{methods:{MODULES:["promo.css","promo.js"]}},"module-common")},function(e,t){ns.Model.define("module-setup",{methods:{MODULES:["messages.css","setup.css","setup.js","setup.yate"]}},"module-common")},function(e,t){ns.Model.define("module-timeline",{methods:{MODULES:["timeline.js","timeline.yate"]}},"module-common")},function(e,t){ns.Model.define("scroller-common",{methods:{EVENT_NAME:"MUST_BE_DEFINED",HEIGHT_KEY:".height",OFFSET_HEIGHT_KEY:".offset-height",SCROLL_HEIGHT_KEY:".scroll-height",SCROLL_BOTTOM_KEY:".scroll-bottom",SCROLL_TOP_KEY:".scroll-top",_rafTimer:0,_$area:null,init:function(){this.getScroller(),this._onResizeBinded||(this._onResizeBinded=!0,ns.Model.get("dimensions").on("resize",this._onScroll.bind(this)))},_initScroller:function(){var e="scroll."+this.id;this._$area&&(this._$area.off(e),this._$area=null),this._$area=this._getScroller(),this._$area[0]===window?this._$animatedArea=$("body, html"):this._$animatedArea=this._$area,this._$area.on(e,this._onScroll.bind(this))},_getScroller:ns.todo,_onScroll:function(){this._rafTimer||(this.clean(),ns.events.trigger(this.EVENT_NAME))},clean:function(){this.setData({},{silent:!0}),this._rafTimer=0},getScrollOffset:function(){return 0},getNodeTop:function(e){var t=this.getScroller()[0];if(t===window)return e.getBoundingClientRect().top+this.getScrollTop();var n=0,r=e;do{if(n+=r.offsetTop,(r=r.offsetParent)&&r===t)break}while(r);return n},getScroller:function(){var e=this._$area&&this._$area[0];return e&&($.isWindow(e)||document.body.contains(e))||this._initScroller(),this._$area},getHeight:function(){var e=this.get(this.HEIGHT_KEY);return"number"!=typeof e&&(e=this.getScroller().height(),this._setDimension(this.HEIGHT_KEY,e)),e},getScrollHeight:function(e){var t=this.get(this.SCROLL_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("scrollHeight"),this._setDimension(this.SCROLL_HEIGHT_KEY,t)),t},getOffsetHeight:function(e){var t=this.get(this.OFFSET_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("offsetHeight"),this._setDimension(this.OFFSET_HEIGHT_KEY,t)),t},getScrollBottom:function(){var e=this.get(this.SCROLL_BOTTOM_KEY);return"number"!=typeof e&&(e=this.getScrollHeight()-this.getHeight()-this.getScrollTop(),this._setDimension(this.SCROLL_BOTTOM_KEY,e)),e},getScrollTop:function(){var e=this.get(this.SCROLL_TOP_KEY);return"number"!=typeof e&&(e=this.getScroller().scrollTop(),this._setDimension(this.SCROLL_TOP_KEY,e)),e},getVDimensions:function(){var e=this.getScrollTop()+this.getScrollOffset();return{bottom:e+this.getHeight(),top:e}},setScrollTop:function(e,t){if(this._$animatedArea.stop(),t){var n=this;this._rafTimer="ANIMATED",this._$animatedArea.animate({scrollTop:e},{duration:"fast",always:function(){n._rafTimer=null,n._onScroll()}})}else this._$animatedArea.scrollTop(e)},scrollIntoView:function(e,t){var n,r="boolean"==typeof(t=t||{}).alignToTop,i=Number(t.viewTopOffset)||0,o=Number(t.viewBottomOffset)||0,a=$(e),s=t.relative?e.offsetTop:a.offset().top,l=s+a.outerHeight(),c=this.getScrollTop()+Math.abs(i),u=c+this.getHeight()+o;return l>u&&(!1===t.alignToTop||!r)?n=c+(l-u):s<c&&(!0===t.alignToTop||!r)&&(n=s+i),void 0!==n&&(n=Math.max(Math.floor(n),0),this.setScrollTop(n,Boolean(t.animate)),!0)},isRelativeOffset:function(){return!1},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.Model.define("scroller-message",{events:{"ns-model-init":"clean"},methods:{THREAD_HEAD_HEIGHT:47,EVENT_NAME:"daria:vScrollerMessage:scroll",getScrollOffset:function(){return this.THREAD_HEAD_HEIGHT},isRelativeOffset:function(){return Daria.is3pane()},_getScroller:function(){return Daria.is2pane()?Object(r.hasFeature)(r.Features.REACT_LAYOUT)?$(".js-messages-scroll-area"):$(window):$(".js-message-scroll-area")}}},"scroller-common")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.Model.define("scroller-messages",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerMessages:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Object(r.hasFeature)(r.Features.REACT_LAYOUT)?Daria.is2pane()?$(".js-messages-scroll-area"):$(".mail-Layout-Pane-Wrap"):Daria.is2pane()?$(window):$(".js-messages-scroll-area")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("scroller-compose",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerCompose:scroll",getScrollOffset:function(){return 0},isRelativeOffset:function(){return!1},_getScroller:function(){return Daria.is2pane()?$(window):$(".js-compose-scroller")}}},"scroller-common")},function(e,t){ns.Model.define("scroller-abook-contacts",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerAbookContacts:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Daria.is2pane()?$(window):$(".js-entries-container")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("secret-key")},function(e,t){ns.Model.define("disk-editor-secret-key")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(370),i=n(538);ns.Model.define("email-info-v2",{events:{"ns-model-init":"_onInit"},params:{email:null,ref:null},methods:{_onInit:function(){this.params.email||this.setData({})},setError:function(){this.scenarioManager.hasActiveScenario(r.d)&&this.scenarioManager.getActiveScenario(r.d).logError(i.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")},function(e,t){ns.Model.define("informer-tanks-news",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){setInterval(function(){ns.Model.invalidate("informer-tanks-news")},18e5)},preprocessData:function(e){if(!_.isEmpty(e))return e.forEach(function(e){e.date&&(e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)),e.firstline&&(e.firstline=$(e.firstline)[0].innerText.trim())}),e}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);n.n(r);ns.Model.define("settings-sign",{methods:{SETTINGS_SIGN:{allow_pers_data_autocomplete:"_defaultTrue",browser_notify_blank:"_invert",compose_samples:"_defaultTrue",disable_etickets:"_invert",disable_promo:"_invert",disable_inboxattachs:"_invert",disable_events:"_invert",disable_yabbles:"_invert",enable_imap_auth_plain:"_defaultTrue",notify_message:"_signNotifyMessage",mute_ad_until:"_zeroByDefault",timeline_enable:"_signTimelineEnable",right_column_expanded:"_defaultTrue",show_priority_label:"_defaultTrue",show_priority_stuff:"_signShowPriorityStuff",show_priority_tab:"_defaultTrue",subscribed_folders:"_allFoldersByDefault",subscribed_tabs:"_tabsByDefault",show_widgets_decor:"_defaultTrue",show_widgets_buttons:"_defaultTrue",show_sidebar_with_widgets:"_defaultTrue",liza_minified_header:"_invert",show_shared_mailboxes:"_defaultTrue"},getSign:function(e,t){var n=this.getSetting(e,t),r=this.SETTINGS_SIGN[e];return r&&(n=_.method(r,n,e)(this)),n},signToSetting:function(e,t){var n=this.SETTINGS_SIGN[e];return"_invert"===n&&(t=_.method(n,t,e)(this)),t},_invert:function(e){return!e},_defaultTrue:function(e,t){return e=!this.hasSetting(t)||this.getSetting(t),Boolean(e)},_zeroByDefault:function(e,t){return this.hasSetting(t)?Number(this.getSetting(t)):0},_signNotifyMessage:function(e,t){return this.hasSetting(t)||(e=!Daria.IS_CORP),Boolean(e)},_signTimelineEnable:function(){return ns.Model.get("settings").checkTimelineEnable()},_allFoldersByDefault:function(){var e=ns.Model.get("folders"),t=ns.Model.get("settings").getSetting("subscribed_folders");if("string"!=typeof t){var n=e.getInboxFolders().sort();if(Daria.areFoldersTabsEnabled()){var i=ns.Model.get("folders").getFidBySymbol(r.WellKnownFolderSymbol.INBOX);return n.filter(function(e){return e!==i})}return n}var o=[];return"["===t[0]?o=JSON.parse(t.replace(/&quot;/g,'"')):t&&(o=t.split(",")),o.filter(e.isPresentAndNotShared.bind(e))},_tabsByDefault:function(){var e=ns.Model.get("settings").getSetting("subscribed_tabs");if("string"!=typeof e)return Daria.areFoldersTabsEnabled()?["relevant"]:[];var t=[];return"["===e[0]?t=JSON.parse(e.replace(/&quot;/g,'"')):e&&(t=e.split(",")),t},_signShowPriorityStuff:function(e,t){if(this.hasSetting(t))return Boolean(this.getSetting(t));var n=this.getSign("show_priority_label"),r=this.getSign("show_priority_tab");return Boolean(n&&r)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1590);function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=[{name:"enable_hotkeys",trueValue:!0}],t={POPULAR_CONTACTS_SETTING_NAME:"compose_samples",getSetting:function(t,n){if(Daria.Config.NO_SETTINGS){var r=_.find(e,"name",t);if(r)return r.trueValue}var i=this.get("."+t);if("json"===n)try{return JSON.parse(decodeURIComponent(i))}catch(e){return{}}return i},hasSetting:function(e){return(this.getData()||{}).hasOwnProperty(e)},isSet:function(t){return!(!Daria.Config.NO_SETTINGS||!_.find(e,"name",t))||Boolean(this.get("."+t))},setSettingOn:function(e,t){if(t=t||Jane.Common.nop,this.isSet(e))t(!0);else{var n={};n[e]=!0,this.setSettings(n,function(e,n){t(e,n)})}},setSettingOff:function(e,t){if(t=t||Jane.Common.nop,this.isSet(e)){var n={};n[e]=!1,this.setSettings(n,function(e,n){t(e,n)})}else t(!0)},toggleSetting:function(e,t){this.isSet(e)?this.setSettingOff(e,t):this.setSettingOn(e,t)},setSettings:function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},Daria.Config.NO_SETTINGS||$.isEmptyObject(e))return vow.reject("settings not available");n=n||Jane.Common.nop;var o=this._makeSaveRequest(e);if(null===o)return n(!0,[]),vow.resolve();if(o.error)return n(!1,o.error),vow.reject();for(var a in e)this.setIfChanged("."+a,e[a],t);var s=this.id,l=ns.forcedRequest([{id:"do-".concat(s),params:o},{id:s,params:Object.assign({},this.params,{actual:!0,list:o.list})}]).then(function(e){var o=ns.Model.get(s),a=e[1].getData(),l=!1;a&&"object"===i(a)&&Object.keys(a).forEach(function(e){o.setIfChanged("."+e,a[e],t),l=l||Object(r.a)(e)}),l&&Object(r.b)(o.getData()),ns.Model.destroy(e[1]),n(!0,[])},function(){n(!1,[])});return vow.resolve().then(function(){return l})},getMultiSetting:function(e){return this.getSetting(e,"json")||{}},saveMultiSetting:function(e,t){if("object"!==i(t)||null===t)throw new TypeError("Parameter value must be not empty object");var n=$.Deferred(),r={};r[e]=t;var o=this;return this.setSettings(r,function(){n.resolve(o.getData())}),n.promise()}};t.updateSetting=function(e,t,n){if(arguments.length<2)throw new Error(Daria.supplant("updateSettings takes exactly 2 arguments - {argc} given",{argc:arguments.length}));if(!e)throw new Error("Argument `name` must be specified");var r=e.split(".");e=r[0],r.length>1&&(t=function(e,t){_.isString(e)&&(e=e.split("."));var n=_.size(e)-1;return e.reduce(function(e,r,i){var o=i===n?t:{},a=_.last(e)[r]=o;return e.push(a),e},[{}])[0]}(r.slice(1),t));var i,o=this.getSetting(e,"json");return i=$.isPlainObject(t)?_.merge({},o,t):t,this.setSettings(_.zipObject([e],[i]),n)},t.recordAttemptToRegisterMAILTOProtocolHandler=function(e,t){if(t=Boolean(t),!e)return!1;var n=this.getSetting("rph")||"mozilla=0&opera=0&webkit=0",r=e+"="+Number(t);return!_(n).contains(r)&&(n=n.replace(e+"="+Number(!t),r),this.setSettings({rph:n}),!0)},t._checkSName=function(e){if(!e)throw new Error("Parameter namespace is compulsory");if((e=String(e)).length>30)throw new RangeError('Namespace "'+e+'" can not be over than 30 chars');return{name:e}},t._checkSValue=function(e,t){var n=$.type(t);switch(n){case"boolean":case"object":case"array":case"string":case"null":case"undefined":case"number":break;default:throw new TypeError('Invalid type setting "'+e+'" value: '+n)}return{value:t,error:!1}},t._makeSaveRequest=function(e){var t={},n=[],r=[];for(var i in e)if("signs"!==i){var o=this._checkSName(i),a=this._checkSValue(i,e[i]);!1===a.error?(t[o.name]=a.value,n.push(o.name)):r.push(a.error)}else Daria.debug.error('Please, use model "signs"');return r.length?{error:r}:{actual:!0,list:n.join(","),params:JSON.stringify(t)}},t.isNativeEmail=function(){var e=this.getSetting("emails"),t=Daria.email.normalize(this.getSetting("default_email")).toLowerCase();return(e.filter(function(e){return e.native?Daria.email.normalize(e.address).toLowerCase()===t:e.address&&e.address.toLowerCase()===t})[0]||{}).native},t.getValidatedEmails=function(){return this.get(".reply_to")||[]},ns.Model.define("settings-base",{methods:t},"settings-sign")}()},function(e,t,n){"use strict";var r="".concat("stngs",".").concat("1");e.exports={COOKIE_NAME:"stngs",COOKIE_VERSION:"1",COOKIE_SIGN:r,SETTINGS_FALLBACK:[{name:"color_scheme",defaultValue:"colorful"},{name:"layout",defaultValue:0},{name:"messages_avatars",defaultValue:!0},{name:"enable_autosave",defaultValue:!0}],SETTINGS_FALLBACK_KEY:"FALLBACK"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.Model.define("settings",{params:{list:null,actual:null},events:{"ns-model-changed.color_scheme":"_onColorSchemeChange"},methods:{preprocessData:function(e){return["from_name"].forEach(function(t){e.hasOwnProperty(t)&&(e[t]=_.unescape(e[t]))}),Object(r.hasFeature)(r.Features.WEB_SMART_DISPLAY_NAME)&&(e.from_name=[Daria.Config.name&&Daria.Config.name.last,Daria.Config.name&&Daria.Config.name.first,Daria.Config.name&&Daria.Config.name.middle].filter(Boolean).join(" ")),Modernizr.ios&&(e.enable_richedit=!1),ns.events.trigger("settings-updated"),Object.assign(e,Object(r.getFeatureParams)(r.Features.SETTINGS_OVERRIDE)||{}),(!e.messages_per_page&&!this.params.list||Daria.is3pane()||Object(r.hasFeature)(r.Features.WEB_REACT_MESSAGES_LIST))&&(e.messages_per_page=30),e},getPromoThemeSettingName:function(e){var t="_shown";return e&&(t="_set"),"promo_theme"+t},withBiggerText:function(){return this.isSet("with_bigger_text")},getCurrentTheme:function(){return this.getSetting("color_scheme")},_onColorSchemeChange:function(){ns.events.trigger("daria:themes:mail-theme-change",this.getCurrentTheme())},checkTimelineEnable:function(){return Daria.checkTimelineAvailable()&&!this.hasSetting("timeline_enable")||this.isSet("timeline_enable")},isThreaded:function(){return this.isSet("folder_thread_view")},threadedOn:function(){this.isThreaded()||this.setSettingOn("folder_thread_view")},threadedOff:function(){this.isThreaded()&&this.setSettingOff("folder_thread_view")},threadedToggle:function(){this.isThreaded()?this.threadedOff():this.threadedOn()},setLastActive:function(e){this.setSettings({last_active:Daria.now()},e)},setOpenedFolders:function(e){var t=e.join(",");this.setSettings({folders_open:t})}}},"settings-base")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346),i=n(349);n.n(i);ns.Model.define("mailbox-settings",{params:{list:null,actual:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,methods:{preprocessData:function(e){var t=this;if(["from_name"].forEach(function(t){e.hasOwnProperty(t)&&(e[t]=_.unescape(e[t]))}),Object(i.hasFeature)(i.Features.WEB_SMART_DISPLAY_NAME))if(this.params.mailboxUid){var n=this._getFromName();n?e.from_name=n:ns.request("ws-userinfo",{mailboxUid:this.params.mailboxUid,fields:"name"}).then(function(){return t._updateFromName()})}else e.from_name=[Daria.Config.name&&Daria.Config.name.last,Daria.Config.name&&Daria.Config.name.first,Daria.Config.name&&Daria.Config.name.middle].filter(Boolean).join(" ");return e},_updateFromName:function(){var e=this._getFromName();e&&this.set(".from_name",e)},_getFromName:function(){var e=ns.Model.get("ws-userinfo",{mailboxUid:this.params.mailboxUid,fields:"name"});if(e.isValid()){var t=e.get(".name");return[t&&t.last,t&&t.first,t&&t.middle].filter(Boolean).join(" ")}}}},"settings")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("label",{events:{"ns-model-changed.count":"_onChangedCount"},params:{lid:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,methods:{_onChangedCount:function(){if(this.data&&this.data.hasOwnProperty("unused")){var e=this.get(".count");this.setIfChanged(".unused",!e,{silent:!0})}},getUnreadCount:function(){return this.get(".unreadCount")||0},adjustUnreadCount:function(e){var t=this.getUnreadCount(),n=Math.max(t+e,0);this.setIfChanged(".unreadCount",n)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(584),i=(n.n(r),n(346));!function(){ns.Model.define("labels",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,split:{items:".label",params:{lid:".lid"},model_id:"label"},methods:{_cacheByLid:{},_cacheByName:{},_cacheUserLabelsByName:{},LABEL_PINNED_SYMBOL_NAME:"pinned_label",LABEL_MUTE_SYMBOL_NAME:"mute_label",LABEL_PHISHING_NAME:"73",preprocessData:function(e){return this._cacheByName={},this._cacheUserLabelsByName={},this._cacheByLid={},this.sortLabels(e.label),e.label.forEach(function(e){var t,i=e.name,o=n[i];o?("dating"===o?t=i18n("%Labels_Social_Label_Datingsite"):"groupon"===o?t=i18n("%Labels_Social_Label_Grouponsite"):"yasupport"===o?(t=i18n("%Labels_Social_Label_Yasupport"),e.yaservice=!0):"videoletter"===o?(t=i18n("%Labels_Social_Label_Videoletter"),e.yaservice=!0):"eticket"===o?t=i18n("%Labels_Social_Label_Eticket"):i.indexOf("ya")>-1||"moikrug"===i?(t=i18n("%Labels_Social_Label_Yandex",o),e.yaservice=!0):t=i18n("%Labels_Social_Label",o),e.social=!0,e.title=t):(e.user&&e.name.length>15&&(e.name=e.name.substr(0,15)+""),delete e.social),e.symbolicName===r.WellKnownLabels.IMPORTANT&&(e.name=i18n("%Labels_Important")),e.symbolicName===r.WellKnownLabels.REMIND_NO_ANSWER&&(e.name=i18n("%Labels__"))}),e},sortLabels:function(e){var t=ns.Model.get("settings").getSetting("label_sort");t&&e.sort(o[t])},getSOLabelName:function(t){var n=this.getLabelById(t);return n&&n.name&&0===n.name.indexOf(e)?n.name:null},getImportantLID:function(){var e=this.getLabelBySymbolicName("important_label");return e?e.lid:null},getPriorityLID:function(){var e=this.getLabelBySymbolicName("hamon_label");return e?e.lid:null},getLIDByName:function(e){var t=this.getLabelByName(e);return t?t.lid:null},getLabelById:function(e){var t=this.params.mailboxUid;return ns.Model.get("label",{lid:e,mailboxUid:t}).getData()},getLabelBySymbolicName:function(e){if(!this._cacheByLid.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".symbolicName")===e});t&&(this._cacheByLid[e]=t.getData())}return this._cacheByLid[e]},getLabelByName:function(e){if(!this._cacheByName.hasOwnProperty(e)&&!this._cacheUserLabelsByName.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".name")===e});t&&(this._cacheByName[e]=t.getData())}return this._cacheByName[e]||this._cacheUserLabelsByName[e]},getUserLabelByName:function(e){if(!this._cacheUserLabelsByName.hasOwnProperty(e)){var t=_.find(this.models,function(t){return t.get(".user")&&t.get(".name")===e});t&&(this._cacheUserLabelsByName[e]=t.getData())}return this._cacheUserLabelsByName[e]},adjustCounters:function(e){var t=this.params.mailboxUid,n=!1;for(var r in e){var i=this.getLabelById(r);if(i)ns.Model.get("label",{lid:i.lid,mailboxUid:t}).set(".count",i.count+e[r]),n=!0}return n&&this.touch(),n},getLabelsHash:function(){var e={};return this.models.forEach(function(t){var n=t.getData();n.lid&&(n.user||n.default)&&!n.social&&!("deleted"===n.name&&n.default)&&(e[n.lid]=0)}),e},getUserLabelsCount:function(){var e=0;return this.models.forEach(function(t){t.get(".user")&&e++}),e},isSocial:function(e){var t=this.getLabelById(e);return Boolean(t&&"social"in t)},getWaitingForReplyLabel:function(){return this.getLabelBySymbolicName(r.WellKnownLabels.REMIND_NO_ANSWER)},getDelayedMessageLabel:function(){return this.getLabelByName(t)},getPhishingLabel:function(){return this.getLabelByName(this.LABEL_PHISHING_NAME)},getPinnedLabel:function(){return this.getLabelBySymbolicName(this.LABEL_PINNED_SYMBOL_NAME)},canShowEventWidget:function(e){var t=this;return!e.some(function(e){var n=t.getLabelById(e);return n&&"not_show_widget_event"===n.name})},getMuteThreadLabel:function(){return this.getLabelBySymbolicName(this.LABEL_MUTE_SYMBOL_NAME)},hasUnusedUserLabels:function(){return this.models.some(function(e){return e.get(".user")&&e.get(".unused")})},getLidsWithUnreadCounter:function(){return[this.getPriorityLID()].filter(Boolean)},adjustUnreadCounters:function(e){Object.keys(e).forEach(function(t){var n=ns.Model.get("label",{lid:t});n&&n.adjustUnreadCount(e[t])})}}});var e="SystMetkaSO:",t="delayed_message",n={yaru:".",yandexfotki:" ",yandexvideo:" ",yadirect:" ",yacards:" ",yamarket:" ",yanarod:" ",yaauto:" ",yacal:" ",yasupport:"yasupport",yamoney:" ",yandexmusic:" ",yandexwiki:" ",yasitesearch:" ",yaxml:" XML",yawebmaster:" ",yabetatest:" ",yadisk:" ",videoletter:"videoletter",moikrug:" ",jira:"jira",yandexcom:"Yandex",yandexru:"",yandexcomtr:"Yandex",atushka:"atushka",odnoklassniki:"Odnoklassniki.ru",vtnrf0okru:"Odnoklassniki.ru",liveinternet:"Liveinternet.ru",livejournal:"Livejournal.com",vkontakte:"VK.com",vtnrf0vkcom:"VK.com",facebook:"Facebook.com",friendfeed:"Friendfeed.com",habrahabr:"Habrahabr.ru",mirtesen:"Mirtesen.ru",twitter:"Twitter.com",headhunter:"HeadHunter.ru",ozonru:"Ozon.ru",fotostrana:"Fotostrana.ru",subscribe:"Subscribe.ru",mnogoru:"Mnogo.ru",executive:"E-xecutive.ru",myspace:"Myspase.com",youtube:"Youtube.com",professionali:"Professionali.ru",rutube:"Rutube.ru",pingadmin:"Ping-admin.ru",markafoni:"Markafoni.com",yonja:"Yonja.com",formspring:"Formspring.me",oley:"Oley.com",stumbleupon:"Stumbleupon.com",vedomostiru:"","yves-rocherru":"yves-rocher.ru",workua:"Work.ua",wordpresscom:"Wordpress",womanjournalru:"wmj.ru",vshtate:"vshtate.ru",vkrugudruzei:"vkrugudruzei",victoriassecretcom:"Victoria's Secret",topshopru:"TOPSHOP",superjob:"SuperJob.ru",smartresponderru:"smartresponder.ru",skyperu:"skype.com",ottoru:"otto.ru",molotokru:"molotok.ru",mcafeecom:"McAfee.com",linkedin:"Linkedin",lamodaru:"lamoda.ru",geometriaru:"Geometria.ru",futuretodayru:"FutureToday.ru",freelance:"Free-lance.ru",evernoteru:"Evernote.com",dissercatcom:"disserCat.com",bookingcom:"Booking.com",b2bcenterru:"B2B-Center.ru",applecom:"Apple.com","24open":"24open",datingsite:"dating",vtnrf0datingsite:"dating",grouponsite:"groupon","4square":"foursquare.com",allegropl:"allegro.pl",darudarorg:"darudar.org",ebaycom:"ebay.com",forum2x2ru:"forum2x2.ru",gideparkru:"gidepark.ru",joobleru:"jooble.ru",justclickru:"JustClick.ru",kolizeoru:"kolizeo.ru",newsprofipostorg:"profi-post.org",newsquickofficecom:"Quickoffice.com",servicegirlsgogamesru:"GirlsgoGames.ru",tradesu:"trade.su",biznesbombaru:"biznesbomba.ru",gate32ru:"gate-32.ru",specservercom:"specserver.com",butikru:"butik.ru",pcdaysru:"pcdays.ru","7yaru":"7ya.ru",info74ru:"info74.ru",floridecorru:"floridecor.ru",allsoftru:"allsoft.ru",forumhouseru:"forumhouse.ru",shopdeluxeru:"shopdeluxe.ru",loccitaneru:"loccitane.ru",emeacom:"ea.com",yarabota:" ",yarealty:" ",vtnrf024open:"24open.ru",vtnrf04square:"Foursquare",vtnrf07yaru:"7.",vtnrf0afyru:"AFY.ru",vtnrf0allegropl:"",vtnrf0allsoftru:"Allsoft",vtnrf0applecom:"Apple",vtnrf0aukroua:"Aukro.ua",vtnrf0avitoru:"AVITO.ru",vtnrf0b2bcenterru:"2-Center",vtnrf0beonru:"BeOn",vtnrf0bigbuzzyru:"groupon",vtnrf0biznesbombaru:"Biznesbomba",vtnrf0bookingcom:"Booking.com",vtnrf0burningmancom:"BurningMan.com",vtnrf0busuucom:"busuu.com",vtnrf0butikru:".",vtnrf0chocolifeme:"Chocolife.me",vtnrf0crewardscom:"crewards.com",vtnrf0darudarorg:"-",vtnrf0dealextremecom:"DealExtreme",vtnrf0diaryru:"Diary.ru",vtnrf0dissercatcom:"DisserCat.com",vtnrf0drimmicom:"Drimmicom",vtnrf0ebaycom:"Ebay",vtnrf0emeacom:"EA.com",vtnrf0emirates:"Emirates",vtnrf0evernoteru:"Evernote",vtnrf0executive:"Executive",vtnrf0facebook:"Facebook",vtnrf0floridecorru:"&",vtnrf0formspring:"Formspring",vtnrf0forum2x2ru:"2x2",vtnrf0forumhouseru:".",vtnrf0freelance:"Freelance",vtnrf0friendfeed:"Friendfeed",vtnrf0futuretodayru:"Futuretoday",vtnrf0gate32ru:"Gate32",vtnrf0geometriaru:"Geometria",vtnrf0getresponsecom:"Getresponse.com",vtnrf0gideparkru:"",vtnrf0githubcom:"Github.com",vtnrf0googlegroupscom:"Google groups",vtnrf0googlecom:"Google",vtnrf0grouponsite:"groupon",vtnrf0gurboyru:"groupon",vtnrf0habrahabr:"",vtnrf0headhunter:"HH.ru",vtnrf0imnicamailcom:"Imnica mail",vtnrf0info74ru:"74",vtnrf0infobonprixde:"Bonprix",vtnrf0internetprosru:" ",vtnrf0iskusnitsaru:"",vtnrf0jobsmarketru:"Jobsmarket.ru",vtnrf0joobleru:"Joobler.u",vtnrf0justclickru:"Just Click",vtnrf0kolizeoru:"KOLIZEO.ru",vtnrf0lamodaru:"Lamoda.ru",vtnrf0linkedin:"Linkedin",vtnrf0liveinternet:"LiveInternet",vtnrf0livejournal:"Livejournal",vtnrf0loccitaneru:"L'occitane",vtnrf0mailluxaleru:"Luxale",vtnrf0markafoni:"Markafoni",vtnrf0mcafeecom:"McAfee",vtnrf0mirtesen:" ",vtnrf0mnogoru:"MNOGO.ru",vtnrf0moikrug:" ",vtnrf0molotokru:".",vtnrf0myfantru:"groupon",vtnrf0myspace:"MY SPACE ",vtnrf0notifyastrostarru:".",vtnrf0oley:"Oley",vtnrf0ottoru:"O.",vtnrf0ozonru:".",vtnrf0pathcom:"Path.com",vtnrf0paypalcom:"PayPal.com",vtnrf0pcdaysru:"PC Days",vtnrf0pingadmin:"Ping-Admin.Ru",vtnrf0professionali:"",vtnrf0quelleinforu:"Quelle",vtnrf0quickofficecom:"Quickoffice",vtnrf0radiomarketru:" ",vtnrf0rdwru:"  ",vtnrf0regru:"reg.ru",vtnrf0rutube:"Rutube",vtnrf0servicegirlsgogamesru:"GirlsgoGames",vtnrf0skyperu:"Skype.ru",vtnrf0smartresponderru:"SmartResponder",vtnrf0specservercom:"specserver.com",vtnrf0sprashivairu:".",vtnrf0stumbleupon:"Stumbleupon",vtnrf0subscribe:"Subscribe",vtnrf0superjob:"Superjob",vtnrf0teszveszhu:"teszves",vtnrf0topshopru:"-.",vtnrf0tradesu:"TRADE.SU",vtnrf0twitter:"twitter",vtnrf0vabankcom:"vabank.com",vtnrf0vedomostiru:"",vtnrf0victoriassecretcom:"Victoria's secret",vtnrf0vkrugudruzei:"   ",vtnrf0vshtate:" ",vtnrf0wmjru:"Womanjournal",vtnrf0wordpresscom:"Wordpress",vtnrf0workua:"Work.ua",vtnrf0yangutucom:"Yangutu",vtnrf0yonja:"Yonja",vtnrf0youtube:"Youtube","vtnrf0yves-rocherru":"Yves Rocher",vtnrf07vetrovmskru:"7 ",vtnrf0anketkaru:".",vtnrf0askfm:"Ask.fm",vtnrf0aviasalesru:"Aviasales.ru",vtnrf0babyblogru:"",vtnrf0babyru:".",vtnrf0bio4freecom:"Bio4free.com",vtnrf0chingoraclecom:"Chingoracle.com",vtnrf0dotnewsru:"Dotnews.ru",vtnrf0edarlingru:"Edarling.ru",vtnrf0finance1ru:"Finance1.ru",vtnrf0fxcluborg:"Forex club",vtnrf0gamenetru:"GameNet",vtnrf0horoscopofreecom:"Horoscopofree.com",vtnrf0jobru:"Job.ru",vtnrf0kissesru:"Kisses.ru",vtnrf0liststarotaroru:"",vtnrf0liveexpertru:"Liveexpert.ru",vtnrf0livemasterru:"Livemaster.ru",vtnrf0malinaru:"",vtnrf0mamsyru:"Mamsy.ru",vtnrf0meggymallru:"Meggy Mall",vtnrf0mithostru:"Mitinfo.ru",vtnrf0pokerstarscom:"PokerStars.com",vtnrf0prestigeua:"Prestige",vtnrf0probelovnet:".",vtnrf0promenadru:"Promenad",vtnrf0qualitynetua:"Quality.net",vtnrf0rabotaua:"Rabota.ua",vtnrf0rugionru:"RUgion",vtnrf0sapatoru:"Sapato.ru",vtnrf0slandoru:"Slando.ru",vtnrf0softkeyru:"Softkey.ru",vtnrf0stilagoinfo:"Emailvision",vtnrf0taggedmailcom:"Tagged",vtnrf0theboutiqueru:"Boutique.ru",vtnrf0topfacecom:"Topface",vtnrf0torrnadoru:"torr.ru",vtnrf0transportlineru:"TransportLine",vtnrf0trudcom:"Trud.com",vtnrf0westwingru:"Westwing",vtnrf0wildberriesru:"Wildberries",vtnrf0wmmailru:"Wmmail.ru",vtnrf0worldoftanksru:"World of Tanks",vtnrf0yourclotheseu:"Boutique.ru"},o={by_abc:function(e,t){return e instanceof ns.Model&&(e=e.getData()),t instanceof ns.Model&&(t=t.getData()),e.name.toLowerCase().localeCompare(t.name.toLowerCase())||e.user-t.user},by_count:function(e,t){return e instanceof ns.Model&&(e=e.getData()),t instanceof ns.Model&&(t=t.getData()),e.user||t.user?t.count-e.count||o.by_abc(e,t):-1}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(346));function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}ns.Model.define("folder",{params:{fid:null,mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{request:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.request([{id:"folders",params:{mailboxUid:this.params.mailboxUid||null}}]);case 2:t=e.sent,n=o(t,1),r=n[0],(i=r.get(".folder").find(function(e){return e.fid===a.params.fid}))&&this.setData(i);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),preprocessData:function(e){Daria.IS_CORP&&this.data&&(["new","count"].some(function(t){return this.get("."+t)!==e[t]},this)&&this._messagesInvalidate());return e},hasDataChanged:function(e){return!_.isEqual(this.getData(),e)},getRecent:function(){return this.get(".recent")},adjustUnreads:function(e){if(this.isValid()){var t=this.getUnreadsCount(),n=Math.max(t+e,0);n!==t&&(this.set(".new",n),this.setHasUnread(n>0))}},getParent:function(){var e=this.get(".parent_id");return e?ns.Model.get("folder",{fid:e}):null},getUnreadsCount:function(){return this.get(".new")},getSubfolders:function(){return this.get(".subfolder")},hasUnreads:function(){return this.getUnreadsCount()>0},hasUnreadsDeep:function(){return this.get(".has-unread")||this.hasUnreads()},hasNestingToggler:function(){var e=this.getSubfolders();if(!e||!e.length)return!1;var t=!0;if(ns.Model.get("settings").getSetting("hide_empty_folders")&&this.hasUnreads()){var n=!1;e.forEach(function(e){n=n||!ns.Model.get("folders").isIncoming(e)||ns.Model.get("folder",{fid:e}).hasUnreads()}),n||(t=!1)}return t},isFolded:function(){return this.get(".folded")},isOpen:function(){return this.get(".opened")},updateCounts:function(e){if(this.isValid()){var t={};if(_.isNumber(e.count)){var n=this.get(".count"),r=e.count;t.count=r-n,0!==t.count&&this.set(".count",r)}if(_.isNumber(e.new)){var i=this.getUnreadsCount(),o=e.new;if(t.new=o-i,0!==t.new){this.set(".new",o);var a=ns.Model.get("folders");a.spamOrTrash(this.params.fid)||a.adjustAllUnreads(t.new)}}return t}},recalcOpened:function(){var e=ns.Model.get("folders").isFolder(this.get(".fid"),r.WellKnownFolderSymbol.ARCHIVE);if(Daria.areFoldersTabsEnabled()&&e)this.setIfChanged(".opened",!0);else{var t=this.getParent();if(t){var n=!0;t.isFolded()&&(n=!1),t.isOpen()||(n=!1),this.set(".opened",n),this._toggleSubfoldersOpened()}}},setHasUnread:function(e){var t=e||this.hasUnreads();t||this.getSubfolders().forEach(function(e){var n=ns.Model.get("folder",{fid:e}).get(".has-unread");t=t||n}),this.setIfChanged(".has-unread",t);var n=this.getParent();n&&n.get(".symbol")!==r.WellKnownFolderSymbol.INBOX&&n.setHasUnread(e)},setRecent:function(){this.setIfChanged(".recent",!0)},switchFolded:function(e){var t=this.getData(),n=this.get(".fid");if(!this.getSubfolders().length)return!1;var r=ns.Model.get("folders").getOpenedFolders(),i=t.folded;if(_.isBoolean(e)){if(e===i)return i;i=!e}return Jane.Array.remove(r,n),i?(this.set(".folded",!1),r.push(n)):this.set(".folded",!0),ns.Model.get("settings").setOpenedFolders(r),this._toggleSubfoldersOpened(),!i},_toggleSubfoldersOpened:function(){this.getSubfolders().forEach(function(e){ns.Model.get("folder",{fid:e}).recalcOpened()})},_messagesInvalidate:function(){var e=this.params.fid;ns.page.current.params.current_folder!==e&&(ns.Model.invalidate("messages",function(t){if(t.params.current_folder===e)return t.models.length&&t.models.forEach(function(e){ns.Model.get("messages",{thread_id:e.get(".tid")}).invalidate()}),!0}),ns.Model.invalidate("messages-item-state",function(t){return t.params.current_folder===e}))}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(346)),o=n(349);n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e,t={},n=(c(e={},r.WellKnownFolderSymbol.INBOX,i18n("%Folder_inbox")),c(e,r.WellKnownFolderSymbol.SENT,i18n("%Folder_sent")),c(e,r.WellKnownFolderSymbol.TRASH,i18n("%Folder_trash")),c(e,r.WellKnownFolderSymbol.SPAM,i18n("%Folder_spam")),c(e,r.WellKnownFolderSymbol.DRAFT,i18n("%Folder_draft")),c(e,r.WellKnownFolderSymbol.OUTBOX,i18n("%Folder_outbox")),c(e,r.WellKnownFolderSymbol.TEMPLATE,i18n("%Folder_templates")),c(e,r.WellKnownFolderSymbol.ARCHIVE,i18n("%Folder_archive")),c(e,r.WellKnownFolderSymbol.RESTORED,i18n("%Folder_restored")),c(e,r.WellKnownFolderSymbol.REPLY_LATER,i18n("%Folder_reply_later")),e);function u(){return r.SystemFolders.slice()}t.getFolderById=function(e){var t=this.params.mailboxUid;return ns.Model.get("folder",{fid:e,mailboxUid:t}).getData()},t.hasFolder=function(e){return"object"===l(this.data)&&this.data.folder.some(function(t){return t.fid===e})},t.getFoldersByName=function(e){var t;return"object"===l(this.data)&&(t=_.find(this.data.folder,function(t){return t.name===e})),[t]},t.getSubfolders=function(e){return jpath(this.data,'.folder[.parent_id == "'+e+'"]')},t.isPresentAndNotShared=function(e){return Boolean(jpath(this.data,'.folder[.fid == "'+e+'" && !.shared ]').length)},t.getSubfoldersFid=function(e){return $.map(this.getSubfolders(e)||[],function(e){return e.fid})},t.getAllSubfoldersFid=function(e){return function e(t){for(var n=this.getSubfoldersFid(t),r=n.length;r--;)n=n.concat(e.call(this,n[r]));return n}.call(this,e)},t.getInboxFolders=function(){var e=this.get(".folder"),t=e[0].fid,n=e.reduce(function(e,t){return e[t.fid]=t,e},{}),r=e.reduce(function(e,t){return e[t.fid]=t.parent_id?function e(t,n){var r=t[n.parent_id];return r.parent_id?e(t,r):r}(n,t).fid:t.fid,e},{});return Object.keys(r).filter(function(e){return r[e]===t&&!n[e].shared})},t.spamOrTrash=function(e){return this.isFolder(e,[r.WellKnownFolderSymbol.TRASH,r.WellKnownFolderSymbol.SPAM])},t.draftOrTemplate=function(e){return this.isFolder(e,[r.WellKnownFolderSymbol.TEMPLATE,r.WellKnownFolderSymbol.DRAFT])},t.isIncoming=function(e){return!this.isFolder(e,r.NotIncoming)},t.isSystemFolder=function(e){var t=this.getFolderById(e);return!!t&&(!t.user&&this.isFolder(e,u()))},t.isSystemFolderChild=function(e,t){var n=this,r=this.getFolderById(e);if(!r||!r.user||this.isSystemFolder(e))return!1;var i=u(),o="function"==typeof t?i.filter(t):i;return!!o.length&&o.some(function(t){return n.hasChildByFid(n.getFidBySymbol(t),e)})},t.getDroppableListFid=function(){var e=this,t=$.grep(this.get(".folder"),function(t){return e.isDroppable(t.fid)});return t=$.map(t,function(e){return e.fid})},t.getMoveFoldersFid=function(e){if(!this.isDraggable(e))return[];var t=this.getDroppableListFid(),n=this.getAllSubfoldersFid(e);return n=n.concat(e),t=$.grep(t,function(e){return-1===$.inArray(e,n)})},t.comparePosition=function(e,t){var n=!e.symbol&&e.user,i=!t.symbol&&t.user,o=e.name.toLowerCase(),a=t.name.toLowerCase(),s=e.folder_options.position,l=t.folder_options.position,c=n?s:1e12+Number(e.order||0),u=i?l:1e12+Number(t.order||0);return e.symbol===r.WellKnownFolderSymbol.INBOX&&(c=-1),t.symbol===r.WellKnownFolderSymbol.INBOX&&(u=-1),c<u?-1:c>u?1:o<a?-1:o>a?1:0},t.getNeighborFids=function(e){var t,n=e&&this.getFolderById(e);return n?((t=n.parent_id?this.getSubfolders(n.parent_id):$.grep(this.get(".folder"),function(e){return!e.parent_id&&e.user&&!e.symbol})).sort(this.comparePosition),$.map(t,function(e){return e.fid})):[]},t.getParentFid=function(e){var t=e&&this.getFolderById(e);return t&&t.parent_id||this.getFolderBySymbol(r.WellKnownFolderSymbol.INBOX).fid},t.getTopParent=function(e){for(var t=this.getFolderById(this.getParentFid(e));t&&!t.symbol;)t=this.getFolderById(this.getParentFid(t.fid));return t},t.isDroppable=function(e){var t=e&&this.getFolderById(e);if(!t)return!1;var n=this.getTopParent(e);return!(!n||n.symbol!==r.WellKnownFolderSymbol.INBOX)&&(t.user&&!t.symbol&&!t.shared||t.symbol===r.WellKnownFolderSymbol.INBOX)},t.isDraggable=function(e){var t=e&&this.getFolderById(e);if(!t)return!1;var n=this.getTopParent(e);return!(!n||n.symbol!==r.WellKnownFolderSymbol.INBOX)&&(t.user&&!t.symbol&&!t.shared)},t.moveIn=function(e,t){var n=$.Deferred();if(e===t)return n.resolve("donot"),n.promise();var i,o=this.getFolderById(e),a=this.getParentFid(e),s=this.getFolderById(t);if(!o||!s)return n.reject("notfound"),n.promise();if(!this.isDraggable(e)||!this.isDroppable(t))return n.reject("noaccess"),n.promise();if(a===t)return n.resolve("donot"),n.promise();i=t?this.getSubfolders(t):$.grep(this.get(".folder"),function(e){return!e.parent_id});for(var l=0;l<i.length;l++)if(i[l].name===o.name)return n.reject("nameduplicate"),n.promise();this.getFolderBySymbol(r.WellKnownFolderSymbol.INBOX).fid===t&&(t=0);var c=this.params.mailboxUid;return ns.forcedRequest([{id:"do-folder-move",params:{fid:e,parent_id:t,mailboxUid:c}},{id:"folders",params:{mailboxUid:c}}]).then(function(){n.resolve("ok")},function(){n.reject("actionerror")}),n.promise()},t.moveAfter=function(e,t){var n=$.Deferred();if(e===t)return n.resolve("donot"),n.promise();var r=this.getFolderById(e);if(!r||!$.isPlainObject(r.folder_options))return n.reject("notfound"),n.promise();if(!this.isDraggable(e))return n.reject("noaccessfid"),n.promise();var i,o=$({}),a=this;if(t){if(!this.isDroppable(t))return n.reject("noaccessover"),n.promise();var s=this.getParentFid(e),l=this.getParentFid(t);if(s!==l)o.queue(function(t){a.moveIn(e,l).done(t).fail(n.reject)});else if(i=this.getNeighborFids(e),$.inArray(e,i)===$.inArray(t,i)+1)return n.resolve("donot"),n.promise()}else if(i=this.getNeighborFids(e),0===$.inArray(e,i))return n.resolve("donot"),n.promise();return o.queue(function(){ns.forcedRequest([{id:"do-folder-set-options",params:{fid:e,prev:t||0}},{id:"folders"}]).then(function(){n.resolve("ok");var r=a.getNeighborFids(t||e),i=$.inArray(e,r),o=$.inArray(t,r);(t&&i!==o+1||!t&&0!==i)&&Jane.ErrorLog.send({event:"folders.move.position",status:"position_error",fid:e+":"+a.getFolderById(e).folder_options.position,overFid:t?t+":"+a.getFolderById(t).folder_options.position:void 0})},function(){n.reject("actionerror")})}),n.promise()},t.moveBefore=function(e,t){var n=$.Deferred(),r=this.getNeighborFids(t),i=r[$.inArray(t,r)-1];if(i)this.moveAfter(e,i).done(n.resolve).fail(n.reject);else{var o=$({}),a=this,s=this.getParentFid(t);o.queue(function(t){a.moveIn(e,s).done(t).fail(n.reject)}),o.queue(function(){a.moveAfter(e,!1).done(n.resolve).fail(n.reject)})}return n.promise()},t.getCount=function(e){var t=this.getFolderById(e);return t?t.count:null},t.getUnreadCount=function(e){var t=e?this.getFolderById(e):this.data;return t?Number(t.new):null},t.getFoldersHash=function(){var e=this.getData(),t={};return e&&$.each(e.folder,function(){t[this.fid]=0}),t},t.isShared=function(e){var t=this.getFolderById(e);return Boolean(t&&t.shared)},t.getDefaultFolderName=function(e){return n[e]},t.setSymbol=function(e,t){var n=this.params.mailboxUid,r=[{id:"do-folder-set-symbol",params:{fid:e,symbol:t,mailboxUid:n}},{id:"folders",params:{mailboxUid:n}}];return ns.forcedRequest(r).then(function(e){var n=Vow.promise(),r=e[1].getFolderBySymbol(t);return r?(ns.events.trigger("daria:mFolders:symbolSet",r),n.fulfill(r)):n.reject(new Error(Daria.supplant("Symbol {symbol} was not set on folder",{symbol:t}))),n})},t.isArchive=function(e){var t=this.getFolderById(e);return!!t&&t.symbol===r.WellKnownFolderSymbol.ARCHIVE},t.getCountUserFolders=function(){return jpath(this.data,".folder[.user]").length},t.createArchiveFolder=function(){var e,t=this,n=t.getFolderBySymbol(r.WellKnownFolderSymbol.ARCHIVE),i=t.getFoldersByName("Archive").shift(),o="Archive"!==i18n("%Folder_archive")?t.getFoldersByName(i18n("%Folder_archive")).shift():null,a=Vow.promise(),s=this.params.mailboxUid;return n||i||o?n||!i&&!o?a.fulfill(n):i?a=t.setSymbol(i.fid,r.WellKnownFolderSymbol.ARCHIVE):o&&(e=[{id:"do-folder-rename",params:{fname:"Archive",fid:o.fid,mailboxUid:s}},{id:"folders",params:{mailboxUid:s}}],a=ns.forcedRequest(e).then(function(){return t.setSymbol(o.fid,r.WellKnownFolderSymbol.ARCHIVE).fail(function(){})})):(e=[{id:"do-folders-add",params:{folder_name:"Archive",mailboxUid:s}},{id:"folders",params:{mailboxUid:s}}],a=ns.forcedRequest(e).then(function(e){var t=Vow.promise(),n=e[1].getFolderByName("Archive");return n&&n.fid?t.fulfill(n):t.reject("New folder has no fid"),t}).then(function(e){return t.setSymbol(e.fid,r.WellKnownFolderSymbol.ARCHIVE).fail(function(){})})),a},t.getHierarchyStructure=function(e,t,n){var i=this,o=this.getFolderById.bind(this),a=this.get(".folder");_.find(a,{symbol:r.WellKnownFolderSymbol.INBOX}).items=c(_.filter(a,function(e){return e.user&&!e.parent_id}));var l=_.filter(a,function(e){return!e.user&&!e.parent_id});function c(t){var n=[];t=t.sort(i.comparePosition);for(var r=0;r<t.length;++r){var a=t[r];_.isFunction(e)&&!e(a)||((a=_.clone(a)).subfolder&&(a.items=c(a.subfolder.map(o))),delete a.subfolder,delete a.parent_id,n.push(a))}return n}var u=c(l);if(t){var d=_.findIndex(u,{symbol:r.WellKnownFolderSymbol.INBOX}),f=u[d].items,p=l.slice(0,d),g=l.slice(d+1);u=n?s(f):[].concat(s(p),s(f),s(g))}return u},t.logDragndropAbility=function(){var e=this.get(".folder");if(e)for(var t=0,n=0,r=e.length;n<r;n++)if(this.isDraggable(e[n].fid)&&++t>1)return void Jane.c("Drag-n-drop"," ","    ( 1,  )")},ns.Model.define("folders",{params:{mailboxUid:null,useV2:null},split:{items:".folder",params:{fid:".fid",mailboxUid:".mailboxUid"},model_id:"folder"},paramsRewrite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Object(i.addMailboxUidParamsRewrite)(e),Object(o.hasFeature)(o.Features.WEB_NEW_API_FOLDERS)&&(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{useV2:!0})),e},methods:$.extend({_ids:{},_symbols:{},_cacheBySymbol:{},preprocessData:function(e){this._hasUserFolders=!1,this._hasNestedFolders=!1;for(var t=ns.page.current.params.current_folder,i={},o={},a={},s=e.folder,l={},c=this._getOpenedFolders(e),u=0,d=s.length;u<d;u++){var f=s[u],p=f.fid,g=f.symbol;l[p]=f;var m=t&&p!==t,h=this.getFolderById(p),v=h&&f.count!==h.count;m&&v&&Daria.messages.clearCacheByFID(p),g&&(g in n&&(f.name=n[g]),i[g]=p,o[g]=f,a[p]=g),!this._hasUserFolders&&f.user&&(this._hasUserFolders=!0),this._hasNestedFolders||!f.user&&!f.parent_id||(this._hasNestedFolders=!0),f.subfolder.length>0?f.folded=!_.includes(c,p):f.folded=!1,f.opened=!0;var b=Daria.areFoldersTabsEnabled()&&f.symbol===r.WellKnownFolderSymbol.ARCHIVE;if(f.parent_id&&!b){var y=l[f.parent_id];y.folded&&(f.opened=!1),y.opened||(f.opened=!1)}}return this._ids=i,this._cacheBySymbol=o,this._symbols=a,this.toggleMarkFolders(e),e},_getOpenedFolders:function(e){return ns.Model.get("settings").hasSetting("folders_open")?this._getOpenedFoldersFromSettings():this._getOpenedFoldersFromData(e)},_getOpenedFoldersFromSettings:function(){var e=ns.Model.get("settings").getSetting("folders_open");return e?e.split(","):[]},_getOpenedFoldersFromData:function(e){var t=[];return e.folder.forEach(function(e){[r.WellKnownFolderSymbol.INBOX,r.WellKnownFolderSymbol.DRAFT].includes(e.symbol)&&t.push(e.fid),e.subfolder.length&&Array.prototype.push.apply(t,e.subfolder)}),_.uniq(t)},getOpenedFolders:function(){return this._getOpenedFolders(this.data)},symbols:function(){return this._ids},ids:function(){return this._symbols},hasUserFolders:function(){return this._hasUserFolders},hasNestedFolders:function(){return this._hasNestedFolders},getFolderByName:function(e,t){var n,i,o=this.getData();o&&(t||(i=this.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)),n=_.find(o.folder,function(n){return n.name===e&&(t?n.parent_id===t:!n.parent_id||n.parent_id===i)}));return n},getFolderBySymbol:function(e){return this._cacheBySymbol[e]},getFidBySymbol:function(e){return this._ids[e]},isFolder:function(e,t){if(!e)return!1;Array.isArray(t)||(t=[t]);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(this._ids.hasOwnProperty(i)&&e===this._ids[i])return!0}return!1},isReplyLaterAllowed:function(e){return Boolean(e&&this.hasFolder(e)&&!this.isFolder(e,r.ReplyLaterDisabledFolders))},isCurrentFolder:function(e){return this.isFolder(ns.page.current.params.current_folder,e)},createTemplateFolder:function(){var e,t=Vow.promise(),i=this.getFolderBySymbol(r.WellKnownFolderSymbol.TEMPLATE),o=this.getFidBySymbol(r.WellKnownFolderSymbol.DRAFT),a=this.getSubfolders(o),s=_.find(a,function(e){return"template"===e.name}),l=_.find(a,function(e){return e.name===n.template});return i||s||l?i||!s&&!l?t.fulfill(i):s?t=this.setSymbol(s.fid,r.WellKnownFolderSymbol.TEMPLATE):l&&(e=[{id:"do-folder-rename",params:{fname:"template",fid:l.fid,parent_id:o}},{id:"folders"}],t=ns.forcedRequest(e).then(function(){return this.setSymbol(l.fid,r.WellKnownFolderSymbol.TEMPLATE)}.bind(this))):(e=[{id:"do-folders-add",params:{folder_name:"template",parent_id:o}}],t=ns.forcedRequest(e).then(function(e){var t=e[0];return this.setSymbol(t.getFid(),r.WellKnownFolderSymbol.TEMPLATE)}.bind(this))),t},adjustUnreadCounters:function(e){var t=this.params.mailboxUid,n=!1,i=0;for(var o in e){var a=ns.Model.get("folder",{fid:o,mailboxUid:t});a.adjustUnreads(e[o]),-1===r.UnreadHiddenFoldersShort.indexOf(a.get(".symbol"))&&(i+=e[o],n=!0)}return n&&this.adjustAllUnreads(i),ns.events.trigger("updateMailboxCounters",{unread:i,fresh:0,mailboxUid:this.params.mailboxUid}),n},toggleMarkFolders:function(e){var t={};$.each(jpath(e,".folder[.parent_id && !.subfolders]"),function(n,i){var o,a=0;do{if((i=o?jpath(e,'.folder[.fid == "'+o+'"]')[0]:i).symbol===r.WellKnownFolderSymbol.INBOX)return!0;if(a+=Number(i.new),o in t)return!0;a?(i["has-unread"]=!0,t[i.fid]=1):i["has-unread"]=!1,o=i.parent_id}while(o)})},hasChildByFid:function(e,t){var n=this.getFolderById(e),r=n&&n.subfolder?n.subfolder:[],i=0!==r.length&&r.indexOf(t)>-1,o=this;return _.forEach(r,function(e){i=i||o.hasChildByFid(e,t)}),i},adjustAllUnreads:function(e){var t=this.get(".new"),n=Math.max(t+e,0);t!==n&&this.set(".new",n)}},t)})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}ns.Model.define("tab",{params:{id:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,methods:{request:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t,n,r,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.request([{id:"tabs",params:{mailboxUid:this.params.mailboxUid}}]);case 2:t=e.sent,n=i(t,1),r=n[0],(o=r.getTabs().find(function(e){return e.id===a.params.id}))&&this.setData(o);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getUnreadCount:function(){return this.get(".counters.new")||0},getCount:function(){return this.get(".counters.all")},_setUnreadCount:function(e){return this.set(".counters.new",e)},getRecent:function(){return this.get(".counters.recent")},setRecent:function(){this.setIfChanged(".counters.recent",!0)},clearRecent:function(){delete this.getData().counters.recent},adjustUnreadCount:function(e){var t=this.getUnreadCount(),n=Math.max(Number(t)+Number(e),0);t!==n&&this._setUnreadCount(n)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346),i=[{id:"relevant",title:i18n("%Folder_tabs_Inbox"),description:"",iconName:"mail--NewTabs-Default",emptyText:i18n("%Empty_tab_inbox")},{id:"news",title:i18n("%Folder_tabs_News"),description:i18n("%Folder_tabs_News_descr"),iconName:"mail--NewTabs-News",emptyText:i18n("%Empty_tab_maillists")},{id:"social",title:i18n("%Folder_tabs_Social"),description:i18n("%Folder_tabs_Social_descr"),iconName:"mail--NewTabs-Social",emptyText:i18n("%Empty_tab_social")}];ns.Model.define("tabs",{params:{mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite,split:{items:".tabs",params:{id:".id"},model_id:"tab"},methods:{preprocessData:function(e){return{tabs:i.map(function(t){return Object.assign({},t,e[t.id])})}},getTab:function(e){var t=Object(r.getMailboxUid)(),n=ns.Model.get("tab",t?{id:e,mailboxUid:t}:{id:e});return n.isValid()?n:null},getTabs:function(){return this.models.slice()},getFoldersTabsList:function(){return this.models.map(function(e){return e.getData()})},getFoldersTabsIds:function(){return i.map(function(e){return e.id})},getUnreadCount:function(e){var t=this.getTab(e);return t?t.getUnreadCount():0},adjustUnreadCounters:function(e){var t=this;return Object.keys(e).reduce(function(n,r){var i=t.getTab(r);if(i){var o=e[r];return i.adjustUnreadCount(o),n+o}return n},0)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1134),i=(n.n(r),n(346));function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})(e)}function l(e,t,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={MAX_LENGTH:"signs.maxlen",MAX_COUNT:"signs.maxcount"},f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,u(t).call(this))).code=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,s(Error)),t}();f.codes=d,ns.Model.define("signs",{params:{mailboxUid:null},paramsRewrite:i.addMailboxUidParamsRewrite,methods:{SignsError:f,preprocessData:function(e){var t=this,n=e.signs;if(!n.length)return e;var r=Object(i.getAddressInformationModelName)();return ns.Model.get(r).isValid()?e.signs=this.filterEmails(n):ns.request(r).then(function(){t.set(".signs",t.filterEmails(t.get(".signs")))}),e},filterEmails:function(e){var t=Object(i.getAddressInformationModelName)(),n=ns.Model.get(t),r=[],o=new Set(n.getAllUserEmails()),a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d.emails=d.emails.filter(function(e){return o.has(e)}),r.push(d)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return r},getList:function(){return this.get(".signs")||[]},save:function(e){return this._validate(e),e=this._normalize(e),ns.forcedRequest([{id:"do-signs",params:{signs:JSON.stringify(e)}},{id:"signs",params:{actual:!0}}])},_normalize:function(e){return e.map(function(e){var t=e.text,n=e.isDefault,r=e.emails,i=e.userLang,o={text:t,isDefault:Boolean(n),emails:r||[]};return i&&(o.lang=i),o})},_validate:function(e){if(this.get(".FALLBACK"))throw new Error('Can\'t save "signs" model when it is in fallback mode');if(e.find(function(e){return e.text.length>r.SIGNATURE_MAX_LENGTH}))throw new f(d.MAX_LENGTH);if(ns.Model.get("signs").getList().length<=e.length&&e.length>r.SIGNATURES_MAX_COUNT)throw new f(d.MAX_COUNT)}}})},function(e,t){ns.Model.define("do-translate",{params:{text:null,lang:null,format:null},methods:{_canRequest:function(){return!this.retries||this.retries<this.RETRY_LIMIT}}})},function(e,t){ns.Model.define("translate-langs",{methods:{getName:function(e){return _.get(this.data,"langs."+e,"")},getLangs:function(){return _(this.get(".langs")).chain().map(this._getLangsMapIterate).sortBy("name").value()},getRecent:function(){return _(ns.Model.get("settings").getSetting("translateRecent")||"").chain().split(",").uniq().map(this._getRecentMapIterate.bind(this)).compact().slice(0,5).value()},hasRecent:function(){return!_.isEmpty(this.getRecent())},setRecent:function(e){var t=_(this.getRecent()).chain().map(this._setRecentMapIterate).unshift(e).uniq().slice(0,5).join(",").value();ns.Model.get("settings").setSettings({translateRecent:t})},_getLangsMapIterate:function(e,t){return{name:e,lang:t}},_setRecentMapIterate:function(e){return e.lang},_getRecentMapIterate:function(e){var t=e&&this.getName(e);if(t)return{name:t,lang:e}}}})},function(e,t){ns.Model.define("themes-selector",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({opened:!1})},isOpened:function(){return this.get(".opened")},open:function(){this.set(".opened",!0)},close:function(){this.set(".opened",!1)}}},ns.ModelStatic)},function(e,t){!function(){"use strict";var e={getActivePhone:function(){var e=this.getData()||{};return jpath(e,'.phone[.active == "1"]')[0]},getUnconfirmedPhone:function(){},getActiveMaskedNumber:function(){var e=this.getActivePhone();return e&&e.masked_number},getUnconfirmedNumber:function(){},getUnconfirmedIdByNumber:function(){},hasActiveNumber:function(){var e=this.getData();return Boolean(jpath(e,'.phone[.active == "1"]').length)},normalize:function(e){return e=(e||"").replace(/^8/,"+7")},getPhone:function(e){if(!e)throw new ReferenceError("Required parameter phoneNumber is missing");return ns.forcedRequest("userphones").then(function(t){var n=t[0],r=$.makeArray(n.get(".phone")).filter(function(t){return t.number===e});return r.length?r[0]:null})},getAll:function(e){return ns.request.models([this],{forced:!e})}};ns.Model.define("userphones",{methods:e})}()},function(e,t){ns.Model.define("weather",{params:{geoid:null,date:null}})},function(e,t){ns.Model.define("help-link",{events:{"ns-model-init":"_onInit"},methods:{_hrefSuffixMap:{folder:"web/mailbox/folders.html#my-folders",archive:"web/mailbox/folders.html",draft:"web/letter/create.html#drafts",template:"web/letter/create.html#templates",abook:"web/abook.html",unread:"web/mailbox/tags.html",attachments:"web/letter/attachments.html",important:"web/mailbox/tags.html",label:"web/mailbox/tags.html","setup/abook":"web/abook.html","setup/client":"mail-clients.html","setup/journal":"web/security.html#journal","setup/todo":"web/features/to-do.html"},_onInit:function(){this.setData({href:this._getHref(ns.page.current)}),ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))},_onPageBeforeLoad:function(e,t){_.isEqual(t[0],t[1])||this.updateHref(t[1])},updateHref:function(e){this.set(".href",this._getHref(e))},_getHref:function(e){var t=this._getHrefSuffix(e.page,e.params);return Daria.Config["help-url"]+(t?"/"+t:"")},_getHrefSuffix:function(e,t){if("messages"===e){if(t.important)return this._hrefSuffixMap.important;if("only_new"===t.extra_cond)return this._hrefSuffixMap.unread;if("only_atta"===t.extra_cond)return this._hrefSuffixMap.attachments}if(t.current_folder){var n=ns.Model.get("folders").getFolderById(t.current_folder);if(n.symbol)return this._hrefSuffixMap[n.symbol]||"";if(n.user)return this._hrefSuffixMap.folder}return t.current_label?this._hrefSuffixMap.label:"setup"===e||"setup-sender"===e?t.tab&&this._hrefSuffixMap["setup/"+t.tab]||"":this._hrefSuffixMap[e]&&this._hrefSuffixMap[e]||""}}},ns.ModelStatic)},function(e,t){ns.Model.define("skin-saver-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({previewMode:!1})},isPreviewMode:function(){return this.get(".previewMode")},togglePreviewMode:function(e){return this.set(".previewMode",e)}}},ns.ModelStatic)},function(e,t){ns.Model.define("date-time",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){var e=this;this.setData({local:{date:this.getLocalDate(),time:this.getLocalTime()},server:{date:this.getServerDate(),time:this.getServerTime()}});var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+1);setTimeout(function(){return e.updateData()},n-t)},getLocalTime:function(){return this._getTime(new Date)},getLocalDate:function(){return this._getDate(new Date)},getServerTime:function(){return this._getTime(new Date(Daria.passportNow()))},getServerDate:function(){return this._getDate(new Date(Daria.passportNow()))},_getTime:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()))},_getDate:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate()))},updateData:function(){var e=this;this.setIfChanged(".local.date",this.getLocalDate()),this.setIfChanged(".local.time",this.getLocalTime()),this.setIfChanged(".server.date",this.getServerDate()),this.setIfChanged(".server.time",this.getServerTime()),setTimeout(function(){return e.updateData()},6e4)}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(554);n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.Model.define("search-suggest",{params:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({status:null,limit:null,types:null,twoSteps:null,request:null},r.SearchSuggestParams.reduce(function(e,t){return e[t]=null,e},{}),{reqid:null,history:null,highlight:null,mailboxUid:null}),requiredFeatures:["web_search_extra_params"],methods:{request:function(){return ns.request.fetchModels([this]).then(function(e){ns.request.extractModel(this,e.models[0],e)}.bind(this))}}})},function(e,t){ns.Model.define("filter-search",{params:{mids:null},methods:{preprocessData:function(e){if(Array.isArray(e.envelopes))for(var t=ns.Model.get("labels").get(".label"),n=e.envelopes.length;n--;){var r=e.envelopes[n];if(!r.processed){for(var i=0;i<r.labels.length;i++){var o=_.find(t,{lid:r.labels[i]});if(o&&o.social){r.dlid=o.name.replace(/^vtnrf0/,"");break}}r.processed=!0;var a=ns.Model.get("filter-search",{mids:r.mid});a.select(".envelopes.processed")[0]||a.setData({envelopes:[r]})}}return e},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".envelopes.labels"))),t=e.length;if(t)for(var n=ns.Model.get("labels"),r=0;r<t;r++)if(n.isSocial(e[r]))return e[r];return null}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n.n(r);ns.Model.define("messages-pager",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){if("all"===this.params.current_folder){var e;if(Daria.IS_CORP)e={year:"2000",month:"1",day:"1"};else{var t=ns.Model.get("account-information").getDataKey("reg_date");t=new Date(t),e={year:String(t.getFullYear()),month:String(t.getMonth()+1),day:"1"}}this.setData(e)}},preprocessData:function(e){var t=Jane.Common.n,n=e.year,i=e.month,o=e.day,a=new Date,s=new Date(n,i-1,o);if(!n||a<=s)return{};for(var l=a.getFullYear(),c=s.getFullYear(),u=a.getMonth()+1,d=[],f=c,p=s.getMonth()+1,g={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0},m=0,h=f>=Daria.Config.messagesMaxDate;f<l||f===l&&p<=u;)if(h&&g.month.push({datePager:t(p)+"."+f,month:p-1,year:f,from:"01."+t(p)+"."+f,to:"01."+t(p<12?p+1:1)+"."+(p<12?f:f+1),id:t(p)+String(f)}),13==++p&&(p=1,h?d.push(g):0===d.length&&d.push({id:f,datePager:f,year:f,old:1}),(h=++f>=Daria.Config.messagesMaxDate)&&(g={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0})),++m>1e3)return Jane.ErrorLog.log({message:"messages-pager: iterations count exceeded limit",type:r.ErrorType.NsModel,source:r.ErrorSource.Logic,sourceMethod:this.id,block:r.ErrorBlock.MailModule,method:"preprocessData",dataYear:n,dataMonth:i,dataDay:o,nowDate:a.toString()}),{};return g.month.length&&d.push(g),{year:d}},getCountMonth:function(){return this.select(".year.month.datePager").length}},params:{current_folder:null,tabId:null}})},function(e,t){ns.Model.define("message-read-mute-fsm",{params:{ids:null,type:null},methods:{start:"",transitions:{toRead:["toMute","toUnread"],toMute:["toUnmute","toUnread","toRead"],toUnmute:["toUnread","toRead"],toUnread:["toRead","toUnmute"]}}},ns.ModelFsm)},function(e,t){ns.Model.define("state-message-thread-item",{params:{ids:null},events:{"ns-model-init":"_onNsModelInit"},methods:{_onNsModelInit:function(){this.setData({isOpened:!1,isFocused:!1,isIgnoreMarkRead:!1,promiseWillBeLoaded:!1,isVisible:!1,shouldBeInViewport:!1,forceMark:!1})},_setChangedData:function(e,t,n){if(e="."+e,this.get(e)!==t){var r=n?{silent:!0}:{};return this.set(e,t,r),!0}return!1},isOpen:function(){return this.get(".isOpened")},setOpen:function(e,t){return this._setChangedData("isOpened",e,t)},setVisible:function(e,t){return this._setChangedData("isVisible",e,t)},setFocus:function(e,t){return this._setChangedData("isFocused",e,t)},setIgnore:function(e,t){return this._setChangedData("isIgnoreMarkRead",e,t)}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-maillists",{params:{emails:null},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-maillists-static",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({emails:null},{silent:!0})},getMaillists:function(e){var t=this,n=this.get(".emails")||{},r=_.difference(e,Object.keys(n)),i=vow.fulfill();if(r.length>0){var o=ns.Model.get("get-maillists",{emails:r.join(",")});i=ns.request.models([o]).then(function(r){var i=r[0].get(".maillists");i.forEach(function(e){n[e]||(n[e]=!0)}),_.difference(e,i).forEach(function(e){n[e]||(n[e]=!1)}),t.set(".emails",n),vow.fulfill()})}return i.then(function(){var t=[];return e.forEach(function(e){!0===n[e]&&t.push(e)}),vow.fulfill(t)})}}},ns.ModelStatic)},function(e,t){ns.Model.define("reset-unvisited",{params:{fid:null,tabId:null},methods:{resetUnvisited:function(){var e=this.params,t=e.fid,n=e.tabId;return(n?ns.Model.get("tab",{id:n}):ns.Model.get("folder",{fid:t})).getRecent()?ns.forcedRequest([this]).then(function(e){return vow.fulfill(e[0].get(".is_reset"))}):vow.fulfill(!0)}}})},function(e,t){ns.Model.define("notifications",{isCollection:!0,events:{"ns-model-init":"_onInit"},methods:{_uniqueId:0,DELAY_BEFORE_DELETE:600,MAX_NOTIFICATION_COUNT:10,_onInit:function(){this.setData({queue:[]})},hasNotifications:function(){return 0!==this.models.length},hasNotificationsInQueue:function(){return 0!==this.get(".queue").length},addNotification:function(e){if(ns.Model.get("notifications-state").isExpanded()){var t=this.get(".queue");t=t.concat(e),this.set(".queue",t)}else{var n=this.models[0];if(n&&n.isVIP()&&!e.vip)return;this._addNotification(e),this._tryRemoveLastNotification()}},_addNotification:function(e){var t=ns.Model.get("notifications-item",{id:this._uniqueId++}).setData(e);this.insert(t,0)},_tryRemoveLastNotification:function(){if(this.models.length>this.MAX_NOTIFICATION_COUNT){var e=this;_.delay(function(){e.remove(e.models.length-1)},this.DELAY_BEFORE_DELETE)}},insertFromQueue:function(){this.get(".queue").length&&(this._moveVIPtoEndOfQueue(),this._insertFromQueue())},_moveVIPtoEndOfQueue:function(){var e=this.get(".queue");e=e.sort(function(e,t){return e.vip&&!t.vip?1:0}),this.set(".queue",e)},_insertFromQueue:function(){var e=this;this.get(".queue").forEach(function(t){e._addNotification(t),e._tryRemoveLastNotification()}),this.set(".queue",[])}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("notifications-item",{params:{id:null},methods:{isVIP:function(){return Boolean(this.get(".vip"))},isCalendarEvent:function(){return Boolean("calendar"===this.get(".type"))}}},ns.ModelStatic)},function(e,t){ns.Model.define("notifications-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({expanded:!1})},expand:function(){this.set(".expanded",!0)},collapse:function(){this.set(".expanded",!1)},isExpanded:function(){return this.get(".expanded")}}},ns.ModelStatic)},function(e,t){ns.Model.define("disk-secret-key",{methods:{isValid:function(){return this.get(".expirationDate")>=Date.now()}}})},function(e,t){ns.Model.define("thread-info",{params:{thread_id:null},methods:{request:function(){var e=ns.Model.get("message",{ids:this.params.thread_id});return e.get(".FAKE_THREAD_DATA")&&Daria.is3pane()?ns.request.fetchModels([this]).then(function(t){e.get(".FAKE_THREAD_DATA")&&e.setData(t.models[0].data),this.setData({})}.bind(this)):(this.setData({}),Vow.resolve())}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("threads-info",{params:{thread_ids:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t){ns.Model.define("push-vapid",{})},function(e,t){ns.Model.define("push-subscriptions",{params:{clients:null}})},function(e,t){ns.Model.define("do-push-subscribe",{params:{folders:null,tabs:null,subscription:null}})},function(e,t){ns.Model.define("do-push-unsubscribe",{})},function(e,t,n){"use strict";ns.Model.define("versions",{events:{"ns-model-init":"onInit"},ctor:function(){this._timer=null},methods:{TIMEOUT:9e5,onInit:function(){this.setData({u2709:{version:Daria.Config.version}}),this.scheduleVersionUpdate()},request:function(){var e=this,t=Daria.api.versions;return ns.http(t,{model:this.id},{type:"GET"},!0).then(function(t){return e.setData(_.isPlainObject(t)?t:{})}).fail(_.noop)},scheduleVersionUpdate:function(e){var t=this;this._timer&&clearTimeout(this._timer),e||(this._timer=setTimeout(function(){t.request().then(function(){return t._checkNeedPageUpdate()}).fail(function(){return!1}).then(function(e){return t.scheduleVersionUpdate(e)})},this.TIMEOUT))},_checkNeedPageUpdate:function(){if(Daria.Config.dev)return!1;var e=this.get(".u2709.version");return!(!e||e===Daria.Config.version)&&(Jane.Services.setUpdateNeeded(),!0)}}})},function(e,t){ns.Model.define("system-status",{events:{"ns-model-init":"onInit","ns-model-changed":"updateLoop"},methods:{TIMEOUT:Daria.IS_CORP?6e4:6e5,onInit:function(){this._shouldLoad=!0,this._timer=null},updateLoop:function(){Daria.Config["db-status"]=this.getData()["db-status"],this._restartTimer()},getAttachmentsMaxSize:function(){return Math.floor(ns.Model.get("system-status").get(".limits.config.attachmentsMaxSize")/1048576)},request:function(){return this._shouldLoad?ns.request.fetchModels([this]).then(function(e){!1!==ns.request.canProcessResponse(e)?(ns.request.extractModel(this,e.models[0],e),e.models[0].data&&e.models[0].data.limits?(this.set(".limits.config.attachmentsMaxSize",this._getDefaultLimits().config.attachmentsMaxSize),this.set(".limits.config.singleAttachmentMaxSize",this._getDefaultLimits().config.singleAttachmentMaxSize)):this.set(".limits",this._getDefaultLimits()),this._checkNeedPageUpdate()):this._setDefaultData()},this).fail(function(){this._setDefaultData()},this):Vow.resolve()},_restartTimer:function(){this._timer&&clearTimeout(this._timer),this._timer=setTimeout(this._timerRequest,this.TIMEOUT)},_timerRequest:function(){ns.forcedRequest("system-status")},_setDefaultData:function(){this.setData({"db-status":"rw",problem:"",limits:this._getDefaultLimits()})},_getDefaultLimits:function(){return{config:{attachmentsMaxSize:Daria.IS_CORP?41943040:25165824,singleAttachmentMaxSize:Daria.IS_CORP?41943040:25165824,messageMaxSize:41943040,maxDestinations:1e3,maxDestinationsWithMailingLists:100,maxUsers:1e4},undoPaused:!1}},_checkNeedPageUpdate:function(){Daria.timestamp<(Number(this.get(".reload_timestamp"))||0)&&Jane.Services.setUpdateNeeded()}}})},function(e,t){ns.Model.define("recipients",{isStrictParams:!0,params:{recipientsIds:null},methods:{extractData:function(e){return e&&e.error?null:e&&{recipients:e.data}||{recipients:{}}},getRecipients:function(){return this.getData().recipients}}})},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}ns.Model.define("recipient",{params:{name:null,email:null},events:{"ns-model-init":"_onInit"},methods:{_getKey:function(e){var t=e.name,n=e.email;return t||n?t?'"'.concat(t,'" <').concat(n,">"):"<".concat(n,">"):""},_onInit:function(){var e=this,t=this._getKey({name:this.params.name,email:this.params.email});ns.request("recipients",{recipientsIds:[t]}).then(function(o){var a=(i(o,1)[0].getRecipients()||{})[t]||{};e.setData(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},a))}).fail(function(){e.setData({})})}}},ns.ModelStatic)},function(e,t){ns.Model.define("do-hide-subscriptions",{isStrictParams:!0,params:{emails:null,deleteOldLetters:null}})},function(e,t){ns.Model.define("do-trash-messages",{isStrictParams:!0,params:{messageType:null,search:null}})},function(e,t){ns.Model.define("get-active-subscriptions/v1",{params:{}})},function(e,t){ns.Model.define("get-hidden-subscriptions/v1",{params:{},methods:{RETRY_LIMIT:1,isEmpty:function(){return!this.data.subscriptions.length},hasSubscription:function(e){return this.data.subscriptions.some(function(t){return t.email===e})}}})},function(e,t){ns.Model.define("newsletter",{events:{"ns-model-init":"_onInit"},params:{displayName:null,email:null,messageType:null,readFrequency:null},methods:{_onInit:function(){this.setData({})}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-newsletters/v1",{isStrictParams:!0,params:{},split:{items:".newsletters",params:{id:".id"},model_id:"newsletter"},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-subscription-counters/v1",{isStrictParams:!0,params:{optinEnabled:null}})},function(e,t){ns.Model.define("get-pending-subscriptions",{isStrictParams:!0,params:{optinEnabled:null,optinEnabledAt:null,withEmailsInfo:null}})},function(e,t){ns.Model.define("do-review-subscriptions",{isStrictParams:!0,RETRY_LIMIT:1,params:{}})},function(e,t){ns.Model.define("do-update-subscriptions",{isStrictParams:!0,isDo:function(){return!0},params:{optinEnabled:null,subscriptions:[]}})},function(e,t){ns.Model.define("is-user-recently-confirmed-phone",{})},function(e,t){ns.Model.define("is-user-recently-entered-password",{params:{}})},function(e,t){ns.Model.define("products",{methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-domenator-domains-suggest/v1",{params:{limit:null}})},function(e,t){ns.Model.define("get-memories/v1",{RETRY_LIMIT:1,params:{image_size:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-labels-delete",{params:{lids:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-filters-delete",{params:{id:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-filters-add",{params:{mailboxUid:null,name:null,letter:null,attachment:null,logic:null,field1:null,field2:null,field3:null,clicker:null,move_label:null,move_folder:null,forward_address:null,notify_address:null,autoanswer:null,order:null,stop:null,password:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-reply-later-create",{params:{ensureFolder:null,mid:null,date:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-reply-later-remove",{params:{mid:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-reply-later-reset",{params:{mid:null,date:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("do-reply-later-update",{params:{mid:null,date:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4247),i=n.n(r),o=n(4251),a=n.n(o),s=n(144);n.n(s);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.Model.define("stickers",{params:{type:null},paramsRewrite:function(e){return Object.values(s.StickerType).includes(e.type)||(e.type=s.StickerType.REPLY_LATER),e},methods:{preprocessData:function(e){var t=i()(e.stickers,"tid");return{cacheByMid:e.stickers.reduce(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,c({},t.mid,t))},{}),cacheByTid:t}},getStickersByTid:function(e){return e=e.startsWith("t")?e.substr(1):e,this.data&&this.data.cacheByTid[e]||[]},getLastStickerByTid:function(e){var t=a()(this.getStickersByTid(e),"date");return t.length?t[t.length-1]:void 0},getStickerByMid:function(e){return this.data&&this.data.cacheByMid[e]},getRemindDateByMid:function(e){var t=this.getStickerByMid(e);return t?this._convertStickerDate(t.date):null},getRemindDateByTid:function(e){var t=this.getLastStickerByTid(e);return t?this._convertStickerDate(t.date):null},_convertStickerDate:function(e){return Daria.getPassportDate(new Date(1e3*e))}}})},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);ns.Model.define("ws-userinfo",{params:{fields:null,mailboxUid:null},paramsRewrite:r.addMailboxUidParamsRewrite})},function(e,t){ns.layout.define("common",{app:{"page-class-manager":{},notifications:{},"infoline-box@":function(){return"messages"!==ns.page.current.page?{}:{infoline:{}}},"fake-head-background-box@":{},"toolbar-box@":{},"service-box@":{},"advanced-search-box@":{"advanced-search-react":{}},"react-promo-container":{},"loading-bar":{},"timeline-loader-box@":function(){return ns.Model.get("app-state").get(".module-timeline-loaded")?{"timeline-wrap&":!0}:{}},"themes-skin-rotater-box@":function(){var e={};return e["skin-rotater-"+Daria.themeId]={},e},"themes-selector-box@":function(){if(ns.Model.get("themes-selector").isOpened()){var e={};return ns.Model.get("themes").get(".themes.*.settings").forEach(function(t){e[t]={}}),{"themes-selector":e}}return{}},"browser-notifications":{},"messages-time-updater":{},"compose-manager-container-box@":function(){return Daria.isReactiveCompose()?{"compose-manager-container":{}}:{}},"system-alert-container":!0}}),ns.layout.define("common+left+toolbar",{},"common"),ns.layout.define("not-found",{"app service-box@":{404:{}}},"common")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(350)),o=n(776);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e,t={"page-class-manager":{},"technical-problems-alert&":{},notifications:{},"left-box@":{},"right-box@":{},"infoline-box@":function(){return"messages"!==ns.page.current.page?{}:{infoline:{}}},"fake-head-background-box@":{},"toolbar-box@":{},"service-box@":{},"advanced-search-box@":{"advanced-search-react":{}},"react-promo-container":{},"notification-center-box@":function(){return"messages"!==ns.page.current.page?{}:{"notification-center-react":{}}},"loading-bar":{},"compose-buttons-box@":function(){return-1!==["message","messages","abook","compose2"].indexOf(ns.page.current.page)?{"main-action-buttons":a({},"react-main-buttons",{})}:{}},"timeline-loader-box@":function(){return ns.Model.get("app-state").get(".module-timeline-loaded")?{"timeline-wrap&":!0}:{}},"themes-skin-rotater-box@":function(){var e={};return e["skin-rotater-"+Daria.themeId]={},e},"themes-footer-wrapper@":function(){var e=Daria.CompactMode;return!(e.isCompactMessagesList()||e.isCompactHeader()||Daria.is3pane())&&{"themes-footer-box@":function(){var e=Daria.themes.footers;return e[Daria.themeId]||e._default}}},"themes-selector-box@":function(){if(ns.Model.get("themes-selector").isOpened()){var e={};return ns.Model.get("themes").get(".themes.*.settings").forEach(function(t){e[t]={}}),{"themes-selector":e}}return{}},"browser-notifications":{},"messages-time-updater":{},"compose-manager-container-box@":function(){return Daria.isReactiveCompose()?{"compose-manager-container":{}}:{}}};Object(i.hasMidgets)()&&Object.assign(t,{"midgets-box@":function(){return Object(o.b)()?{midgets:{}}:{}}}),Object(r.hasFeature)(r.Features.REACT_CLIENT_HEADER)||Object.assign(t,{"header-box@":{"ps-header":{}}}),Object.assign(t,{"system-alert-container":!0}),ns.layout.define("common",{app:_.extend({},t,Daria.getDirectBlockLayoutInfo("messages-direct").layout)}),ns.layout.define("common+left+toolbar",{"app left-box@":function(){var e={"react-left-column":{}};return Daria.Config.mayHaveAdv&&Object.assign(e,Daria.getDirectBlockLayoutInfo("banner").layout),Daria.is2pane()&&(e["fill-height-placeholder-box@"]={}),e["skin-saver-box@"]=function(){var e={};return ns.Model.get("themes").getCurrentTheme().hasSkinSaver()&&(e["skin-saver"]={}),e},e["copyright-box@"]=function(){var e={},t=ns.Model.get("themes").getCurrentThemeName(),n=ns.Model.get("theme-"+t).get(".copyright");return n&&(e["copyright-"+n]={}),e},Daria.is3pane()&&(e["react-left-footer"]={}),e},"app toolbar-box@":function(){return Object(r.hasFeature)(r.Features.WEB_REACT_TOOLBAR)?{"react-toolbar":{}}:{toolbar:function(){var e={"toolbar-buttons-box@":"toolbar-buttons","toolbar-compact-header-box@":"compact-header"};return"message"!==ns.page.current.page&&(e["toolbar-aside-box@"]=function(){var e={};return Daria.CompactMode.isCompactHeader()&&(e["more-services"]={}),e}),e}}}},"common"),ns.layout.define("not-found",(a(e={},"app "+Daria.getDirectBlockLayoutInfo("messages-direct").name,{}),a(e,"app service-box@",{404:{}}),e),"common")}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4260),i=n.n(r),o=n(1590),a=n(346);ns.events.on("pageinit",function(){var e=Object(a.getMailboxUid)();ns.request([{id:"filters",params:{mailboxUid:e}}]),ns.request(["signs"]),Daria.IS_CORP||ns.request(["userphones"]);var t=["module-compose","module-message"];ns.Model.get("settings").getSign("timeline_enable")&&t.push("module-timeline"),ns.request(t)}),ns.events.on("pageinit",function(){function e(){ns.forcedRequest(["do-mail-reset-recent-counter"]).then(function(){ns.forcedRequest(["app-badge-counter"])})}e(),ns.events.on("pageVisible.change",function(){Jane.watcher.get("pageVisible")&&e()})}),ns.events.on("pageinit",function(){ns.events.on("ns-page-before-changed",function(){nb.trigger("popup-close")})}),ns.events.on("pageinit",function(){Daria.Sound.preload("message")}),ns.events.on("pageinit",function(){Daria.Geolocation.monitoring()}),ns.events.on("pageinit",function(){Jane.HAS_AD&&ns.request("module-direct")}),ns.events.on("pageinit",function(){new i.a({cspHost:Daria.Config.cspHost,from:"LIZA",tld:Daria.Config.TLD,reqid:Daria.Config.connection_id}).check()}),ns.events.on("pageinit",function(){Object(o.b)(ns.Model.get("settings").getData())})},,function(e,t){Daria.IS_CORP&&ns.events.on("ns-page-after-load",function(){$.ajax({url:"//center.yandex-team.ru/whistlah",dataType:"jsonp"})}),ns.events.on("ns-page-before-load",function(e,t){var n=t[0],r=t[1];"messages"===n.page&&(n.params.ids||n.params.thread_id)&&(n.params.ids===r.params.ids&&n.params.thread_id===r.params.thread_id||ns.events.trigger("daria:message-will-close"))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376),i=n.n(r),o=_.throttle(function(e,t){return e.call(this,t)},100,{leading:!1});Daria.ContextMenu=function(e){if(!e.items||!e.items.length)throw new Error('Parameter "items" must contain at least 1 element');e.items=_.sortBy(e.items,"index"),this._params=e,this._parentMenu=e.parentMenu,this._scrollItervalIds={},this._menuInfo=this._transformItems(e.items),this._$container=$(Jane.tt("mail:context-menu",{items:this._menuInfo.items,"is-main-menu":!this._parentMenu})),this._$menu=this._$container.find(".js-context-menu"),this._$menuWrapper=this._$container.find(".js-context-menu-wrapper"),this._$menuContent=this._$container.find(".js-context-menu-items"),this._$menu.on("contextmenu",function(){return!1}).on("mouseenter",".js-item",o.bind(this,this._onItemHover)).on("click",".js-item.js-submenu:not(.is-inactive)",this._onSubmenuItemClick.bind(this)).on("click",".js-item:not(.is-inactive):not(.js-submenu)",this._onItemClick.bind(this)).on("keyup",".js-item",this._onItemKeyUp.bind(this)).on("keydown",".js-item",this._onItemKeyDown.bind(this))},ns.events.on("dropdowns-closed",function(){Daria.ContextMenu.close()}),ns.events.on("daria:dropdown:close",function(){Daria.ContextMenu.close()}),Daria.ContextMenu.Helpers={},Daria.ContextMenu._$menuContainer=null,Daria.ContextMenu._isOpened=!1,Daria.ContextMenu.isOpened=function(){return this._isOpened},Daria.ContextMenu.close=function(e){e=e||{},ns.events.trigger("daria:vContextMenu:close",{success:Boolean(e.success),staySelection:Boolean(e.staySelection)}),$(".js-layout-left").off("scroll.context-menu-close")},Daria.ContextMenu.prototype._isVisible=!1,Daria.ContextMenu.prototype.show=function(e){var t=this,n=this._isTopLevelMenu=!this._parentMenu,r=!n,i=$(window),o=$("BODY"),a=$(document);n&&(Daria.Dropdown.closeAll(),Daria.ContextMenu.close(),Daria.ContextMenu._isOpened=!0,ns.events.once("daria:vContextMenu:close",function(e,n){(n=n||{}).menuId&&n.menuId!==t._menuId||t._onCloseMenu(e,n)}),o[0].addEventListener("mousedown",this._closeMenuIfOut),o[0].addEventListener("contextmenu",this._closeMenuIfOut),this._$scrollContainer=e.$scrollContainer||i,this._$scrollContainer.on("scroll.context-menu-show",Daria.ContextMenu.close),i.on("resize.context-menu-show",Daria.ContextMenu.close),$.Shortcuts.modalListOn("context-menu"));var s=Daria.ContextMenu._$menuContainer;s||(s=Daria.ContextMenu._$menuContainer=$("<div>")).appendTo("body"),s.append(this._$container),this._isVisible=!0;var l=o.outerWidth(),c=o.outerHeight(),u=a.scrollLeft(),d=a.scrollTop(),f=!1,p={top:e.y,left:e.x},g=this._$menu.find(".js-item:first"),m=this._itemHeight=g.outerHeight(),h=this._$menu.outerWidth(),v=this._$menu.outerHeight();v>c/2&&(v=c/2,v=Math.floor(v/m)*m,this._$menuWrapper.css({"max-height":v}),this._addScrollControls(),f=!0);var b=!1,_=e.x-u,y=e.y-d;if(_+h>l&&e.x>l/2&&(p.left-=h,r&&(p.left-=this._parentMenu._$menu.outerWidth()+2)),y+v>c&&e.y>c/2&&(p.top-=v,r&&(p.top+=m),b=!0),r){var S=g.offset().top-this._$menu.offset().top;b&&!f?p.top+=S:p.top-=S}this._$menu.css(p);var w=this._$menuWrapper.width(),O=this._$menuContent.width();w>O&&this._$menu.css({width:2*w-O}),n&&this._log("")},Daria.ContextMenu.prototype._log=function(e){Jane.c("   ",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(),this._params.metrika,e)},Daria.ContextMenu.prototype._closeMenuIfOut=function(e){$(e.target).closest(".js-context-menu").length||Daria.ContextMenu.close({staySelection:!0})},Daria.ContextMenu.prototype._addScrollControls=function(){this._$menu.addClass("context-menu_scroll"),this._$menu.addClass("context-menu_scroll_allow-down"),this._contentHeight=this._$menuContent.outerHeight(),this._contentWrapperHeight=this._$menuWrapper.outerHeight(),this._$menuWrapper.on("scroll",_.throttle(this._updateArrowsState.bind(this),50,{leading:!1})),this._$menu.on("mouseenter",".js-context-menu-scroll-up",this._toggleScrolling.bind(this,"up",!0)).on("mouseleave",".js-context-menu-scroll-up",this._toggleScrolling.bind(this,"up",!1)).on("mouseenter",".js-context-menu-scroll-down",this._toggleScrolling.bind(this,"down",!0)).on("mouseleave",".js-context-menu-scroll-down",this._toggleScrolling.bind(this,"down",!1))},Daria.ContextMenu.prototype._onItemHover=function(e){if(this._isVisible){var t=$(e.currentTarget);if(this._$activeItem&&(this._$activeItem.removeClass("context-menu-item_active"),this._$activeItem=null),t.hasClass("js-submenu")){this._$activeItem=t,t.addClass("context-menu-item_active");var n=t.data("id"),r=this._menuInfo.subMenusHash[n];if(r.subMenu&&r.subMenu.isShown())return;this._closeAllSubMenus(),r.subMenu=new Daria.ContextMenu({items:r.items,parentMenu:this,metrika:this._params.metrika}),r.subMenu.show({x:t.offset().left+t.outerWidth()+1,y:t.offset().top})}else this._closeAllSubMenus()}},Daria.ContextMenu.prototype._onItemClick=function(e){var t=$(e.currentTarget),n=this._params.items[t.data("id")];this.closeMenu({success:!0}),this._log(n.metrika||" "),n.onClick&&n.onClick()},Daria.ContextMenu.prototype._onSubmenuItemClick=function(e){this._onItemHover(e);var t=$(e.currentTarget).data("id"),n=this._menuInfo.subMenusHash[t],r=$(n.subMenu._$menu);if(r.length){var i=r.find(":focusable");i.length&&i.eq(0).focus()}},Daria.ContextMenu.prototype._closeAllSubMenus=function(){for(var e in this._menuInfo.subMenusHash){var t=this._menuInfo.subMenusHash[e];t.subMenu&&t.subMenu.close()}},Daria.ContextMenu.prototype.isShown=function(){return this._isVisible},Daria.ContextMenu.prototype.close=function(){for(var e in this._scrollItervalIds)clearInterval(this._scrollItervalIds[e]);if(this._isTopLevelMenu){var t=$("BODY");t[0].removeEventListener("mousedown",this._closeMenuIfOut),t[0].removeEventListener("contextmenu",this._closeMenuIfOut),this._$scrollContainer.off(".context-menu-show"),$(window).off(".context-menu-show"),$.Shortcuts.modalListOff()}this._isVisible=!1,this._closeAllSubMenus(),this._$container&&this._$container.remove()},Daria.ContextMenu.prototype._transformItems=function(e){for(var t={},n=e.map(function(e,n){return e.items&&(t[n]={items:e.items}),{id:n,type:e.type,text:e.text,alt:e.alt,"inline-css":e.style,"add-class":e.addClass,"custom-icon":e.customIcon,"sub-menu":Boolean(e.items),inactive:e.hasOwnProperty("isActive")&&!e.isActive}}),r=[],i=0;i<n.length;++i){var o=n[i];("separator"!==o.type||0!==r.length&&i!==n.length-1&&"separator"!==n[i+1].type)&&r.push(o)}return{items:r,subMenusHash:t}},Daria.ContextMenu.prototype._onCloseMenu=function(e,t){Daria.ContextMenu._isOpened&&(t=t||{},this.close(),Daria.ContextMenu._$menuContainer.remove(),Daria.ContextMenu._$menuContainer=null,Daria.ContextMenu._isOpened=!1,!t.success&&this._params.onCancel&&this._params.onCancel(t),this._params.onClose&&this._params.onClose())},Daria.ContextMenu.prototype._updateArrowsState=function(){var e=this._$menuWrapper.scrollTop();this._$menu.toggleClass("context-menu_scroll_allow-up",e>0).toggleClass("context-menu_scroll_allow-down",this._contentHeight-this._contentWrapperHeight>e)},Daria.ContextMenu.prototype._toggleScrolling=function(e,t){t?this._scrollItervalIds[e]=setInterval(this._scroll.bind(this,e),220):clearInterval(this._scrollItervalIds[e])},Daria.ContextMenu.prototype._scroll=function(e){var t=this._$menuWrapper.scrollTop(),n=("up"===e?Math.ceil:Math.floor)(t/this._itemHeight)*this._itemHeight+("up"===e?-this._itemHeight:this._itemHeight);n=Math.min(Math.max(n,0),this._contentHeight-this._contentWrapperHeight),this._$menuWrapper.scrollTop(n),this._updateArrowsState()},Daria.ContextMenu.prototype._onItemKeyUp=function(e){var t=this._$menu.find(".js-item"),n=this._parentMenu&&this._parentMenu._$menu.find(".js-item.js-submenu.context-menu-item_active"),r=t.index(e.currentTarget),o=-1!==r?r:0,a=t.eq(o);switch(e.which){case i.a.DOWN:o=o>=t.length?t.length:o+1;break;case i.a.UP:o=o<=0?0:o-1;break;case i.a.RIGHT:if(a.length&&a.hasClass("js-submenu"))return void this._onSubmenuItemClick(e);break;case i.a.LEFT:if(n&&n.length)return void n.focus();break;case i.a.ENTER:if(a.length&&!a.hasClass("is-inactive"))return void this._onItemClick(e)}var s=t.eq(o);s.length&&s.focus()},Daria.ContextMenu.prototype._onItemKeyDown=function(e){switch(e.which){case i.a.DOWN:case i.a.UP:e.preventDefault()}},Daria.ContextMenu.prototype.closeMenu=Daria.ContextMenu.close.bind(Daria.ContextMenu)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(486),i=(n.n(r),n(4264)),o=(n.n(i),n(4269)),a=(n.n(o),n(4273)),s=(n.n(a),n(347)),l=n(349);n.n(l);n(4275),n(4276),n(4277),n(4278),Object(l.hasFeature)(l.Features.REACT_LAYOUT)?n(4279):n(4282),n(4283),n(4284),n(4285),n(4286),n(4287),n(4290),n(4291),n(4292),n(4293),n(4294),n(4295),n(4296),n(4297),n(4300),n(4301),n(4302),n(4303),n(4311),n(4312),n(4313),n(4314),n(4315),n(4316),n(4317),n(4318),n(4319),n(4320),n(4321),n(4322),n(4323),n(4324),n(4325),n(4326),n(4327),n(4328),n(4329),n(4331),n(4333),n(4334),n(4335),ns.View.define("react-thread-quick-reply",Object(r.NsReactView)({component:i.QuickReplyPlaceholder,yateModule:"mail",props:{shouldShowReplyAll:function(){return!0}}})),ns.View.define("system-alert-container",Object(r.NsReactView)({component:o.SystemAlertContainer,yateModule:"mail"})),ns.View.define("react-toolbar",Object(r.NsReactView)({component:a.ReactToolbar,params:function(){return{layout:ns.page.current.page}},yateModule:"mail"}));var c=Object(s.getYagptNeurofilterBannerPortal)();ns.View.define("react-promo-container",Object(r.NsReactView)({component:c,params:function(){return{layout:ns.page.current.page}},yateModule:"mail"}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplyPlaceholder=void 0;var r=n(4265);Object.defineProperty(t,"QuickReplyPlaceholder",{enumerable:!0,get:function(){return r.QuickReplyPlaceholder}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplyPlaceholder=void 0;var o=i(n(135)),a=i(n(339)),s=i(n(344)),l=n(138),c=i(n(353)),u=i(n(4266)),d=i(n(4267)),f=i(n(4268)),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick&&t.props.onClick(),window.Apdex.start(["Performance_openCompose"],!0)},t}return r(t,e),t.prototype.render=function(){return o.default.createElement("div",{className:a.default("js-open-quick-reply","qa-QuickReplyPlaceholder",f.default.container),onClick:this.handleClick},this.props.shouldShowReplyAll()?o.default.createElement(o.default.Fragment,null,o.default.createElement(d.default,{"aria-hidden":"true",className:f.default.icon}),o.default.createElement(l.Text,{className:a.default("qa-QuickReplyPlaceholder-Text",f.default.description),typography:"body-short-m",color:"secondary","aria-label":c.default("compose-react/QuickReply_ReplyAll"),role:"button"},o.default.createElement(s.default,{loc:"compose-react/QuickReply_ReplyAll"}))):o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,{"aria-hidden":"true",className:f.default.icon}),o.default.createElement(l.Text,{className:a.default("qa-QuickReplyPlaceholder-Text",f.default.description),typography:"body-short-m",color:"secondary","aria-label":c.default("compose-react/QuickReply_Reply"),role:"button"},o.default.createElement(s.default,{loc:"compose-react/QuickReply_Reply"}))))},t}(o.default.PureComponent);t.QuickReplyPlaceholder=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("path",{d:"M8.017 2.182a.75.75 0 00-1.25-.558l-6.48 5.82a.75.75 0 000 1.114l6.478 5.84a.75.75 0 001.252-.558v-2.874c3.67.502 6.48 3.28 7.54 4.481.153.173.44.064.42-.165-.193-2.193-1.325-8.73-7.96-10.048V2.182z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(135);n.n(i);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),l=0;l<a;l++)s[l]=arguments[l+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.03 3.167a.5.5 0 00-.834-.371l-5.005 4.51a.5.5 0 00-.001.742l5.006 4.525a.5.5 0 00.835-.37v-2.3c2.795.384 4.925 2.537 5.686 3.412.101.116.292.046.28-.107-.129-1.58-.933-6.606-5.966-7.61v-2.43z",fill:"currentColor"}),l=a("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.006 3.167a.5.5 0 00-.835-.371L.165 7.306a.5.5 0 000 .742l5.005 4.525a.5.5 0 00.836-.37v-.678L2.159 8.048a.5.5 0 010-.742L6.007 3.84v-.674z",fill:"currentColor"});t.default=function(e){return i.createElement("svg",o({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s,l)}},function(e,t){e.exports={container:"QuickReplyPlaceholder__container--KS4dZ",icon:"QuickReplyPlaceholder__icon--1znnY",description:"QuickReplyPlaceholder__description--1IJGM"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertContainer=void 0;var r=n(4270);Object.defineProperty(t,"SystemAlertContainer",{enumerable:!0,get:function(){return r.SystemAlertContainer}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertContainer=void 0;var a=o(n(135)),s=n(342),l=n(4271),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.systemAlertStore=l.SystemAlertStore.instance(),t}return r(t,e),t.prototype.render=function(){return this.systemAlertStore.content},t=i([s.observer],t)}(a.default.PureComponent);t.SystemAlertContainer=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertStore=void 0;var i=n(341),o=n(136),a=n(4272),s=function(){function e(e){this.systemStatusStore=e}return Object.defineProperty(e.prototype,"content",{get:function(){this.systemStatusStore.hasProblems;return null},enumerable:!1,configurable:!0}),e.instance=o.memoize(function(){return new e(a.SystemStatusStore.instance())}),r([i.computed],e.prototype,"content",null),e}();t.SystemAlertStore=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemStatusStore=void 0;var a=n(341),s=o(n(390)),l=n(136),c=function(e){function t(){var t=e.call(this)||this;return t.data={},t._addModelSubscription("system-status"),t}return r(t,e),Object.defineProperty(t.prototype,"hasProblems",{get:function(){return!!this._isNotEmpty(this.data)&&Boolean(this.data.problem)},enumerable:!1,configurable:!0}),t.instance=l.memoize(function(){return new t}),i([a.observable],t.prototype,"data",void 0),i([a.computed],t.prototype,"hasProblems",null),t}(s.default);t.SystemStatusStore=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactToolbar=void 0;var l=a(n(135)),c=n(543),u=n(347),d=n(145),f=s(n(4274));t.ReactToolbar=function(e){var t=u.getMainToolbarLoader(),n=l.useCallback(function(){return t().then(function(t){var n=t.MainToolbar;return l.default.createElement(n,r({},e.params))})},[t,e]),i=l.useCallback(function(){return l.default.createElement("div",{className:f.default.placeholder},l.default.createElement(d.Spin,{view:"default",size:"s",progress:!0}))},[]);return t?l.default.createElement(c.ModuleLoader,{component:n,placeholder:i}):null}},function(e,t){e.exports={placeholder:"ReactToolbar__placeholder--2raQd"}},function(e,t){ns.View.define("prevent-scroll-propagation-mixin",{yateModule:"mail",methods:{getScrollContent:function(){throw new Error("Must be overwritten")},onWheel:function(e){var t=this.getScrollContent(e);if(!t)return e.preventDefault(),void e.stopImmediatePropagation();var n=e.originalEvent.deltaY,r=t.scrollTop,i=t.offsetHeight,o=t.scrollHeight;(n<0&&0===r||n>0&&r+i>=o||i===o)&&(e.preventDefault(),e.stopImmediatePropagation())}}})},function(e,t){ns.View.define("page-class-manager",{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.pageClasses":"updatePageClasses"}},yateModule:"mail",methods:{updatePageClasses:function(){this.keepValid();var e=this.getModel("app-state").get(".pageClasses"),t=_.uniq([].concat(Object.keys(e),Array.from(document.documentElement.classList)));document.documentElement.className=t.filter(function(t){return e[t]||void 0===e[t]}).join(" ")}}})},function(e,t){ns.View.define("kbd-dropdown-actions",{methods:{moveKbdCursor:function(e){var t=this,n=function(e){var n=t.visibleList[t.kbdSelected],r=t.visibleList[e];n?n.$node.removeClass(t.selectedClass):t.newListElementActive&&($(t.newListSelector).removeClass(t.selectedClass),t.newListElementActive=!1),r?(!function(e){var t=e[0],n=e.closest(".js-filter-list-wrap")[0];if(!t||!n)return!1;var r=0,i=n.getBoundingClientRect(),o=t.getBoundingClientRect(),a=o.height;o.top+o.height+a>=i.bottom&&(r=i.bottom-o.top-o.height-a),o.top<i.top+a&&(r=i.top-o.top+a),0!==r&&(n.scrollTop+=r>0?-r:Math.abs(r))}(r.$node),r.$node.addClass(t.selectedClass),t.kbdSelected=e):(-2===e&&(t.newListElementActive=!0,$(t.newListSelector).addClass(t.selectedClass),t.kbdSelected=t.visibleList.length),-1===e&&(t.kbdSelected=-1))};n("down"===e?null===t.kbdSelected?0:t.kbdSelected+1<t.visibleList.length?t.kbdSelected+1:-2:t.kbdSelected<0?-1:null===t.kbdSelected?0:t.kbdSelected-1>-1?t.kbdSelected-1:-1)},getOpenOptions:function(e){var t={width:200,autoclose:!0,how:{my:"center top",at:"center bottom"}};return jpath(e,".isInMore")[0]?t=_.extend(t,{autofocus:!1,how:{my:"left center+30%",at:"right center",collision:"flipfit fit",within:".mail-App"},class:"is-in-more-button"}):jpath(e,".isInDropdown")[0]&&(t=_.extend(t,{class:"is-in-dropdown"})),t},_preventDefaultAndStopPropagation:function(e){e.preventDefault(),e.stopPropagation()}}})},function(e,t){ns.View.define("404",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},methods:{onShow:function(){$("html").addClass("mail-Page_404")},onHide:function(){$("html").removeClass("mail-Page_404")}},yateModule:"mail"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(379),i=n(754),o=(n.n(i),n(755)),a=(n.n(o),n(1172)),s=(n.n(a),n(449)),l=(n.n(s),n(349)),c=(n.n(l),["show_checkbox_inside_userpic","messages_avatars","liza_minified"]);ns.View.define("app",{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.module-timeline-loaded":"onTimelineModuleLoaded"},"account-information":!1,settings:Object.assign({"ns-model-changed":!1,"ns-model-changed.color_scheme":"updateThemes","ns-model-changed.folder_thread_view":"onSwitchThreadMode","ns-model-changed.with_bigger_text":"onSwitchBiggerText"},c.reduce(function(e,t){return e["ns-model-changed."+t]="onChangeInterfaceSettings",e},{})),"index-data":!1,themes:{"ns-model-changed":!1,"ns-model-changed.currentTheme":"updateThemes"},"theme-weather":"updateThemes","theme-colorful":"updateThemes","theme-seasons":"updateThemes","skin-saver-state":{"ns-model-changed":!1,"ns-model-changed.previewMode":"toggleSkinPreviewMode"},versions:!1},events:{"ns-view-htmlinit":"onHtmlinit","ns-view-show":"onShow","ns-page-after-load":"onPageAfterLoad","click .js-mail-app-content":"closeMessageOnExternalClick","click .js-layout-background":"closeMessageOnExternalClick","daria:unsubscribe-popup:show":"onShowUnsubscribePopup","daria:unsubscribe-popup:hide":"onHideUnsubscribePopup","daria:vApp:reactSetupToggle":"_toggleReactSetup"},ctor:function(){this._onTransitionEndDebounce=_.debounce(this._onTransitionEnd.bind(this),20)},yateModule:"mail",methods:{MIN_WIDTH_HEADER_LEFT:220,MIN_WIDTH_HEADER_BUTTONS:201,COMPACT_LEFT_COLUMN_WIDTH:Daria.Constants.LEFT_COLUMN.LAYOUT_COMPACT_WIDTH,_previousAsideTheme:null,_previousContentTheme:null,_previousBodyTheme:document.body.className.replace("mail-Page-Body js-mail-Page-Body",""),onHtmlinit:function(){this.$node.transitionEnd(this._onTransitionEndDebounce)},onShow:function(){this.onChangeInterfaceSettings(),this._setupInitialClasses(),this.updateThemes()},onPageAfterLoad:function(){"1"===Daria.getUrlParams()["unsubscribe-popup"]&&ns.events.trigger("daria:unsubscribe-popup:show",{page:"pending"})},onChangeInterfaceSettings:function(){var e=this.getModel("settings"),t=this.$node.find(".js-mail-layout");c.forEach(function(n){t.toggleClass(n,Boolean(e.getSign(n)))})},onTimelineModuleLoaded:function(){ns.page.lazyRefresh()},_onTransitionEnd:function(){this._needScrollMessage&&(this._needScrollMessage=!1,this.onScrollOutTimeline())},onScrollOutTimeline:function(){var e=this.getModel("app-state").get(".timelineHeight");if(e>0){var t=ns.Model.get("scroller-message").getScroller(),n=t.scrollTop();t.scrollTop(n+e)}},_leftColumnClassesAll:["mail-Layout-Aside_maximum","mail-Layout-Aside_middle","mail-Layout-Aside_minimum","mail-Layout-Aside_compact"].join(" "),onSwitchThreadMode:function(){_.contains(["message","messages"],ns.page.current.page)&&ns.page.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params))},onSwitchBiggerText:function(){this.getModel("app-state").updatePageClasses({"with-bigger-text":ns.Model.get("settings").isSet("with_bigger_text")}),ns.events.trigger("daria:vMessagesPager:restruct"),ns.events.trigger("daria:vToolbarButton:restruct")},closeMessageOnExternalClick:function(e){Daria.is2pane()&&(e.target===e.currentTarget&&Daria.isMessageOpenedInList()&&(Jane.c("    "),ns.page.go(Daria.Page.generateUrl.closeMessage())))},toggleSkinPreviewMode:function(){var e=this.getModel("skin-saver-state");this.getModel("app-state").updatePageClasses({"mail-Page_skin_preview":e.isPreviewMode()})},onShowUnsubscribePopup:function(e,t){Daria.React.popupSubscriptions.openPopup(t),Daria.toggleVerticalScrollBar(!0),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!0})},onHideUnsubscribePopup:function(){Daria.toggleVerticalScrollBar(!1),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!1}),ns.forcedRequest("get-hidden-subscriptions/v1")},updateThemes:function(){this._updateBodyTheme()},_updateBodyTheme:function(){this._previousBodyTheme&&$(document.body).removeClass(this._previousBodyTheme);var e=this._getPsTheme();$(document.body).addClass(e),this._previousBodyTheme=e},_getPsTheme:function(){var e=ns.Model.get("themes"),t=s.ThemeMaster.instance(),n=t.isActive?t.isPageDark:e.getSkinParams().page_is_dark,l=e.getCurrentTheme().getThemeData().is_superdark?a.PS_SUPERDARK_TRANSPARENT:o.PS_DARK_TRANSPARENT;return Object(r.cnTheme)(n?l:i.PS_LIGHT_TRANSPARENT)},_setupInitialClasses:function(){var e={"feature-compact-folder-tabs":Daria.areCompactFolderTabsEnabled(),"with-banner":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowBanner(),"with-messages-direct":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowLine()&&!Object(l.getFeatureParams)(l.Features.PARTLY_DISABLE_ADV).direct};this.getModel("app-state").updatePageClasses(e)},_toggleReactSetup:function(e,t){this.getModel("app-state").updatePageClasses({"mail-Page_setup":t.show})}}})},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(379),i=n(754),o=(n.n(i),n(755)),a=(n.n(o),n(1172)),s=(n.n(a),n(373)),l=(n.n(s),n(756)),c=(n.n(l),n(449)),u=(n.n(c),n(349)),d=(n.n(u),["show_checkbox_inside_userpic","messages_avatars","liza_minified"]);ns.View.define("app",{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.module-timeline-loaded":"onTimelineModuleLoaded","ns-model-changed.timelineHeight":"onChangedTimelineHeight"},"account-information":!1,settings:Object.assign({"ns-model-changed":!1,"ns-model-changed.color_scheme":"updateThemes","ns-model-changed.liza_minified_header":"onChangedLizaMinifiedHeader","ns-model-changed.folder_thread_view":"onSwitchThreadMode","ns-model-changed.with_bigger_text":"onSwitchBiggerText"},d.reduce(function(e,t){return e["ns-model-changed."+t]="onChangeInterfaceSettings",e},{})),"index-data":!1,themes:{"ns-model-changed":!1,"ns-model-changed.currentTheme":"updateThemes"},"theme-weather":"updateThemes","theme-colorful":"updateThemes","theme-seasons":"updateThemes","skin-saver-state":{"ns-model-changed":!1,"ns-model-changed.previewMode":"toggleSkinPreviewMode"},versions:!1},events:{"ns-view-htmlinit":"onHtmlinit","ns-view-show":"onShow","ns-page-after-load":"onPageAfterLoad","ns-view-htmldestroy":"onHtmlDestroy","click .js-mail-app-content":"closeMessageOnExternalClick","click .js-layout-background":"closeMessageOnExternalClick","scroll .js-messages-scroll-area":"_onPaneScroll","daria:toggle-left-column-width":"_onToggleLeftColumWidth","click .js-header-themes-selector":"_onThemesSelectorClick","daria:vApp:changeLeftColumWidth@show":"_onChangeLeftColumWidth","daria:vApp:enableLeftColumnResize@show":"_onEnableLeftColumnResize","daria:vApp:disableLeftColumnResize@show":"_onDisableLeftColumnResize","daria:unsubscribe-popup:show":"onShowUnsubscribePopup","daria:unsubscribe-popup:hide":"onHideUnsubscribePopup","daria:vApp:setupPageToggle":"_toggleSetupPage","daria:vApp:setupPageReactToggle":"_toggleSetupPageReact"},ctor:function(){this._onPaneScroll=_.throttle(this._onPaneScroll.bind(this),50),this._onThemesSelectorClick=_.throttle(this._onThemesSelectorClick.bind(this),300,{leading:!1}),this._onTransitionEndDebounce=_.debounce(this._onTransitionEnd.bind(this),20)},yateModule:"mail",methods:{MIN_WIDTH_HEADER_LEFT:220,MIN_WIDTH_HEADER_BUTTONS:201,COMPACT_LEFT_COLUMN_WIDTH:Daria.Constants.LEFT_COLUMN.LAYOUT_COMPACT_WIDTH,_previousAsideTheme:null,_previousContentTheme:null,_previousBodyTheme:null,onHtmlinit:function(){Daria.resize.init(),this.$node.transitionEnd(this._onTransitionEndDebounce)},onHtmlDestroy:function(){Daria.resize.dispose()},onShow:function(){this._onChangeLeftColumWidth(),this.onChangeInterfaceSettings(),this._setupInitialClasses(),this.updateThemes()},onPageAfterLoad:function(){"messages"===ns.page.current.page&&(Daria.is3pv()&&(Daria.resize.reinit3paneVerticalResizer(),ns.events.trigger("daria:vApp:changeRightColumSize")),Daria.is3ph()&&(Daria.resize.reinit3paneHorizontalResizer(),ns.events.trigger("daria:vApp:changeAppWidth"))),"1"===Daria.getUrlParams()["unsubscribe-popup"]&&ns.events.trigger("daria:unsubscribe-popup:show",{page:"pending"}),this._onChangeLeftColumWidth()},onChangeInterfaceSettings:function(){var e=this.getModel("settings"),t=this.$node.find(".js-mail-layout");d.forEach(function(n){t.toggleClass(n,Boolean(e.getSign(n)))})},onTimelineModuleLoaded:function(){ns.page.lazyRefresh()},onChangedTimelineHeight:function(){var e=this.getModel("app-state").get(".timelineHeight"),t=ns.Model.get("scroller-message").getScroller();t.scrollTop()+t.height()+e>(Daria.is2pane?this.$node.height():this.$node.find(".js-message-inner").height())&&(this._needScrollMessage=!0)},_onTransitionEnd:function(){this._needScrollMessage&&(this._needScrollMessage=!1,this.onScrollOutTimeline())},onScrollOutTimeline:function(){var e=this.getModel("app-state").get(".timelineHeight");if(e>0){var t=ns.Model.get("scroller-message").getScroller(),n=t.scrollTop();t.scrollTop(n+e)}},_leftColumnClassesAll:["mail-Layout-Aside_maximum","mail-Layout-Aside_middle","mail-Layout-Aside_minimum","mail-Layout-Aside_compact"].join(" "),_leftColumnWidthOptions:[{min:250,max:Number.MAX_VALUE,nameOfClass:"mail-Layout-Aside_maximum",sizeKind:"maximum"},{min:200,max:250,nameOfClass:"mail-Layout-Aside_middle",sizeKind:"middle"},{min:100,max:200,nameOfClass:"mail-Layout-Aside_minimum",sizeKind:"minimum"},{min:0,max:100,nameOfClass:"mail-Layout-Aside_minimum mail-Layout-Aside_compact",sizeKind:"compact"}],onChangedLizaMinifiedHeader:function(){this.resizeHeaderLeftColumn()},onSwitchThreadMode:function(){_.contains(["message","messages"],ns.page.current.page)&&ns.page.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params))},onSwitchBiggerText:function(){this.getModel("app-state").updatePageClasses({"with-bigger-text":ns.Model.get("settings").isSet("with_bigger_text")}),ns.events.trigger("daria:vMessagesPager:restruct"),ns.events.trigger("daria:vToolbarButton:restruct")},_onChangeLeftColumWidth:function(){var e=this.$node.find(".js-layout-left");if(!Daria.isPageWithResizableLeftColumn())return e.removeClass(this._leftColumnClassesAll),void(this._prevAsideSizeKind=null);var t=e.width(),n=this._findAsideSize(t);n.sizeKind!==this._prevAsideSizeKind&&(e.removeClass(this._leftColumnClassesAll),e.addClass(n.nameOfClass),Daria.resize.isWithCompactLeftColumn="compact"===n.sizeKind,"compact"===this._prevAsideSizeKind?Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Choosed","Full mode"):void 0!==this._prevAsideSizeKind&&"compact"===n.sizeKind&&Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Choosed","Compact mode")),ns.events.trigger("shortcuts.update-labels-list"),this.getModel("app-state").updateAsideKind(n.sizeKind),this.resizeHeaderLeftColumn({size:{width:t}}),this._prevAsideSizeKind=n.sizeKind},_onToggleLeftColumWidth:function(){var e,t=ns.Model.get("settings"),n=this.$node.find(".js-layout-left"),r=n.width();Daria.resize.isWithCompactLeftColumn?(Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Click","Unfold"),e=Math.max(this.MIN_WIDTH_HEADER_LEFT,parseInt(t.getSetting("size-aside-expanded"),10))||this.MIN_WIDTH_HEADER_LEFT,n.resizable("enable")):(Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Click","Fold"),t.setSettings({"size-aside-expanded":r},function(){return ns.events.trigger("daria:settings:changed")}),e=this.COMPACT_LEFT_COLUMN_WIDTH,n.resizable("disable")),n.width(e),Daria.resize.saveSizeOnSettings({settingName:"size-layout-left",type:"h"},n),Daria.is3pv()||ns.events.trigger("daria:vApp:changeAppWidth",{isLeftResized:!0});var i={size:{width:e}};ns.events.trigger("daria:vApp:changeLeftColumWidth"),ns.events.trigger("daria:vApp:changeRightColumSize"),ns.events.trigger("react:dimensions:changeLayoutLeft",i.size),this.resizeHeaderLeftColumn(i)},_onDisableLeftColumnResize:function(){if(!Daria.isPageWithResizableLeftColumn()){var e=this.$node.find(".js-layout-left");e.addClass("with-disabled-resize"),this.resizeHeaderLeftColumn({size:{width:e.width()}})}},_onEnableLeftColumnResize:function(){if(Daria.isPageWithResizableLeftColumn()){var e=this.$node.find(".js-layout-left");e.hasClass("with-disabled-resize")&&(e.removeClass("with-disabled-resize"),ns.events.trigger("daria:vApp:changeAppWidth"),ns.events.trigger("daria:vApp:changeLeftColumWidth"))}},resizeHeaderLeftColumn:function(e){var t,n=ns.Model.get("settings");t=e?e.size.width:this.WIDTH_LAYOUT_LEFT?this.WIDTH_LAYOUT_LEFT:parseInt(n.getSetting("size-layout-left"),10)||this.MIN_WIDTH_HEADER_LEFT,this.WIDTH_LAYOUT_LEFT=t,t+=20;var r=Daria.CompactMode.isCompactHeader()?t+"px":"";this.$node.find(".WithSlidingSearch").css("margin-left",r)},_onThemesSelectorClick:function(){this._openThemesSelector()},_openThemesSelector:function(){ns.Model.get("themes-selector").open(),ns.page.go()},_onPaneScroll:function(e){var t=$(e.target),n=t.find(".ui-resizable-s");n.length&&n.css({top:t.scrollTop()+t.height()-n.height()})},closeMessageOnExternalClick:function(e){Daria.is2pane()&&(e.target===e.currentTarget&&Daria.isMessageOpenedInList()&&(Jane.c("    "),ns.page.go(Daria.Page.generateUrl.closeMessage())))},toggleSkinPreviewMode:function(){var e=this.getModel("skin-saver-state");this.getModel("app-state").updatePageClasses({"mail-Page_skin_preview":e.isPreviewMode()})},onShowUnsubscribePopup:function(e,t){Daria.React.popupSubscriptions.openPopup(t),Daria.toggleVerticalScrollBar(!0),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!0})},onHideUnsubscribePopup:function(){Daria.toggleVerticalScrollBar(!1),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!1}),ns.forcedRequest("get-hidden-subscriptions/v1")},getStyles:function(){return"\n                <style>\n                    .ReactAppLoadingInfo {\n                        display: none !important;\n                    }\n                </style>\n            "},updateThemes:function(){this._updateAsideTheme(),this._updateHeaderTheme(),this._updateContentTheme(),this._updateBodyTheme()},_updateHeaderTheme:function(){var e=this.$node.find(".ns-view-ps-header");this._previousHeaderTheme&&e.removeClass(this._previousHeaderTheme);var t=this._getPsTheme();e.addClass(t),this._previousHeaderTheme=t},_updateAsideTheme:function(){var e=this.$node.find(".js-layout-left");this._previousAsideTheme&&e.removeClass(this._previousAsideTheme);var t=this._getPsTheme();e.addClass(t),this._previousAsideTheme=t},_updateContentTheme:function(){var e=this.$node.find(".js-mail-layout-content"),t=this._getPsContentTheme();this._previousContentTheme&&e.removeClass(this._previousContentTheme),e.addClass(t),this._previousContentTheme=t},_updateBodyTheme:function(){this._previousBodyTheme&&$(document.body).removeClass(this._previousBodyTheme);var e=this._getPsTheme();$(document.body).addClass(e),this._previousBodyTheme=e},_getPsTheme:function(){var e=ns.Model.get("themes"),t=c.ThemeMaster.instance(),n=t.isActive?t.isPageDark:e.getSkinParams().page_is_dark,s=e.getCurrentTheme().getThemeData().is_superdark?a.PS_SUPERDARK_TRANSPARENT:o.PS_DARK_TRANSPARENT;return Object(r.cnTheme)(n?s:i.PS_LIGHT_TRANSPARENT)},_getPsContentTheme:function(){var e=ns.Model.get("themes"),t=c.ThemeMaster.instance(),n=t.isActive?t.isContentDark:e.getSkinParams().content_is_dark;return Object(r.cnTheme)(n?l.PS_DARK:s.PS_LIGHT)},_setupInitialClasses:function(){var e={"feature-compact-folder-tabs":Daria.areCompactFolderTabsEnabled(),"with-banner":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowBanner(),"with-messages-direct":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowLine()&&!Object(u.getFeatureParams)(u.Features.PARTLY_DISABLE_ADV).direct};this.getModel("app-state").updatePageClasses(e)},_findAsideSize:function(e){return _.find(this._leftColumnWidthOptions,function(t){return e>=t.min&&e<t.max})},_toggleSetupPage:function(e,t){this.getModel("app-state").updatePageClasses({"mail-Page_setup":t.show})},_toggleSetupPageReact:function(e,t){this.getModel("app-state").updatePageClasses({"mail-Page_setup-react":t.show})}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1166);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.View.define("journal-log-mixin",{methods:{getUserBehaviorId:function(){return this._readingId||(this._readingId=Object(r.a)(this.params.tid)),this._readingId},_fillMid:function(e,t){t.ids&&(e.mid=t.ids)},_fillTid:function(e,t){t.tid&&(e.tid=t.tid)},_fillFolderTabParams:function(e,t){var n=ns.Model.get("message",t);if(n){var i=Object(r.b)(n);Object.assign(e,i)}},getUserBehaviorParams:function(){var e=this.params,t={target:e.tid?"thread":"message",isSearch:Daria.Page.isParamsForSearch(e),readingId:this.getUserBehaviorId()};return this._fillMid(t,e),this._fillTid(t,e),this._fillFolderTabParams(t,e),t},writeToUserJournal:function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.getUserBehaviorParams(),{},t);Daria.monitoring.journal(e,n)},writeLogForWidgets:function(e,t){Daria.monitoring.journal(e,Object.assign({target:"message"},t))},writeAttachOpenToUserJournal:function(e,t){this.writeToUserJournal("open",{target:"attach",open_type:e?"embed":"external",container_subtype:t,isSearch:Daria.isSearchPage()})}}})},function(e,t){ns.View.define("messages-search-logger-mixin",{methods:{logClickMessageFromSearch:function(e){var t=ns.page.current.params,n=ns.Model.get("messages",t),r=n.params,i=this.getModel("message")||ns.Model.get("message",this.params),o=i.get(".mid"),a=n.models.indexOf(i);a=a>-1?a+1:-1,Daria.React.logSearchMessageClick(e,i.get(".mid"),a,n.isSearchTopResult(o),r)},logSearchSuggest:function(e,t){var n=e.suggestUsed?Number(ns.Model.get("focus").findIndex(this))+1:-1;Daria.React.logSearchSuggest(_.extend({},e,{itemPos:n}),t)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(135),i=n.n(r),o=n(139),a=n.n(o),s=n(347);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.View.define("preview-eml-mixin",{methods:{_getQueryStringFromNode:function(e){return $(e).data("params")},previewEml:function(e){e.preventDefault(),this._previewEmlWithReact(e.currentTarget),this.countAttachmentPreview()},_previewEmlWithReact:function(e){if(this._reactPreviewMountPoint=this.node&&this.node.querySelector(".js-react-eml-preview"),this._reactPreviewMountPoint){var t=this._getQueryStringFromNode(e),n=new URLSearchParams(t);Daria.Shortcuts.freeze(),this._renderReactPreview(this._reactPreviewMountPoint,{params:{mid:n.get("mid"),hid:n.get("hid"),subj:n.get("subj")},mid:this.params.ids,visible:!0})}},_closeReactPreview:function(e){var t=this;return function(){Daria.Shortcuts.unfreeze(),t._renderReactPreview(t._reactPreviewMountPoint,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{visible:!1}))}},_renderReactPreview:function(e,t){var n=this;this.previewPromise=(this.previewPromise||Promise.resolve()).then(Object(s.getEmlViewerLoader)()).then(function(r){var o=r.ConnectedEMLViewer;a.a.render(i.a.createElement(o,l({},t,{onClose:n._closeReactPreview(t)})),e)})}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(347);ns.View.define("save-to-disk-mixin",{events:{"click .js-show-save-popup":"showSavePopup"},yateModule:"mail",methods:{_deferred:null,showSavePopup:function(e){ns.assert(this.getCountLocationName,"Daria.vSaveToDiskMixin","method getCountLocationName should be declared");var t=e.currentTarget,n=$(t),i=n.closest(".js-mail-file");e.preventDefault(),this._deferred||Object(r.getPddRestrictNotificationsModel)().showPopup()||(this._deferred=ns.View.create("disk-widget-save-popup").open({mid:t.getAttribute("data-mid"),hid:t.getAttribute("data-hid"),diskDownloadUrl:t.getAttribute("data-disk-download-url"),countLocationName:this.getCountLocationName(),popup:{where:t,withTail:!1}}),n.toggleClass("is-disabled",!0),i.toggleClass("is-active",!0),this._deferred.promise().then(function(){n.removeClass("is-disabled"),i.removeClass("is-active"),this._deferred=null},this),this.countSaveToDisk())}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(462),i=(n.n(r),n(1591));n.n(i);ns.View.define("count-attachments-ops-mixin",{methods:{_locationNames:{"attachments-widget":i.EventSource.MESSAGES_LIST,"attachments-widget-body":i.EventSource.MESSAGE,"attachments-widget-popup":i.EventSource.MESSAGES_LIST_POPUP,"thread-sidebar-item-attachments-item":i.EventSource.MESSAGE_RIGHT_COLUMN,"compose-attach-area":i.EventSource.IN_COMPOSE,"attachments-tab-widget":i.EventSource.TAB_WIDGET},_attachmentsMetrika:r.MetrikaService.instance().attachments,getCountLocationName:function(){var e=this._locationNames[this.id];return ns.assert(e,"Daria.vAttachmentsWidget","no name specified for %s to count in metrika",this.id),e},sendMetric:function(e){Jane.c(["Attachments",e,this.getCountLocationName()])},sendGroupedMetric:function(e){Jane.Metrika.groupedCount(["Attachments",e,this.getCountLocationName(),"+"])},_countAttachmentsShow:function(){this.sendGroupedMetric("attachments show")},countAttachmentsShow:Daria.memoizeById({},function(e){return"".concat(this.__uniqueId,"_").concat(e)},function(){this._countAttachmentsShow()}),countAttachmentPreview:function(){this._attachmentsMetrika.logShowPreview(this.getCountLocationName())},countDownloadAttachment:function(){this._attachmentsMetrika.logSingleAttachmentDownload(this.getCountLocationName())},countDownloadAllAttachments:function(){this._attachmentsMetrika.logAllAttachmentsDownload(this.getCountLocationName())},countAttachmentsNumberClick:function(){this._attachmentsMetrika.logAttachmentsNumberClick(this.getCountLocationName())},countSaveToDisk:function(){this._attachmentsMetrika.logSaveToDisk(this.getCountLocationName())}}})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageViewMetrika=t.EventSource=void 0;var a,s=n(820);!function(e){e.BODY="Body",e.DOWNLOAD_MODAL="DownloadModal"}(a=t.EventSource||(t.EventSource={}));var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.logRecipientToBlackListShow=function(){this.logRecipientToBlackList("Show")},t.prototype.logRecipientToBlackListClick=function(){this.logRecipientToBlackList("Click")},t.prototype.logRecipientAddToContactsShow=function(){this.logRecipientAddToContacts("Show")},t.prototype.logRecipientAddToContactsClick=function(){this.logRecipientAddToContacts("Click")},t.prototype.logRecipientComposeMessageShow=function(){this.logRecipientComposeMessage("Show")},t.prototype.logRecipientComposeMessageClick=function(){this.logRecipientComposeMessage("Click")},t.prototype.logRecipientCopyAddressShow=function(){this.logRecipientCopyAddress("Show")},t.prototype.logRecipientCopyAddressClick=function(){this.logRecipientCopyAddress("Click")},t.prototype.logOpenRecipientCard=function(){this.logRecipientsEvent("Click on name")},t.prototype.logShowMessageInList=function(){this.logEvent("Show message in list")},t.prototype.logShowMessageOnSeparatePage=function(){this.logEvent("Show Message on separate page")},t.prototype.logAttachmentsDownloadAll=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Download all")},t.prototype.logAttachmentsShow=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Show","count",e)},t.prototype.logAttachmentsExpandList=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Attach expand list")},t.prototype.logAttachmentsCollapseList=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Attach collapse list")},t.prototype.logAttachmentClick=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Click",{hid:e})},t.prototype.logAttachmentPreview=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Preview attachment",{hid:e})},t.prototype.logAttachmentDownload=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Download attachment",{hid:e})},t.prototype.logAttachmentSaveToDisk=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Save to disk",{hid:e})},t.prototype.logDownloadModalShow=function(){this.logSourceEvent(a.DOWNLOAD_MODAL,"Show")},t.prototype.logDownloadModalClose=function(){this.logSourceEvent(a.DOWNLOAD_MODAL,"Close")},t.prototype.logEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["Message view"],e))},t.prototype.logRecipientToBlackList=function(e){this.logRecipientsEvent("To black list",e)},t.prototype.logRecipientAddToContacts=function(e){this.logRecipientsEvent("Add to contacts",e)},t.prototype.logRecipientComposeMessage=function(e){this.logRecipientsEvent("Compose message",e)},t.prototype.logRecipientCopyAddress=function(e){this.logRecipientsEvent("Copy address",e)},t.prototype.logRecipientsEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logHeaderEvent.apply(this,o(["Recipients"],e))},t.prototype.logHeaderEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logEvent.apply(this,o(["Head"],e))},t.prototype.logSourceEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.logEvent.apply(this,o([e],t))},t}(s.BaseMetrika);t.MessageViewMetrika=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropMetrika=void 0;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.logDropMessageIntoFolder=function(){n.logMetric("Message","drop into folder")},n.logDropMessageIntoTab=function(){n.logMetric("Message","drop into tab")},n.logDropLabelOnMessage=function(){n.logMetric("Label","drop on message")},n.logDropMessageOnToolbarDelete=function(){n.logDropMessageToolbar("delete")},n.logDropMessageOnToolbarForward=function(){n.logDropMessageToolbar("forward")},n.logDropMessageOnToolbarSpam=function(){n.logDropMessageToolbar("spam")},n.logDropMessageOnToolbarNotSpam=function(){n.logDropMessageToolbar("not spam")},n.logDropMessageOnToolbarMarkRead=function(){n.logDropMessageToolbar("mark read")},n.logDropMessageOnToolbarMarkUnread=function(){n.logDropMessageToolbar("mark unread")},n.logDragFolder=function(){n.logMetric("Folder","drag start")},n}return r(t,e),t.prototype.logMetric=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.logMetric.apply(this,o(["Drag-n-drop"],t))},t.prototype.logDropMessageToolbar=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["Message","Toolbar"],e))},t}(n(820).BaseMetrika);t.DragAndDropMetrika=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.View.defineNg("attachments-widget",{models:{"message-body":!0},events:{"ns-view-show":"onShow","click .js-attachment-actions-item":"onAttachmentActionsItemClick","click .js-image-preview":"previewImage","click .js-download-attachment":"countDownloadAttachment","click .js-eml-preview":"previewEml","click .js-show-info":"showInfoPopup","click .js-download-all-attachments":"countDownloadAllAttachments","click .js-preview-attachment":"countAttachmentPreview","daria:vScrollerMessages:scroll":"_updateItemsVisibility","daria:vScrollerMessage:scroll":"_updateItemsVisibility","daria:vApp:changeAppWidth":"_updateVisibleItemsCount"},params:function(e){var t=ns.Model.get("message",{ids:e.ids}),n={ids:t.get(".last_mid")||t.get(".mid")};return e.hid&&(n.hid=e.hid),n},yateModule:"mail",methods:{FIXED_PSHEADER_HEIGHT:64,onShow:function(){this._updateItemsVisibility(),this._updateVisibleItemsCount()},_updateItemsVisibility:function(e){var t=this,n=Daria.is3pane()?"scroller-message":"scroller-messages";if("daria:vScrollerMessages:scroll"!==e||!Daria.is3pane()){var i=this.$node.find(".js-mail-file").toArray(),o=ns.Model.get(n),a=o.getHeight()+o.getScrollTop();i.forEach(function(e,n){var i=o.getNodeTop(e)<a;if(Object(r.hasFeature)(r.Features.REACT_LAYOUT)&&(i=o.getNodeTop(e)<a+t.FIXED_PSHEADER_HEIGHT),i){var s=$(e).find(".js-mail-file-icon");"none"!==s.css("background-image")||s.attr("style",s.attr("_style")),t.countAttachmentsShow(n)}})}},previewImage:function(e){var t=Daria.parseQuery($(e.currentTarget).data("params")),n=t.mid||this.params.ids,r=t.hid,i=this.params.hid;Daria.ImageViewer.open("",n,r,i),e.preventDefault()},onAttachmentActionsItemClick:function(e){this.logClickMessageFromSearch("attach");var t=$(e.currentTarget);this.writeAttachOpenToUserJournal(Boolean(t.data("embed")),this.getAttachSource()),ns.events.trigger("daria:vAttachmentsViewer:open")},getAttachSource:function(){return Daria.isSearchPage()?"search":"messages"},showInfoPopup:function(e){"attachments-widget"===this.id&&(e.preventDefault(),ns.View.create("attachments-widget-popup",this.params).showAt(e.currentTarget),this.countAttachmentsNumberClick())},_updateVisibleItemsCount:function(){var e=$(".js-mail-layout-content").width();Object(r.hasFeature)(r.Features.REACT_LAYOUT)&&(e=$(".js-mail-App").width());var t=[{width:890,count:3},{width:760,count:2},{width:0,count:1}].find(function(t){var n=t.width;return e>=n}).count;this.$node.find(".js-mail-file").toArray().forEach(function(e,n){n<t?$(e).removeClass("hidden"):$(e).addClass("hidden")})}}},"count-attachments-ops-mixin","preview-eml-mixin","messages-search-logger-mixin","save-to-disk-mixin","journal-log-mixin",ns.View)},function(e,t){var n="mail-MessageSnippet-AttachTab-Item_Attachments_expanded",r=ns.View.infoLite("count-attachments-ops-mixin");ns.View.defineNg("attachments-tab-widget",{models:{"message-body":!0,"scroller-messages":!1},events:{"ns-view-show":"onShow","click .js-attach-preview":"previewAttach","click .js-eml-preview":"previewEml","click .js-attachments-tab-counter":"toggleExpanded","daria:vApp:changeAppWidth":"_updateCounterState","daria:vApp:changeRightColumSize":"_updateCounterState","daria:vScrollerMessages:scroll":"_updateCounterState"},params:function(e){var t=ns.Model.get("message",{ids:e.ids}),n={ids:t.get(".last_mid")||t.get(".mid")};return e.hid&&(n.hid=e.hid),n},yateModule:"mail",methods:{onShow:function(){this._updateCounterState()},_sendShowExpandedCounterMetric:function(){this.sendGroupedMetric('show "Minimize"')},_sendShowCollapsedCounterMetric:function(){this.sendGroupedMetric('show "total n"')},sendShowExpandedCounterMetric:Daria.memoizeById({},function(){return this.__uniqueId},function(){this._sendShowExpandedCounterMetric()}),sendShowCollapsedCounterMetric:Daria.memoizeById({},function(){return this.__uniqueId},function(){this._sendShowCollapsedCounterMetric()}),sendShowCounterMetrics:function(e){e.hasClass("is-visible")&&this._isNodeInViewport(e[0])&&(e.closest(".js-attachments-snippet").hasClass(n)?this.sendShowExpandedCounterMetric():this.sendShowCollapsedCounterMetric())},_isNodeInViewport:function(e){var t=this.getModel("scroller-messages"),n=t.getScrollTop(),r=t.getHeight()+n,i=t.getNodeTop(e);return i<r&&i+e.offsetHeight>=n},_calculateGridOffsets:function(e){var t=[],n=[t];return e.each(function(e,r){t.length&&t[0].top!==r.offsetTop&&(t=[],n.push(t)),t.push({left:r.offsetLeft,top:r.offsetTop})}),n},_updateCounterState:function(){var e=this.$node.find(".js-attachments-snippet"),t=e.find(".js-mail-file"),r=e.find(".js-attachments-tab-counter"),i=e.hasClass(n),o=this._calculateGridOffsets(t),a=o.length>1;r.toggleClass("is-visible",a);var s=o[0];if(s.length){this._updateItemsVisibility(t,i?t.length:s.length);var l=s[s.length-1],c={left:Math.min(l.left+t.width(),e.width()-r.width())};if(i&&a){var u=o[o.length-1];c.top=u[u.length-1].top;var d=o[o.length-2];u.length!==d.length&&(c.left=d[u.length].left)}else c.top=o[0][0].top;r.css("left",c.left),r.css("top",c.top),this.sendShowCounterMetrics(r)}},_updateItemsVisibility:function(e,t){var n=this;e.toArray().forEach(function(e,r){if(!(r>=t)&&n._isNodeInViewport(e)){var i=$(e).find(".js-mail-file-icon");if(!("none"!==i.css("background-image"))){var o=i.data("image"),a=i.data("icon");$('<img src="'.concat(o,'" />')).on("load",function(){return i.css("background-image","url('".concat(o,"'), none"))}).on("error",function(){return i.css("background-image","none, url('".concat(a,"')"))})}n.countAttachmentsShow(r)}})},previewAttach:function(e){var t=$(e.currentTarget),n=!t.hasClass("js-preview-attachment"),r=t.hasClass("js-eml-preview");n&&!r&&(e.preventDefault(),this.previewImage(t)),ns.events.trigger("daria:vAttachmentsViewer:open"),this.countAttachmentPreview(),this.writeAttachOpenToUserJournal(n,Daria.isSearchPage()?"search":"messages")},previewImage:function(e){var t=Daria.parseQuery(e.data("params")),n=t.mid||this.params.ids,r=t.hid,i=this.params.hid;Daria.AttachViewer.open(n,r,i)},toggleExpanded:function(e){e.preventDefault(),e.stopImmediatePropagation();var t=this.$node.find(".js-attachments-snippet"),r=t.hasClass(n);t.toggleClass(n,!r),this._updateCounterState(),r?this.sendMetric('click "Fold"'):this.sendMetric('click "total n"')},sendMetric:function(){Daria.isSearchWithAttachesTab()||r.methods.sendMetric.apply(this,arguments)},sendGroupedMetric:function(){Daria.isSearchWithAttachesTab()||r.methods.sendGroupedMetric.apply(this,arguments)}}},"count-attachments-ops-mixin","preview-eml-mixin","journal-log-mixin",ns.View)},function(e,t){ns.View.defineNg("attachments-widget-body",{models:{"message-body":!0},events:{"ns-view-htmlinit":"onHtmlInit","click .js-image-preview":"previewImage","click .js-eml-preview":"previewEml","click .js-show-info":"onShowInfoClick","daria:vApp:changeAppWidth@show":"updateBlockState","daria:vApp:changeRightColumSize@show":"updateBlockState","daria:vAttachmentsWidgetBody:downloadAttachments@show":"downloadAttachments"},methods:{CLASS_DISABLED_INFO_BUTTON:"disabled",CLASS_BLOCK_WITH_MASK:"mail-MessageSnippet-Item_attachments_closed",CLASS_ACTION_ALIGN_RIGHT:"mail-MessageSnippet-Item_actionRight",MIN_INDENT_ACTION_BLOCK:32,onHtmlInit:function(){this.$infoButton=this.$node.find(".js-show-info"),this.$filesBlock=this.$node.find(".js-attachments-files"),this.$actionBlock=this.$node.find(".js-attachments-action"),this.heightFilesBlockOnFirstLoad=this.$filesBlock.height(),this.updateBlockState(),this._openedManually&&this.showAllAttach(!0)},onShowInfoClick:function(){this.showAllAttach()},logClickMessageFromSearch:function(){},getAttachSource:function(){return"message"},updateBlockState:function(){var e=this.$filesBlock[0]&&this.$filesBlock[0].scrollHeight;this.$filesBlock.height()===e?this.markOpened():this.markClosed(),e>this.heightFilesBlockOnFirstLoad?this.enableInfoButton():this.disableInfoButton(),this.updateAlignActionButton()},updateAlignActionButton:function(){var e=this.$node.width()-this.$filesBlock.width()-this.$actionBlock.width()<this.MIN_INDENT_ACTION_BLOCK;this.$node.toggleClass(this.CLASS_ACTION_ALIGN_RIGHT,e)},showAllAttach:function(e){if(!this.isDisabledInfoButton()){if(e)this.$filesBlock.css("max-height","none"),this.$filesBlock[0]&&this.$filesBlock.css("max-height",this.$filesBlock[0].scrollHeight),this.markOpened(),this._openedManually=!0;else{var t=this.$filesBlock[0]&&this.$filesBlock[0].scrollHeight,n=this.$filesBlock.height();t>n?(this.$filesBlock.css("max-height",t),this.markOpened(),this._openedManually=!0):n>this.heightFilesBlockOnFirstLoad&&(this.$filesBlock.css("max-height","").afterTransition(this.markClosed.bind(this)),this._openedManually=!1)}this.countAttachmentsNumberClick()}},markClosed:function(){this.$node.addClass(this.CLASS_BLOCK_WITH_MASK)},markOpened:function(){this.$node.removeClass(this.CLASS_BLOCK_WITH_MASK)},isDisabledInfoButton:function(){return this.$infoButton.hasClass(this.CLASS_DISABLED_INFO_BUTTON)},disableInfoButton:function(){this.$infoButton.addClass("is-hidden "+this.CLASS_DISABLED_INFO_BUTTON)},enableInfoButton:function(){this.$infoButton.removeClass("is-hidden "+this.CLASS_DISABLED_INFO_BUTTON)},downloadAttachments:function(){var e=Daria.url.archive(this.getModel("message-body").getData(),this.params.ids);e&&(window.location.href=e)}},yateModule:"mail"},"attachments-widget")},function(e,t){ns.View.edefine("attachments-widget-popup",{models:{"message-body":!0,message:!0,dimensions:{"ns-model-changed":!1,resize:"_onResize"}},events:{"click .js-show-info":"onClickInfo","ns-view-htmlinit":"addMgTheme"},yateModule:"mail",methods:{showAt:function(e){this.update(this.params).then(this._initNbPopup.bind(this,e))},onClickInfo:function(e){e.stopPropagation(),nb.block(this.node).close()},getScrollContent:function(e){return $(e.target).parents("._nb-popup")[0]},_initNbPopup:function(e){var t=this;$(e).closest(":focusable").focus();var n=nb.block(this.node);n.on("nb-closed",function(){t.destroy(),this.destroy(),$(e).focus(),t._nbPopup=null}),n.open({where:e,how:{my:"right+20 top-16",at:"right top",collision:"fit fit"},animation:!1,autoclose:!0}),this._nbPopup=n,this._onResize()},_onResize:function(){this._nbPopup&&this.$node.contextDialog("option",{maxHeight:this._$window.height()})}}},"attachments-widget","prevent-scroll-propagation-mixin","mg-theme-mixin",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);n.n(r);ns.View.define("footer",{models:["footer-data","languages"],events:{"ns-view-show":"onShow","daria:vScrollerMessages:scroll":"_checkFooterVisibility"},yateModule:"mail",methods:{_isVisible:!1,onShow:function(){this._checkFooterVisibility()},_checkFooterVisibility:function(){if(Daria.is2pane()){var e=ns.Model.get("scroller-messages"),t=e.getHeight()+e.getScrollTop(),n=e.getNodeTop(this.node)<t;!this._isVisible&&n&&Jane.c("  2-"," "),this._isVisible=n}},shouldHideYandexJobs:function(){return ns.Model.get("settings").getSign(r.Settings.NO_YANDEX_JOBS)}}})},function(e,t){ns.View.define("footer-journal-link",{models:{"system-status":!0},yateModule:"mail"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.View.define("advanced-search-react",{models:{},events:{"ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy"},yateModule:"mail",methods:{onHtmlInit:function(){var e={toneDefault:"mail-suggest-themed",uniqueId:this.__uniqueId};Daria.React.setInitialState(),Object(r.hasFeature)(r.Features.REACT_LAYOUT)||Daria.React.renderAdvancedSearchBox(this.node,e)},onHtmlDestroy:function(){Daria.React.unmountReactBox(this.node)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(135),i=n.n(r),o=n(139),a=n.n(o),s=n(1135),l=n(4298),c=(n.n(l),n(349));n.n(c);ns.View.define("notification-center-react",{models:{},events:{"ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy"},yateModule:"mail",methods:{onHtmlInit:function(){var e=ns.Model.get("settings").isSet("liza_minified_header"),t=ns.page.current.page,n=!e&&"messages"===t;Object(c.hasFeature)(c.Features.WEB_MAIL_PDD_DOMAIN_NOTIFICATION)&&!Object(c.hasFeature)(c.Features.REACT_LAYOUT)&&n&&a.a.render(i.a.createElement(l.ReactNotificationCenter,{}),this.node)},onHtmlDestroy:function(){Object(s.unmountReactBox)(this.node)}}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4299),t)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNotificationCenter=void 0;var a=o(n(135)),s=n(347),l=n(543);t.ReactNotificationCenter=function(){var e=s.getNotificationCenterLoader(),t=a.useCallback(function(){return e().then(function(e){var t=e.NotificationCenter;return a.default.createElement(t,null)})},[e]);return a.default.createElement(l.ModuleLoader,{component:t,placeholder:null})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(398),i=n(811);ns.View.define("themes-selector",{models:{themes:"keepValid",settings:{"ns-model-changed":"keepValid","ns-model-changed.color_scheme":"invalidate"}},params:function(e){return e},events:{"ns-view-htmlinit":"onHtmlInit","ns-view-show":"onShow","click .js-close":"onCloseClick","click .js-themes-overlay":"onThemesOverlayClick","Daria:vThemesSelector:close":"closePopup","mouseenter .js-theme":"onThemeThumbFocus","mousedown .js-theme":"onThemeThumbClick","wheel .js-themes-list":"onMouseWheel","click .js-themes-content":"stopPropagation","scroll .js-themes-list":"notifyListScroll","daria:vThemeColorfulSelector:scope-changed@show":"_metrikaCountThemeChange","daria:vThemeWeatherSettings:weather-city-changed@show":"_metrikaCountThemeChange","daria:vThemeSeasonsSelector:scope-changed@show":"_metrikaCountThemeChange"},yateModule:"mail",methods:{CONTENT_TRANSITION_SAFE_DELAY:350,SETTINGS_TRANSITION_SAFE_DELAY:250,_wasHidden:!0,onHtmlInit:function(){this.$list=this.$node.find(".js-themes-list"),this.setListScrollTop()},onShow:function(){if(!this._closeInProgress)return this._wasHidden&&this._metrikaCount(["opening"]),this._wasHidden?(this._wasHidden=!1,vow.Promise.resolve().then(this._scrollIntoView.bind(this,!0)).then(this._showContent,this)):vow.Promise.resolve().then(this._showContent,this).then(this._scrollIntoView,this)},onCloseClick:function(){this.closePopup(),this._metrikaCount(["cross"])},onThemesOverlayClick:function(){this.closePopup(),this._metrikaCount(["close by click outside popup"])},setListScrollTop:function(){this.$list.scrollTop(this._listScrollTop||this._howToScrollIntoView())},_howToScrollIntoView:function(){if(this.$node){var e=this.$node.find(".is-active");if(e.length){var t=this.$list.scrollTop(),n=e.position().top,r=n+e.height(),i=this.$list.outerHeight(),o=t;return r>i?o+=r-i+16:n<0&&(o+=n-16),o}}},_showContent:function(){return new vow.Promise(function(e){this.$node.find(".js-themes-content").one("transitionend",e),_.delay(e,this.CONTENT_TRANSITION_SAFE_DELAY),_.delay(function(){$("html").addClass("with-ThemeOverlay")},50)}.bind(this))},_scrollIntoView:function(e){return new vow.Promise(function(t){if(this._listWasScrolled)return t();var n=this._howToScrollIntoView();this._saveListScrollTop(n),e?(this.$list.scrollTop(n),t()):this.$list.animate({scrollTop:n},n,t)}.bind(this))},_saveListScrollTop:function(e){this._listWasScrolled=!1,this._listScrollTop=e||this.$list.scrollTop()},onSetTheme:function(e,t){return this._setThemeById(t)},onThemeThumbClick:function(e){var t=$(e.currentTarget);if(!t.hasClass("is-active")){this._metrikaCountThemeChange();var n=t.data("id");return this._setThemeById(n)}},_setThemeById:function(e){return this._saveListScrollTop(),this._lastLoadingThemeId=e,this._currentLoadingTheme=this._currentLoadingTheme||vow.Promise.resolve(),this._currentLoadingTheme.then(function(){return vow.Promise.all([Object(i.setTheme)(e),Object(i.runTheme)(e),this._hideSettings(Daria.themeId).then(function(){if(this._isActualTheme(e))return Daria.themeId=e,this.$node&&(this.$node.find(".is-active").removeClass("is-active"),this.$node.find('[data-id="'+e+'"]').addClass("is-active")),this._showSettings(e)},this)])},this).then(function(){if(this._isActualTheme(e))return ns.events.trigger("daria:vThemesSelector:new-schema"),ns.page.go().then(function(){$(window).trigger("resize"),this._scrollIntoView(),this._lastLoadingThemeId=null,this._currentLoadingTheme=null},this)},this)},_loadTheme:function(e){return new vow.Promise(function(t){Jane.Services.loadModules(["theme-"+e+".css"],t)})},_hideSettings:function(e){return new vow.Promise(function(t){if(!this.$node)return t();var n=this.$node.find(".is-active"),r=n.data("id"),i=ns.Model.get("themes").hasSettings(e);if(r!==e||!i)return t();_.delay(t,this.SETTINGS_TRANSITION_SAFE_DELAY),this._trySwitchSettings(),n.one("transitionend",t),n.removeClass("has-settings")}.bind(this))},_trySwitchSettings:function(){var e=this.$node.find(".is-active"),t=this.$node.find('[data-id="'+this._lastLoadingThemeId+'"]'),n=ns.Model.get("themes").hasSettings(this._lastLoadingThemeId),r=e.offset().top===t.offset().top,i=n&&r,o=t.data("index")-e.data("index");i&&e.addClass("switch-settings switch-settings-"+o)},_showSettings:function(e){return new vow.Promise(function(t){if(!this.$node)return t();var n=this.$node.find(".is-active");if(n.data("id")!==e||!ns.Model.get("themes").hasSettings(e))return t();_.delay(t,this.SETTINGS_TRANSITION_SAFE_DELAY),n.one("transitionend",t),n.addClass("has-settings")}.bind(this))},_isActualTheme:function(e){return!this._lastLoadingThemeId||this._lastLoadingThemeId===e},onMouseWheel:function(){this._listWasScrolled=!0,this._listScrollTop=this.$list.scrollTop()},closePopup:function(){return this._closeInProgress=!0,$.Shortcuts.modalListOff("themes-selector"),vow.Promise.resolve().then(this._hideContent,this).then(function(){return ns.Model.get("themes-selector").close(),this._closeInProgress=!1,ns.page.go()},this)},_hideContent:function(){return new vow.Promise(function(e){this._saveListScrollTop(),this._wasHidden=!0,this.$node.find(".js-themes-content").one("transitionend",e),_.delay(e,this.CONTENT_TRANSITION_SAFE_DELAY),$("html").removeClass("with-ThemeOverlay")}.bind(this))},onThemeThumbFocus:function(e){var t=$(e.currentTarget).data("id");return this._loadTheme(t)},getThumbName:function(e){var t="";return"seasons"===(e=yr.nodeset2scalar(e))&&(t="-"+ns.Model.get("theme-seasons").getSeason()),e+t},stopPropagation:function(e){e.stopPropagation()},notifyListScroll:function(){ns.events.trigger("daria:vThemesSelector:themes-list-scroll")},_metrikaCount:function(e){var t=[r.YANDEX_HEADER_PREFIX,"Login header.Right part","Themes chooser popup"];Jane.c(t.concat(e))},_metrikaCountThemeChange:function(){this._metrikaCount(["choose of theme"])}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1592),i=n(407),o=n(462),a=(n.n(o),n(347));!function(){function e(){throw new Error("  .       .")}ns.View.define("message-actions",{methods:{onReplyHotkey:function(e,t){if(!Object(a.getPddRestrictNotificationsModel)().showPopup())if("qr"===t.compose)this.showQuickReply(t.replyAll);else{var n=t.replyAll?"reply-all":"reply";this._replyHelper(n,{from:"toolbar"})}},_replyHelper:function(e,t){(t=t?_.clone(t):{}).mMessagesChecked||(t.mMessagesChecked=this.getMessagesCheckedInstance(!0));var n=_.last(e.split(":"));ns.action.run(n,t)},_onDrop:function(e,t){var n;switch(t.operation){case"label":case"unlabel":case"mark":case"unmark":case"move":case"remove":case"tospam":case"notspam":case"reply":case"reply-all":case"forward":n="_on"+t.operation.split("-").map(function(e){return Daria.capitalize(e)}).join("")+"ToolbarButton";break;case"messages.deselect":n="_onDeselect";break;default:return!1}n&&_.isFunction(this[n])&&(t.params=t.params||{},t.params._source="dnd",this[n](e,t.params));var r=t.operation,i=t.params,a=o.MetrikaService.instance().dragAndDrop;if("move"===r&&i)i.tabId?a.logDropMessageIntoTab():a.logDropMessageIntoFolder();else switch(r){case"forward":a.logDropMessageOnToolbarForward();break;case"remove":a.logDropMessageOnToolbarDelete();break;case"tospam":a.logDropMessageOnToolbarSpam();break;case"notspam":a.logDropMessageOnToolbarNotSpam();break;case"mark":a.logDropMessageOnToolbarMarkRead();break;case"move":a.logDropMessageIntoFolder();break;case"unmark":a.logDropMessageOnToolbarMarkUnread()}},_onLabelToolbarButton:e,_onUnlabelToolbarButton:e,_onMarkToolbarButton:e,_onUnmarkToolbarButton:e,_onMoveToolbarButton:e,_onRemoveToolbarButton:e,_onTospamToolbarButton:e,_onNotspamToolbarButton:e,_onDeselect:e,_onReplyToolbarButton:Object(r.a)(function(e,t){this._replyHelper("reply",t)}),_onReplyAllToolbarButton:Object(r.a)(function(e,t){this._replyHelper("reply-all",t)}),_onForwardToolbarButton:Object(r.a)(function(e,t){Daria.startScenarioForCompose(i.i),Jane.ToolbarMetric.messageToolbar("forward"),this._replyHelper("forward",t)}),getMessagesCheckedInstance:function(e){return ns.Model.get("messages-checked")},showQuickReply:function(e){ns.page.go(ns.router.generateUrl("compose2",{ids:this.params.ids,oper:e?"reply-all":"reply"}))}}})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136),i=(n.n(r),n(347)),o=n(777),a=n(1557);ns.View.define("contact-actions",{params:function(e){return e.emails=e.email,e.email=e.email&&e.email.toLowerCase(),e},models:{"account-information":!1,"abook-contacts":!1,"email-info-v2":!1},events:{click:"_onClick","click .js-compose":"_onComposeClick","ns-view-show":"_onNsViewShow","ns-view-hide":"_onNsViewHide","ns-view-htmldestroy":"_onHtmlDestroy","daria:vScrollerMessage:scroll":"onScroll"},yateModule:"mail",methods:{itemEvents:{},patchTree:function(){var e=this.super_.patchTree.call(this);return e.menuItems=this._getMenuItems(),e},_onNsViewShow:function(){var e=this.$node.find(".js-clipboard");if(e.length){var t=this.params.email;this._clip=new Daria.Clipboard(e,{hoverClass:"mail-ContactMenu-Item_hover"}),this._clip.on("ready",function(){this.setText(t)})}},_onNsViewHide:function(){this._clip&&(this._clip.destroy(),delete this._clip)},_onHtmlDestroy:function(){this.nbPopup&&(this.nbPopup.destroy(),this.nbPopup=null),this.itemEvents=null},_destroySelf:function(){_.defer(this.destroy.bind(this))},_onPopupSelect:function(e,t){t.ui.item.children().data("noclose")||this.nbPopup.close()},onScroll:function(){this.nbPopup&&this.nbPopup.close()},open:function(e){this.update({},{execFlag:ns.U.EXEC.PARALLEL}).then(function(){var t=this.nbPopup=nb.block(this.node);t.on("nb-select",this._onPopupSelect.bind(this)),t.on("nb-closed",this._destroySelf.bind(this)),t.open(e),this.itemEvents=e.itemEvents||{},this._callShowEventHandlers(this._getMenuItems())}.bind(this))},_getAbookContact:function(){return this.getModel("abook-contacts").getContactDataByEmail(this.params.email)||{}},_getMenuItems:function(){var e=Object(o.a)(),t=this.getModel("account-information").isMyEmail(this.params.email),n=[{content:this.params.email,class:["mail-ContactMenu-Item_selectonly"],attrs:{"data-noclose":"1"}},{separator:!0}];if(!t&&e&&n.push({content:i18n("%Message__"),attrs:{"data-item-id":"compose",href:ns.router.generateUrl("compose2",{to:Jane.FormValidation.obj2contact(this.params)})},class:["js-compose"]}),Daria.IS_CORP){var r=this.getModel("email-info-v2").getData();"staff"!==r.type||r.staff._error||n.push({content:i18n("%Message___"),attrs:{href:"".concat(Daria.Config["staff-host"],"/").concat(r.staff.login),target:"_blank",rel:"noopener noreferrer"}})}return n.push({content:i18n("%_"),attrs:{"data-item-id":"copy"},class:[Daria.Clipboard.canUse?"js-clipboard":"mail-ContactMenu-Item_disabled"]}),!t&&Object(a.getConfigurePermission)()&&(this._getAbookContact().cid||n.push({content:i18n("%Message_to_contacts"),class:["ns-action"],attrs:{"data-item-id":"add-contact","data-click-action":"message.add-contact","data-params":ns.params2query({email:this.params.email,name:this.params.name,counter:"71054"})}}),n.push({content:i18n("%Message_to_blacklist"),class:["ns-action"],attrs:{"data-item-id":"blacklist","data-click-action":"message.lists-add-from-message","data-params":ns.params2query({listtype:"black",email:this.params.email,counter:"71055"})}})),n},_callShowEventHandlers:function(e){var t=this;e.forEach(function(e){var n=Object(r.get)(e,"attrs.data-item-id");if(n){var i=t.itemEvents[n];i&&i.show&&i.show()}})},_onClick:function(e){var t=e.target.dataset.itemId;if(t){var n=this.itemEvents[t];n&&n.click&&n.click()}},_onComposeClick:function(e){var t=this;Object(i.getPddRestrictNotificationsModel)().showPopup(function(){return[t.params.email]})&&e.preventDefault()}}})},function(e,t,n){n(4304),n(4305),n(4306),n(4307),n(4308),n(4309),n(4310)},function(e,t){var n=!1;ns.View.define("context-menu-mixin-base",{methods:{_insertCustomIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"context-menu-MainToolbar-icon";return yr.run("mail",{icon:e},t)},_cmBaseBindMenuableElements:function(e){n||(n=!0);var t=e.$node;this.__$bindedNode=t,this.__mMessagesChecked=e.mMessagesChecked,t.on("mousedown.context-menu",e.selector,this.__cmBaseOnMouseDown.bind(this)).on("contextmenu.context-menu",e.selector,this.__cmBaseOnContextMenu.bind(this))},_cmBaseUnbindMenuableElements:function(){this.__$bindedNode&&(this.__$bindedNode.off(".context-menu"),this.__$bindedNode=null)},__cmBaseOnMouseDown:function(e){2===e.button&&$(e.currentTarget).addClass("no-user-select")},__cmBaseOnContextMenu:function(e){e.stopPropagation(),e.preventDefault(),this.__showContextMenu(e)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(407),i=n(137),o=(n.n(i),n(817)),a=(n.n(o),n(347)),s=n(551),l=n(349);n.n(l);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}ns.View.edefine("context-menu-mixin-messages",{methods:{__getScroller:function(){return Object(l.hasFeature)(l.Features.REACT_LAYOUT)?Daria.is2pane()?$(".js-messages-scroll-area"):$(".mail-Layout-Pane-Wrap"):$(".js-messages-scroll-area")},__showContextMenu:function(e){$(e.currentTarget).closest(".js-messages-item-checkbox-controller").hasClass("is-checked")||ns.events.trigger("daria:vMessages:deselect"),this.__cmMessagesPrepareToShowMenu(e).show({x:e.pageX,y:e.pageY,$scrollContainer:Daria.is3pane()?$(".b-layout__inner_type_messages:visible"):null}),this.__getScroller().one("scroll",function(){Daria.ContextMenu.close()});var t=$(".js-context-menu").find(":focusable");t.length&&t.eq(0).focus(),ns.events.once("daria:vContextMenu:close",function(){var t=$(e.currentTarget);t.length&&t.focus()})},__cmMessagesPrepareToShowMenu:function(e){var t=this;Jane.watcher.set("messages-context-menu:opened",!0),clearTimeout(this.__deferredCloseTimeout),this.__preventDeselect=!1,this.__$onMessage=$(e.currentTarget);var n=this.__isThread=this.__$onMessage.hasClass("js-thread");this.__originalMid=this.__$onMessage.data("id");var r=this.__originalMid;/^t/.test(r)&&(r=r.substr(1)),this.__mid=r,Daria.is3pane()&&this.__toggleMessagesSelectionSuppression(!0);var i=!1,o=this.__mMessagesChecked.getIds();(o.tids.length+o.ids.length>0?(!n&&!_.contains(o.ids,r)||n&&!_.contains(o.tids,r))&&(i=!0):i=!0,i)&&(this.__isNeedDeselect=!0,ns.Model.get("messages-checked").check(ns.Model.get("message",{ids:this.__originalMid}),!0));return new Daria.ContextMenu({items:this.__getContextMenuItems(),metrika:"",onClose:function(){Jane.watcher.set("messages-context-menu:opened",!1),t.__toggleMessagesSelectionSuppression(!1),Daria.is3pane()&&i&&(t.__deferredCloseTimeout=_.defer(function(){t.__preventDeselect||(t.__preventDeselect=!1)}))}})},__toggleMessagesSelectionSuppression:function(e){Jane.watcher.set("Daria:vMessagesSelection.dontChangeViewToBatchOperation",e)},__getContextMenuItems:function(){var e,t=this,n=this.__extractButtonsFromToolbar(),r=[],o=ns.page.current.params.current_folder;o&&(e=ns.Model.get("folders").getFolderById(o).symbol);var a=this.__mMessagesChecked.getIds();r.push({type:"separator",index:8.9});var s=this.__hasReplyLaterMessages();if(r.push({text:i18n("%Folders_Dropdown_Label"),customIcon:this._insertCustomIcon("Folder"),index:9,metrika:"  ",items:s?null:this.__getFoldersMenuItems(),isActive:!s}),!_.contains(i.LabelDisabledFolders,e)){var l=this.__getLabels(),c=this.__processLabels(l.label,"label",0),u=this.__processLabels(l.unLabel,"unlabel",500);c.push({type:"separator",index:998.9}),c.push({text:i18n("%Labels_Dropdown_Add"),index:999,metrika:" ",onClick:function(){t.__preventDeselect=!0,ns.action.run("labels.add",{contextMenu:!0,isNeedDeselect:t.__isNeedDeselect})}});var d=c;u.length&&(d.push({type:"separator",index:489},{text:i18n("%Labels_Dropdown_Unlabel_Title"),index:490,isActive:!1}),d.push.apply(d,u)),r.push({text:i18n("%Labels_Dropdown_Label"),customIcon:this._insertCustomIcon("Tag"),index:10,items:d})}if(r.push({type:"separator",index:10.1}),(1===a.ids.length+a.tids.length||0===a.ids.length&&1===a.tids.length&&this.__isThread)&&(r.push({text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"   ",onClick:function(){var e,n=t.__$onMessage;e=t.__isThread?n.find(".b-messages__thread-count"):n.find(".js-message-snippet"),window.open(e.attr("href"))}}),r.push({type:"separator",index:1.1})),0===a.tids.length&&1===a.ids.length){var f=this.__$onMessage.find('A[href*="print"]');f.length&&r.push({text:i18n("%Message_Print"),index:100,metrika:"",onClick:function(){window.open(f.attr("href"))}})}var p=ns.Model.get("message",{ids:this.__originalMid});if(1===a.tids.length&&0===a.ids.length||0===a.tids.length&&1===a.ids.length){var g=p.get(".fid"),m=ns.Model.get("folders").getFolderById(g).symbol;_.contains(i.DraftLikeFolders,m)||r.push({text:i18n("%Messages_Context_Menu_Create_Filter"),index:14,metrika:" ",onClick:function(){ns.page.go(ns.router.generateUrl("setup",{tab:"filters-create",message:t.__$onMessage.attr("data-id")}))},isActive:!s})}return r.push.apply(r,n),r},__getFoldersMenuItems:function(){var e=this,t=this.__getCurrentFolder(),n=this.__getFolders(t.fid,Daria.areFoldersTabsEnabled());if(Daria.areFoldersTabsEnabled()){var r=this.__getTabs(t.tabId);n=[].concat(u(r),u(n))}var i=0,o=n.map(function(e){return{id:e.tabId||e.fid,text:e.name,alt:e.name,isActive:!e.isCurrent,addClass:e.isCurrent?"is-current":"",style:"padding-left:"+(e.level+2)+"em",index:i++,metrika:"  ",onClick:function(){var t={fid:e.fid};e.tabId&&(t.tabId=e.tabId),ns.action.run("move",t)}}});return o.push({type:"separator",index:998.9}),o.push({text:i18n("%Folders_Dropdown_Add"),index:999,metrika:" ",onClick:function(){e.__preventDeselect=!0,ns.action.run("folders.add",{contextMenu:!0,isNeedDeselect:e.__isNeedDeselect})}}),o},__processLabels:function(e,t,n){var r=this,i=ns.Model.get("labels"),o=i.getImportantLID(),a=n;return e.reduce(function(e,s){var l=s===o,c=i.getLabelById(s),u=l?yr.run("mail",{icon:"Important"},"context-menu-MainToolbar-icon"):yr.run("mail",{color:c.color},"context-menu-label-custom-icon"),d=["",l?"":" "];return d=d.concat("label"===t?"":""),e.push({id:s,text:c.name,alt:c.name,index:l?a-1:++n,customIcon:u,metrika:d,onClick:function(){r._onToolbarButton(t,{lid:s})}}),e},[])},__extractButtonsFromToolbar:function(){var e,t=this;function n(){this._triggerAction&&(t._onToolbarButton(this._triggerAction,{},{refreshImmediately:!0}),-1!==["remove","tospam","notspam"].indexOf(this._triggerAction)||o.HooksManager.instance().hasHandler(this._triggerAction)||ns.events.trigger("daria:vMessages:deselect"))}var i=(c(e={},Daria.Constants.TOOLBAR_BUTTONS.DELETE,{text:i18n("%"),customIcon:this._insertCustomIcon("Delete"),index:2,metrika:"",onClick:n,_triggerAction:"remove"}),c(e,Daria.Constants.TOOLBAR_BUTTONS.REPLY,{text:i18n("%Toolbar_"),customIcon:this._insertCustomIcon("Reply"),index:3,metrika:"",onClick:this.__onReplyClick.bind(this)}),c(e,Daria.Constants.TOOLBAR_BUTTONS.REPLY_ALL,{text:i18n("%Toolbar__"),customIcon:this._insertCustomIcon("Replyall"),index:4,metrika:" ",onClick:this.__onReplyClick.bind(this,{isReplyAll:!0})}),c(e,Daria.Constants.TOOLBAR_BUTTONS.DRAFT_FINISH,{text:i18n("%Toolbar_"),customIcon:this._insertCustomIcon("Compose"),index:3,metrika:"",onClick:function(){var e=t.__$onMessage.attr("data-id");ns.page.go(ns.router.generateUrl("compose2",{ids:e}))}}),c(e,Daria.Constants.TOOLBAR_BUTTONS.FORWARD,{text:i18n("%Toolbar_"),customIcon:this._insertCustomIcon("Forward"),index:5,metrika:"",onClick:function(){Daria.startScenarioForCompose(r.g);var e={};e.mMessagesChecked=ns.Model.get("messages-checked"),ns.action.run("forward",e),window.Apdex.start(["Performance_openCompose"],!0)}}),c(e,Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_READ,{text:i18n("%Toolbar_"),customIcon:this._insertCustomIcon("Read"),index:6,metrika:"",onClick:n,_triggerAction:"mark"}),c(e,Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_UNREAD,{text:i18n("%Toolbar__"),customIcon:this._insertCustomIcon("Unread"),index:6,metrika:" ",onClick:n,_triggerAction:"unmark"}),c(e,Daria.Constants.TOOLBAR_BUTTONS.SPAM,{text:i18n("%Folder_spam"),customIcon:this._insertCustomIcon("Spam"),index:7,metrika:"",onClick:n,_triggerAction:"tospam"}),c(e,Daria.Constants.TOOLBAR_BUTTONS.NOT_SPAM,{text:i18n("%Toolbar__"),customIcon:this._insertCustomIcon("Unspam"),index:7,metrika:" ",onClick:n,_triggerAction:"notspam"}),c(e,Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE,{text:i18n("%Folder_archive"),customIcon:this._insertCustomIcon("Archive"),index:8,metrika:"",onClick:function(){Daria.MOPS.archive(t.__mMessagesChecked).then(function(){t.__mMessagesChecked.resetChecked()})},isActive:!this.__hasReplyLaterMessages()}),c(e,Daria.Constants.TOOLBAR_BUTTONS.MARK_IMPORTANT,{text:i18n("%Labels_Toolbar_Important"),customIcon:this._insertCustomIcon("MarkImportant"),index:9,metrika:["",""],onClick:function(){var e=ns.Model.get("labels").getImportantLID();t.__mMessagesChecked.runAction("label",{lid:e})}}),c(e,Daria.Constants.TOOLBAR_BUTTONS.MARK_UNIMPORTANT,{text:i18n("%Labels_Toolbar_Important"),customIcon:this._insertCustomIcon("MarkUnimportant"),index:9,metrika:["",""],onClick:function(){var e=ns.Model.get("labels").getImportantLID();t.__mMessagesChecked.runAction("unlabel",{lid:e})}}),e),a=[];return this.__getButtonsIds().forEach(function(e){e in i&&a.push(i[e])}),a},__getButtonsIds:function(){var e=ns.Model.get("folders"),t=null;ns.page.current.params.current_folder&&(t=e.getFolderById(ns.page.current.params.current_folder).symbol);var n=[Daria.Constants.TOOLBAR_BUTTONS.DELETE];this.__mMessagesChecked.getCount()<=Daria.Constants.MAX_MESSAGES_TO_FORWARD&&t!==i.WellKnownFolderSymbol.TEMPLATE&&n.push(Daria.Constants.TOOLBAR_BUTTONS.FORWARD);var r=this.__mMessagesChecked.getIds();r.ids.concat(r.tids).some(function(t){var n=ns.Model.get("message",{ids:t});if(!n.hasRealData())return!1;var r=e.getFolderById(n.get(".fid")).symbol;return!_.contains(i.SpamDisabledFolders,r)})?n.push(Daria.Constants.TOOLBAR_BUTTONS.SPAM):t===i.WellKnownFolderSymbol.SPAM&&n.push(Daria.Constants.TOOLBAR_BUTTONS.NOT_SPAM),t!==i.WellKnownFolderSymbol.ARCHIVE&&n.push(Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE),t!==i.WellKnownFolderSymbol.TEMPLATE&&(this.__hasUnreadMessages()?n.push(Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_READ):n.push(Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_UNREAD));var o=!1,a=!0;if(1===r.ids.length){var s=ns.Model.get("message",{ids:r.ids[0]});if(!s.hasRealData())return!1;var l=e.getFolderById(s.get(".fid")).symbol;a=!(o=_.contains(i.DraftTemplateLikeFoldersShort,l))}return(1===r.ids.length&&0===r.tids.length||0===r.ids.length&&1===r.tids.length)&&a&&(n.push(Daria.Constants.TOOLBAR_BUTTONS.REPLY),n.push(Daria.Constants.TOOLBAR_BUTTONS.REPLY_ALL)),o&&n.push(Daria.Constants.TOOLBAR_BUTTONS.DRAFT_FINISH),n},__getCurrentFolder:function(){var e=this.__mMessagesChecked.getIds(),t={tabId:null,fid:null};return[].concat(u(e.ids),u(e.tids)).some(function(e){var n=ns.Model.get("message",{ids:e});if(n.isThread())return!0;if(Daria.areFoldersTabsEnabled()&&n.isInTab()){var r=n.getTabId();if(t.fid||t.tabId&&t.tabId!==r)return!0;t.tabId=r}else{var i=n.getFolderId();if(t.tabId||t.fid&&t.fid!==i)return!0;t.fid=i}})?{fid:null,tabId:null}:t},__getFolders:function(e,t){var n=ns.Model.get("folders").getHierarchyStructure(function(e){return!_.contains([i.WellKnownFolderSymbol.OUTBOX],e.symbol)&&"1000"!==e.fid},t).filter(function(e){return!e.symbol||!i.FoldersDisabledMoveInto.includes(e.symbol)});return this.__processItems(n,e)},__getTabs:function(e){return ns.Model.get("tabs").getTabs().map(function(t){return{name:t.get(".title"),tabId:t.get(".id"),fid:ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX),isCurrent:t.get(".id")===e,level:0}})},__processItems:function(e,t,n,r){var i=this;return r=r||[],n=n||0,e.forEach(function(e){r.push({name:e.name,fid:e.fid,isSystem:Boolean(!e.user||e.symbol),isCurrent:e.fid===t,level:n}),e.items&&i.__processItems(e.items,t,n+1,r)}),r},__getLabels:function(){var e=this.__getUserLabelHash(),t=[],n=[];return e.labels.forEach(function(r){r.count!==e.count&&t.push(r.lid),r.count&&n.push(r.lid)}),{label:t,unLabel:n}},__getUserLabelHash:function(){var e=[],t={},n=ns.Model.get("labels"),r=n.getImportantLID(),i=ns.Model.get("settings").getSetting("label_sort");n.data.label.forEach(function(n){if(n.user||n.lid===r){var i={name:n.name,lid:n.lid,count:0,allCount:n.count};t[n.lid]=i,e.push(i)}}),e="by_count"===i?e.sort(function(e,t){return t.allCount-e.allCount}):_.sortBy(e,"name");var o=this.__mMessagesChecked.getCount(),a=this.__mMessagesChecked.getLabels();return _.forEach(a,function(e,n){t[n]&&(t[n].count=e)}),{count:o,labels:e}},__hasUnreadMessages:function(){var e=this.__mMessagesChecked.getIds();return e.ids.concat(e.tids.map(function(e){return e})).some(function(e){var t=ns.Model.get("message",{ids:e});return t&&t.get(".new")})},__hasReplyLaterMessages:function(){var e=this.__mMessagesChecked.getIds();return e.ids.concat(e.tids.map(function(e){return e})).some(function(e){var t=ns.Model.get("message",{ids:e});return t&&t.isReplyLaterStarted()})},__replyClickDataPreparation:function(e){return new vow.Promise(function(t,n){ns.Model.get("message",{ids:e}).isThread()?ns.request("messages",{thread_id:e}).then(function(e){var r=e[0].getLastReplyMessageQR();r?t(r.get(".mid")):n()}):t(e)})},__onReplyClick:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isReplyAll,t=void 0!==e&&e,n=this.__$onMessage.attr("data-id");if(n&&!Object(a.getPddRestrictNotificationsModel)().showPopup(function(){return Object(s.b)([ns.Model.get("message",{ids:n})],t)})){Daria.startScenarioForCompose(r.m);var i=this.__replyClickDataPreparation(n);i.always(function(){ns.events.trigger("daria:vMessages:deselect")}),i.then(function(e){if(Object(l.hasFeature)(l.Features.REACT_LAYOUT))return Daria.composeGo({oper:t?"reply-all":"reply",ids:e});var n=ns.router.generateUrl("compose2",{oper:t?"reply-all":"reply",ids:e});ns.page.go(n)}),window.Apdex.start(["Performance_openCompose"],!0)}}}},"context-menu-mixin-base",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);n.n(r);ns.View.edefine("context-menu-mixin-left-panel",{methods:{__showContextMenu:function(e){var t=this;e.preventDefault();var n=$(e.currentTarget);n.removeClass("no-user-select");var r=new Daria.ContextMenu({items:this.__getContextMenuItems({$item:n,url:this.__leftPanelExtractUrl(e),id:this.__extractId(n)}),onClose:function(){t.__toggleHoverClass(n,!1)},metrika:this.__metrika});this.__toggleHoverClass(n,!0),r.show({x:e.pageX,y:e.pageY,$scrollContainer:null}),$(".js-layout-left").one("scroll.context-menu-close",function(){Daria.ContextMenu.close()})},__toggleHoverClass:no.nop,__leftPanelExtractUrl:function(e){return $(e.target).closest("A[href]").attr("href")},__cmLeftPanelGetContextMenuItems:function(e){return[{text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"   ",onClick:function(){window.open(e.url)}},{type:"separator",index:2},{text:i18n("%Messages_Context_Menu_New_Folder"),customIcon:this._insertCustomIcon("Folder"),index:3,metrika:"  ",onClick:function(){var t=Daria.parseQuery(e.$item.attr("data-params")).fid,n=ns.Model.get("folders"),i=n.getFolderById(t);i&&(i.symbol||i.shared)&&(t=n.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)),ns.action.run("folders.add",{"only-create":!0,parent_id:t})}},{text:i18n("%Messages_Context_Menu_New_Label"),customIcon:this._insertCustomIcon("Tag"),index:4,metrika:"  ",onClick:function(){ns.action.run("labels.add",{"only-create":!0})}},{type:"separator",index:5},{text:i18n("%Messages_Context_Menu_Folders_Setup"),index:6,metrika:"   ",onClick:function(){var e=ns.router.generateUrl("setup",{tab:"folders"});ns.page.go(e)}}]}}},"context-menu-mixin-base",ns.View)},function(e,t){ns.View.edefine("context-menu-mixin-labels",{methods:{__metrika:"",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).lid},__toggleHoverClass:function(e,t){e.toggleClass("is-checked",t)},__getContextMenuItems:function(e){var t=this.__cmLeftPanelGetContextMenuItems.call(this,e);e.id&&(ns.Model.get("labels").getLabelById(e.id).user&&t.push({text:i18n("%LabelsMenu_Edit_Button"),customIcon:this._insertCustomIcon("Edit"),index:2.4,metrika:" ",onClick:function(){ns.action.run("label.edit",{id:e.id,"only-edit":!0})}}),t.push({text:i18n("%Labels_Remove_Button"),customIcon:this._insertCustomIcon("Delete"),index:2.5,metrika:" ",onClick:function(){ns.action.run("label.remove",{id:e.id})}}),t.push({type:"separator",index:2.9}));return t}}},"context-menu-mixin-left-panel",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137);n.n(r);ns.View.edefine("context-menu-mixin-folders",{methods:{__metrika:"",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).fid},__toggleHoverClass:function(e,t){e.toggleClass("mail-NestedList-Item_hover",t)},__getContextMenuItems:function(e){var t=this.__cmLeftPanelGetContextMenuItems.call(this,e);if(e.id){var n=ns.Model.get("folders").getFolderById(e.id);n.user&&!n.symbol&&"1000"!==n.fid&&"1000"!==n.parent_id&&t.push({text:i18n("%Folders_Edit_Button"),customIcon:this._insertCustomIcon("Edit"),index:2.4,metrika:" ",onClick:function(){ns.action.run("folder.edit",{id:e.id,"only-edit":!0})}}),(!n.default&&"1000"!==n.fid&&"1000"!==n.parent_id||Daria.Folder.REMOVABLE_SYMBOLS[n.symbol])&&t.push({text:i18n("%Folders_Remove_Button"),customIcon:this._insertCustomIcon("Delete"),index:2.5,metrika:" ",onClick:function(){ns.action.run("folder.remove",{id:e.id})}}),n.new>0&&t.push({text:i18n("%Message_Right___"),customIcon:this._insertCustomIcon("Read"),index:2.3,metrika:"   ",onClick:function(){Daria.Folder.markRead(e.id)}}),_.contains(r.ClearEnabledFolders,n.symbol)&&n.count>0&&t.push({text:i18n("%Messages_Infoline_Folder_Clear_Spam_Intruder"),customIcon:this._insertCustomIcon("Inbox-CleanFolder","context-menu-icon"),index:2.6,metrika:" ",onClick:function(){ns.action.run("folder.clear",{fid:e.id})}}),_.contains([r.WellKnownFolderSymbol.TEMPLATE],n.symbol)&&t.push({text:i18n("%Toolbar__"),customIcon:this._insertCustomIcon("AddTemplate"),index:2.7,metrika:" ",onClick:function(){ns.page.go(ns.router.generateUrl("compose2",{save_symbol:r.WellKnownFolderSymbol.TEMPLATE}))}}),t.push({type:"separator",index:2.9})}return t}}},"context-menu-mixin-left-panel",ns.View)},function(e,t){ns.View.edefine("context-menu-mixin-collectors",{methods:{__metrika:"",__extractId:function(e){return{popid:e.attr("data-popid"),email:e.attr("data-email")}},__toggleHoverClass:no.nop,__getContextMenuItems:function(e){return[{text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"   ",onClick:function(){window.open(e.url)}},{type:"separator",index:1.1},{text:i18n("%Messages_Context_Menu_Edit_Settings"),customIcon:this._insertCustomIcon("Settings","context-menu-icon"),index:2,metrika:"",onClick:function(){var t=ns.router.generateUrl("setup",{tab:"collector",popid:e.id.popid,email:e.id.email});ns.page.go(t)}},{type:"separator",index:9.9},{text:i18n("%Messages_Context_Menu_Create_New_Collector"),customIcon:this._insertCustomIcon("AddBtn"),index:10,metrika:"  ",onClick:function(){var e=ns.router.generateUrl("setup",{tab:"collectors"});ns.page.go(e)}}]}}},"context-menu-mixin-left-panel",ns.View)},function(e,t,n){"use strict";ns.View.edefine("context-menu-mixin-tabs",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},methods:{__metrika:"",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).tabId},__toggleHoverClass:function(e,t){e.toggleClass("mail-NestedList-Item_hover",t)},__getContextMenuItems:function(e){return this.__cmLeftPanelGetContextMenuItems.call(this,e)},onShow:function(){this._cmBaseBindMenuableElements({$node:this.$node,selector:".js-tabs-item"})},onHide:function(){this._cmBaseUnbindMenuableElements()}}},"context-menu-mixin-left-panel",ns.View)},function(e,t){ns.View.define("footer-help-link",{models:{"help-link":{"ns-model-changed":"keepValid","ns-model-changed.href":"invalidate"}},yateModule:"mail"})},function(e,t){ns.View.define("messages-time-updater",{models:{"date-time":{"ns-model-changed":!1,"ns-model-changed.server.date":"updateTime"}},yateModule:"mail",methods:{updateTime:function(){ns.Model.traverse("message",this.updateMessageRelativeTime),ns.Model.traverse("message-body",this.updateMessageRelativeTime),ns.Model.traverse("messages-from-item",this.updateMessageRelativeTime)},updateMessageRelativeTime:function(e){e.isValid()&&e.hasRelativeTime()&&e.updateTime()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),i=n(349);n.n(i);ns.View.define(Daria.getEncryptedView("messages-direct-line-placeholder"),{events:{"ns-view-htmlinit":"onHtmlInit"},yateModule:"mail",methods:{onHtmlInit:function(){if(!Object(i.getFeatureParams)(i.Features.PARTLY_DISABLE_ADV).direct)if(Jane.HAS_AD&&Daria.AdvPresenter.shouldShowLine()){Daria.Config.heightClassForDirect&&this.$node.addClass(Daria.Config.heightClassForDirect);this.node.style="height: ".concat(36,"px !important");var e=Daria.AdBlock.enabled?Daria.getRandomName():"mail-DirectLinePlaceholder";this._addStyles(e),this.node.innerHTML='\n                <div class="'.concat(e,'">\n                    <span class="').concat(e,"-Item ").concat(e,'-Avatar"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Title"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Spacer"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Warning"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Extra"></span>\n                </div>\n            ')}else this.$node.addClass("is-hidden")},_addStyles:function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML="\n                .".concat(e," {\n                    display: flex;\n                    height: 36px;\n                    box-shadow: var(--liza-theme-content-box-shadow);\n                    background: var(--liza-theme-direct-line-bg);\n                    align-items: center;\n                    border-radius: var(--liza-ad-border-radius);\n                    padding: 0 15px 0 4px;\n                    margin: 8px 8px 0 8px;\n                }\n                .").concat(e,"-Item {\n                    display: inline-block;\n                }\n                .").concat(e,"-Avatar {\n                    width: 64px;\n                    height: 28px;\n                    background: linear-gradient(92.73deg, var(--liza-theme-direct-line-gradient-start) 2.28%, var(--liza-theme-direct-line-gradient-end) 164.09%);\n                    border-radius: 6px;\n                    margin-right: 8px;\n                }\n                .").concat(e,"-Title {\n                    width: 100%;\n                    max-width: 387px;\n                    height: 16px;\n                    background: linear-gradient(127.4deg, var(--liza-theme-direct-line-gradient-start) 28.33%, var(--liza-theme-direct-line-gradient-end) 124.84%);\n                    border-radius: 4px;\n                }\n                .").concat(e,"-Spacer {\n                    flex: 1 1 auto;\n                }\n                .").concat(e,"-Warning {\n                    width: 195px;\n                    height: 16px;\n                    background: linear-gradient(274.05deg, var(--liza-theme-direct-line-gradient-start) 80.59%, var(--liza-theme-direct-line-gradient-end) 108.57%);\n                    border-radius: 4px;\n                    transform: rotate(-180deg);\n                    margin-right: 8px;\n                }\n                .").concat(e,"-Extra {\n                    width: 16px;\n                    height: 16px;\n                    background: linear-gradient(108.06deg, var(--liza-theme-direct-line-gradient-start) -11.85%, var(--liza-theme-direct-line-gradient-end) 164.78%);\n                    border-radius: 4px;\n                }\n            "),Object(r.a)(t)}}})},function(e,t){ns.View.define("message-dimensions-mixin",{methods:{getDimensions:function(e){return Daria.is2pane()?this.getDimensions2Pane(e):this.getDimensions3Pane(e)},getDimensions2Pane:function(e){var t,n,r={bottom:0,height:0,top:0};if(e){if(0===(t=this.$node.find(".js-message-body")).length)return r;n=t.outerHeight()}else n=(t=this.$node).height();return r.top=t.offset().top,r.height=n,r.bottom=r.top+r.height,r},getDimensions3Pane:function(e){var t,n,r={bottom:0,height:0,top:0};if(!this.node)return r;if(e){if(!(t=this.node.getElementsByClassName("js-message-body")[0]))return r;n=this.node.offsetTop+t.offsetTop}else n=(t=this.node).offsetTop;return r.height=t.offsetHeight,r.top=n,r.bottom=r.top+r.height,r},isVisibleInScroller:function(e,t){if(t&&!ns.Model.get("message-body",this.params).isValid())return!1;var n=this.getDimensions(t),r=n.height,i=n.top,o=n.bottom,a=e.top,s=e.bottom;return r>0&&(a<=i&&i<=s||a<=o&&o<=s||a>=i&&o>=s)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);ns.View.define("fixed-element-in-message-mixin",{events:{"daria:vApp:changeRightColumSize@show":"recalculateHeaderFixedState","daria:vFixedElementInMessageMixin:resize@show":"_fixedElementChangeHeight","daria:vScrollerMessage:scroll@show":"_fixedElementOnWindowScroll","daria:layout-changed@show":"_fixedElementOnWindowScroll","resize@show window":"recalculateHeaderFixedState","scroll@show window":"recalculateHeaderFixedState"},methods:{_fixedElementHeader:!1,fixedElementStart:function(){this.getModel("scroller-message").init(),this._fixedElementSetFixed3PaneHeader()},lazyFixedRecalc:function(){_.defer(this.fixedElementStart.bind(this))},fixedElementStop:function(){this._fixedElementReset3PaneHeader(),this._fixedElementHeader=!1},_fixedElementOnWindowScroll:function(){Daria.is3pane()?this._checkFixedState():Daria.isMessagePage()||this._fixedElementRecalcStickyHeader()},_checkFixedState:function(){var e=this.$node.find(".js-thread-toolbar"),t=this.getModel("scroller-message").getScrollTop()>0;this._fixedElementHeader!==t&&(this._fixedElementHeader=t,e.toggleClass("is-fixed",t))},_fixedElementRecalcStickyHeader:function(){if(!Object(r.hasFeature)(r.Features.REACT_LAYOUT)||Object(r.hasFeature)(r.Features.WEB_REACT_MESSAGE_THREAD)){var e=this.getModel("scroller-message").getScrollTop(),t=this.$node.offset(),n=e>t.top;if(n){var i=this.$node.closest(".js-cbt-item").height();i||(i=this.$node.height()),t.top+i<e+60&&(n=!1)}this._fixedElementToggleFixedHeader(n,t)}},_fixedElementSetFixed3PaneHeader:function(){if(!Daria.is2pane()){var e=this.$node.find(".js-thread-toolbar");e.css("position","absolute");var t=this.$node.offset(),n=this.$node.outerWidth();e.css({position:"fixed",left:this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left,top:this.getModel("scroller-message").getScroller().offset().top,width:n,"z-index":10});var r=this.$node.find(".js-mail-Message-Toolbar-Content").outerHeight();this.$node.css({paddingTop:r}),this._fixedElementChangeHeight()}},_fixedElementReset3PaneHeader:function(){var e=this.$node.find(".js-thread-toolbar"),t=this.$node.find(".js-mail-Message-Toolbar-Content");e.length&&(e[0].style.cssText="",e.removeClass("is-fixed")),t.length&&(t[0].style.cssText=""),this.$node.length&&(this.$node[0].style.cssText="")},_fixedElementToggleFixedHeader:function(e,t){this._fixedElementHeader=e;var n=this.$node.find(".js-thread-toolbar"),r=n.find(".js-mail-Message-Toolbar-Content"),i=n.width();r.css({left:e?this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left:"",width:e?i:""}),n.toggleClass("is-fixed",e)},_fixedElementChangeHeight:function(){var e=this.$node,t=e.find(".js-mail-Message-Toolbar-Content").outerHeight();e.find(".js-thread-toolbar").css({height:t}),Daria.is3pane()&&e.css({paddingTop:t})},recalculateHeaderFixedState:function(){Daria.is2pane()?this._fixedElementOnWindowScroll():this._fixedElementSetFixed3PaneHeader()}}})},function(e,t){ns.View.define("preserve-scroll-position-mixin",{events:{"vMessages:items-list-will-update@show":"_saveScrollPosition","vMessages:items-list-updated@show":"_restoreScrollPosition"},methods:{_shouldPreserveScrollPosition:!1,_offsetTop:null,_saveScrollPosition:function(){this._shouldPreserveScrollPosition&&(this._offsetTop=this.$node.offset().top-this._$document.scrollTop())},_restoreScrollPosition:function(){null!==this._offsetTop&&(this._$document.scrollTop(this.$node.offset().top-this._offsetTop),this._offsetTop=null)}}})},function(e,t){ns.View.define("fixed-message-toolbar-mixin",{events:{"daria:vScrollerMessage:scroll@show":"_fixedToolbar","daria:layout-changed@show":"_fixedToolbar","daria:vMessageToolbar:toolbar-didRendered":"_fixedToolbar","daria:vApp:changeRightColumSize@show":"_fixedToolbar","ns-view-htmlinit":"onInit","resize@show window":"_fixedToolbar","scroll@show window":"_fixedToolbar"},methods:{onInit:function(){var e=Daria.is2pane()?".js-cbt-item":".js-message-scroll-area";this.$header=this.$node.closest(e).find(".js-thread-toolbar"),0===this.$header.length&&Daria.isMessagePage()&&(this.$header=this.$node.find(".js-thread-toolbar")),this.$headerHeight=this.$header.height()||0,this.$messageHead=this.$node.find(".js-message-head"),this.getMessageToolbar()},getMessageToolbar:function(){this.$toolbar=this.$node.find(".js-message-toolbar-content")},_fixedToolbar:function(){if(this.$messageHead&&this.$messageHead.length){this.getMessageToolbar();var e=this.getModel("scroller-message"),t=e.getScrollTop(),n=this.isVisibleInScroller(e.getVDimensions(),!1);if(this.isOpen()&&n){var r=this.getDimensions(!1),i=r.top+16,o=r.bottom-this.$toolbar.height()-60;Daria.isMessagePage()?i+=this.$headerHeight:(i-=this.$headerHeight,i+=this.$messageHead.height());var a=t>i&&t<=o;this._toggleFixed(a)}else this._toggleFixed(!1)}},_toggleFixed:function(e){if(e){var t=this.$node.offset(),n=this.$node.width(),r=this.$headerHeight;Daria.is3pane()&&(r+=this.getModel("scroller-message").getScroller().offset().top),this.$toolbar.css({left:this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left,top:r,width:n})}else this.$toolbar&&this.$toolbar[0]&&(this.$toolbar[0].style.cssText="");this.$toolbar.toggleClass("is-fixed",e)},resetFixedToolbar:function(){this._toggleFixed(!1)}}})},function(e,t){ns.View.define("go-to-replied-message-mixin",{events:{"click .js-go-to-replied-message":"goToRepliedMessage"},methods:{goToRepliedMessage:function(){var e={mid:this.params.ids},t=this.getModel("message").get(".message_id");return t&&(e.message_id=t),ns.request(["message-in-reply-to-ng"],e).then(function(e){var t=e.length&&e[0].getLastMessage(),n=t&&t.mid;if(n){var r=ns.router.generateUrl("message",{ids:n});ns.page.go(r)}}),!1}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(359),i=(n.n(r),n(358));n.n(i);ns.View.edefine("infoline",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide","daria:vMessagesItemWrap:message-closed":"onToggleOpenMessage","daria:vToolbar:message-opened":"onToggleOpenMessage"},models:{"messages-checked":{"ns-model-changed":"onMessagesCheckedChanged"}},yateModule:"mail",ctor:function(){this._isMessageOpened=!1,this._isVisible=!1,this.onMessagesCheckedChanged=function(){_.defer(this._onMessagesCheckedChanged.bind(this))}},params:function(e){var t=["thread_id","ids","important"];for(var n in e)_.include(t,n)&&delete e[n];var r={};return Object.keys(e).sort().forEach(function(t){r[t]=e[t]}),r},methods:{onShow:function(){this.toggleVisibility()},onHide:function(){this._isVisible=!1,this.toggleStatusline()},onDeselectAllClick:function(){this.getModel("messages-checked").resetChecked()},toggleStatusline:function(){this._isVisible?Object(i.showStatuslineComponent)({name:r.StatuslineName.MultipleEmailsSelected,count:this.getCount(),onClose:this.onDeselectAllClick.bind(this),onSelectFolderClick:this.onSelectFolderClick.bind(this),showSelectAllLink:this.showSelectAllLink(),isSelectAllLinkDisabled:this.getModel("messages-checked").areAllCheckedInFolderOrTab()}):Object(i.hideStatusline)(r.StatuslineName.MultipleEmailsSelected)},toggleVisibility:function(){var e=this.getModel("messages-checked");this._isVisible=e.canShowInfoline(),this._isVisible&&(this._isVisible=!(this._isVisible&&this._isMessageOpened)),this._isVisible&&e.atrigger("ns-model-reset-checked"),this.toggleStatusline()},_onMessagesCheckedChanged:function(){this.toggleVisibility()},getCount:function(){var e=this.getModel("messages-checked"),t=e.getSelectedFolder(),n=e.getSelectedTab();return n?ns.Model.get("tab",{id:n}).getCount():t?ns.Model.get("folders").getCount(t):e.getCount()},onToggleOpenMessage:function(e){switch(e){case"daria:vMessagesItemWrap:message-closed":this._isMessageOpened=!1;break;case"daria:vToolbar:message-opened":this._isMessageOpened=!0}Daria.is2pane()&&this.toggleVisibility()},onSelectFolderClick:function(){var e=this.getModel("messages-checked");e.resetChecked(),e.selectFolder(),e.selectTab()},showSelectAllLink:function(){var e=ns.page.current.params;return Boolean(e.current_folder)||Boolean(e.tabId)}}})},function(e,t){ns.ViewCollection.edefine("notifications",{events:{"wheel .js-notifications-scroll":"onMouseWheel","mouseleave .js-notifications-scroll":"onMouseLeave","mouseenter .js-notifications-fake":"loadMore"},models:{notifications:{"ns-model-changed":"keepValid","ns-model-changed.queue":"onQueueUpdate","ns-model-insert":"forceUpdate","ns-model-remove":"onItemRemove"},"notifications-state":{"ns-model-changed":"keepValid","ns-model-changed.expanded":"onExpandedChange"}},split:{byModel:"notifications",intoViews:"notifications-item"},yateModule:"mail",methods:{DELAY_BEFORE_HIDE_FAKE:150,getScrollContent:function(e){return $(e.target).closest(".js-notifications-scroll")[0]},onExpandedChange:function(){var e=this.getModel("notifications-state").isExpanded();this.$node.toggleClass("is-expanded",e),e||this.getModel("notifications").insertFromQueue()},onMouseLeave:function(){this.$node.find(".js-notifications-scroll").scrollTop(0),this.getModel("notifications-state").collapse()},onMouseWheel:function(e){e.originalEvent.deltaY<0&&this.loadMore(),this.onWheel(e)},onItemRemove:function(){var e=this.getModel("notifications"),t=this.getModel("notifications-state");!e.hasNotifications()&&t.isExpanded()&&t.collapse(),this.forceUpdate()},loadMore:function(){this.getModel("notifications").insertFromQueue()},onQueueUpdate:function(){var e=this.$node.find(".js-notifications-fake");this.getModel("notifications").hasNotificationsInQueue()?e.addClass("is-show"):_.delay(function(){e.removeClass("is-show")},this.DELAY_BEFORE_HIDE_FAKE)}}},"prevent-scroll-propagation-mixin",ns.ViewCollection)},function(e,t){ns.View.define("notifications-item",{events:{"ns-view-show":"onShow",click:"onClick","click .js-remove":"onRemoveClick",mouseenter:"onMouseEnter"},models:{"notifications-item":"keepValid","notifications-state":{"ns-model-changed":"keepValid","ns-model-changed.expanded":"recalculateShowTimer"}},params:{id:null},ctor:function(){this.startTimerTime=0,this.stopTimerTime=0,this.timerId=null},yateModule:"mail",methods:{MIN_TIME_TO_SHOW:1e3,TIME_TO_SHOW:3e3,TIME_TO_SHOW_VIP:6e3,DELAY_BEFORE_REMOVE:300,DELAY_BEFORE_VIP_ANIMATION:400,onShow:function(){var e=this,t=this.getModel("notifications-item").isVIP(),n=this.getModel("notifications-state").isExpanded();_.defer(function(){e.$node.addClass("is-showed")}),t&&!n&&_.delay(function(){e.$node.addClass("is-vip")},this.DELAY_BEFORE_VIP_ANIMATION),n||(this.startTimerTime=Date.now(),this.startShowTimer(t?this.TIME_TO_SHOW_VIP:this.TIME_TO_SHOW)),this.sendMetric("")},startShowTimer:function(e){this.timerId=setTimeout(this.remove.bind(this),e)},clearShowTimer:function(){this.timerId&&(this.stopTimerTime=Date.now(),clearTimeout(this.timerId))},onClick:function(){this.getModel("notifications-item").isCalendarEvent()||(this.remove(),this.getModel("notifications-state").collapse()),this.sendMetric("  ")},onRemoveClick:function(e){e.preventDefault(),e.stopPropagation(),this.clearShowTimer(),this.remove()},remove:function(){if(this.isValid()){this.$node.addClass("is-removed");var e=this.getModel("notifications-item");_.delay(function(){ns.Model.get("notifications").remove(e)},this.DELAY_BEFORE_REMOVE)}},onMouseEnter:function(){this.getModel("notifications-state").isExpanded()||this.getModel("notifications-state").expand()},recalculateShowTimer:function(){if(this.getModel("notifications-state").isExpanded())this.clearShowTimer();else{var e=this.stopTimerTime-this.startTimerTime,t=Math.max(this.TIME_TO_SHOW-e,this.MIN_TIME_TO_SHOW);this.startTimerTime||(this.startTimerTime=Date.now()),this.startShowTimer(t)}},sendMetric:function(e){Jane.c("","-",e)}}})},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}!function(){"use strict";function e(e){return"on"===e||!0===e}ns.View.define("browser-notifications",{events:{"ns-view-init":"onInit","daria:PushManager:permissionResolved@show":"onPermissionResolved","daria:PushManager:permissionConverted@show":"onPermissionConverted","daria:PushManager:subscriptionUpdated@show":"onSubscriptionUpdated","daria:folder-add-done":"onFolderCreation"},models:{settings:{"ns-model-changed":!1,"ns-model-changed.browser_notify_message":"updateSubscription","ns-model-changed.open-message-list":"updateServiceWorkerSettings","ns-model-changed.folder_thread_view":"updateServiceWorkerSettings","ns-model-changed.browser_notify_blank":"updateServiceWorkerSettings","ns-model-changed.layout":"updateServiceWorkerSettings","ns-model-changed.subscribed_folders":"updateSubscriptions","ns-model-changed.subscribed_tabs":"updateSubscriptions"},folders:!1},yateModule:"mail",methods:{onInit:function(){if(!Daria.Config.NO_SETTINGS){var e=ns.Model.get("checkbox-tree-state"),t=e.syncronizeInboxBetween(Daria.areFoldersTabsEnabled());e.shouldSyncronizeInbox(t)?e.resubscribeOnFoldersTabsNotifications(t):this._checkSubscription(this.isEnabled())}},isEnabled:function(){var e=this.getModel("settings"),t=e.get(".browser_notify_message"),n=e.get(".browser_notify_requested");return t||!n&&Daria.IS_CORP},onSubscriptionUpdated:function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getModel("settings"),i=r.getSetting("subscribed_folders")||"",o=r.getSetting("subscribed_tabs")||"",a={},i.replace(/&quot;/g,'"')!==n.folders&&Object.assign(a,{subscribed_folders:n.folders}),o.replace(/&quot;/g,'"')!==n.tabs&&Object.assign(a,{subscribed_tabs:n.tabs}),!Object.keys(a).length){e.next=9;break}return e.next=9,r.setSettings(a,{silent:!0});case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),onPermissionResolved:function(e,t){this.keepValid();var n=this.getModel("settings"),r=this._fillSubscriptionSettings({browser_notify_requested:!0},t),i=!0;n.setSettings(r).catch(function(){return i=!1}).then(function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"requested",saved:i},r))})},onPermissionConverted:function(e,t){this.keepValid();var n=this.getModel("settings"),r=this._fillSubscriptionSettings({browser_notify_converted:!0},t),i=!0;n.setSettings(r).catch(function(){return i=!1}).then(function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"converted",saved:i},r))})},_fillSubscriptionSettings:function(e,t){var n=this.getModel("settings").get(".browser_notify_message"),r=t!==Daria.PushManager.PERMISSION.SKIPPED,i=t===Daria.PushManager.PERMISSION.GRANTED;return r&&!n&&i&&(e.browser_notify_message=i,e.subscribed_folders=JSON.stringify(this._getSubscribedFolders()),e.subscribed_tabs=JSON.stringify(this._getSubscribedTabs())),e},onFolderCreation:function(e,t){var n=this.getModel("folders").getParentFid(t),r=this._getSubscribedFolders();if(_.includes(r,n)){var i=JSON.stringify(r.concat(t).sort());this.getModel("settings").setSettings({subscribed_folders:i})}},updateSubscription:function(t,n,r,i,o){this.keepValid();var a=this.getModel("settings").get(".browser_notify_message");(o=e(o))!==(a=e(a))&&this._checkSubscription(a,!0)},updateServiceWorkerSettings:function(){this.keepValid();var e=this.getModel("settings");return e.getSign("browser_notify_message")?Daria.PushManager.settings({openMessageInList:e.getSign("open-message-list"),folderThreadView:e.getSign("folder_thread_view"),openInNewWindow:e.getSign("browser_notify_blank"),is3pane:e.getSign("layout")>0}):Promise.resolve()},updateSubscriptions:function(){this.isEnabled()&&(Daria.PushManager.resetSubscriptionDatetime(),Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs(),!0))},_checkSubscription:function(e,t){e?Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs()):Daria.PushManager.unsubscribe(t)},_getSubscribedFolders:function(){return ns.Model.get("settings").getSign("subscribed_folders")},_getSubscribedTabs:function(){return ns.Model.get("settings").getSign("subscribed_tabs")}}})}()},function(e,t){ns.View.define("translate-select-lang",{events:{"click@show .js-lang":"_onClick","daria:vScrollerMessages:scroll@show":"_onScroll","daria:vScrollerMessage:scroll@show":"_onScroll","daria:layout-changed@show":"_onScroll"},models:{"translate-langs":!1},params:function(e){return{currentLang:e.currentLang}},ctor:function(){this._defaultOptions={withoutTail:Daria.isComposePage(),autofocus:!0,autoclose:!0,how:{my:"left top",at:"left-100 bottom"}},this._options={},this._popup=null},yateModule:"mail",methods:{open:function(e){return this._options=_.extend({},this._defaultOptions,e),this.update(this.params,{execFlag:ns.U.EXEC.PARALLEL}).then(this._onAfterRender,this)},close:function(){_.method("close")(this._popup)},_onClick:function(e){var t=$(e.currentTarget).data("lang");this.getModel("translate-langs").setRecent(t),this.trigger("selected",t)},_onScroll:function(){var e=_.get(this._popup,"node.widget");_.method("_position")(e)},_onAfterRender:function(){this._popup=nb.block(ns.renderNode({},"js-translate-select-lang","mail")),this._popup.setContent(this.node),this._popup.on("nb-opened",this._onOpened.bind(this)),this._popup.on("nb-closed",this._onClosed.bind(this)),this._popup.on("nb-destroyed",this._onDestroyed.bind(this)),this._popup.open(this._options)},_onOpened:function(){this.trigger("opened")},_onClosed:function(e,t){t.destroy(),this.trigger("closed")},_onDestroyed:function(){delete this._popup,this._options={},this.destroy()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);n.n(r);!function(){var e=null;ns.View.define("disk-widget-save-popup",{yateModule:"mail",methods:{_deferred:null,open:function(t){return this._deferred?null:(this._deferred=new vow.Deferred,this.update({},{execFlag:ns.U.EXEC.PARALLEL}).then(function(){$(t.popup.where).closest(":focusable").focus(),this.nbPopup=nb.block(this.node),this.nbPopup.open(t.popup),Vow.all([ns.request([ns.Model.get("disk-secret-key")]),function(){if(e)return e;var t=new Vow.Promise;return Daria.Libs("DiskWidgetSaveApi",function(){window.WidgetSaveApi.config={dialogUrl:"".concat(Daria.Config["disk-url"],"/save/"),environment:"production",moveUrl:"".concat(Daria.Config["disk-url"],"/save/api/move"),origin:Daria.Config["disk-url"],saveUrl:"".concat(Daria.Config["disk-url"],"/save/api/save")},t.fulfill()}),e=t}()]).then(function(e){var n=e[0][0],i=this._getSaveToDiskWidgetParams(t,n.get(".key"),this.$node.find(".js-container")[0]);i?(this.$node.toggleClass("mail-DiskWidgetSavePopup-Content_Loaded",!0),this.widget=window.WidgetSaveApi.saveAndMove(i,{onClose:this.close.bind(this),onError:function(e){Jane.c(["Attachments","Error while saving on disc",t.countLocationName||"Not set"]),e&&Jane.ErrorLog.log({type:r.ErrorType.Component,source:r.ErrorSource.Logic,sourceMethod:r.ErrorSourceMethod.DiskWidgetSavePopup,block:r.ErrorBlock.DiskWidgetSavePopup,method:"save"},e)},onSuccess:function(){var e=$(".js-container").find("iframe");e.length&&e.focus()}})):this.destroySelf()},function(e){this.close(),Jane.ErrorLog.log({type:r.ErrorType.Component,source:r.ErrorSource.Logic,sourceMethod:r.ErrorSourceMethod.DiskWidgetSavePopup,block:r.ErrorBlock.DiskWidgetSavePopup,method:"open"},e)},this),this.nbPopup.on("nb-closed",this.destroySelf.bind(this))},this),this._deferred)},close:function(){this.nbPopup&&this.nbPopup.close()},destroySelf:function(){var e=this;_.defer(function(){e.nbPopup&&(e.nbPopup.destroy(),e.nbPopup=null),e.widget&&(e.widget.destroy(),e.widget=null),e._deferred&&(e._deferred.resolve(),e._deferred=null),e.destroy()})},_getSaveToDiskWidgetParams:function(e,t,n){var i=e.mid,o=e.hid,a=e.diskDownloadUrl,s=a?"disk-public":"mail",l=a||this._getMailAttachmentSrc(i,o);return l?{source:"copy-widget-yamail",type:s,sourceId:l,uid:ns.Model.get("account-information").get(".uid"),sk:t,container:n}:(Jane.ErrorLog.log({type:r.ErrorType.Component,source:r.ErrorSource.Logic,sourceMethod:r.ErrorSourceMethod.DiskWidgetSavePopup,block:r.ErrorBlock.DiskWidgetSavePopup,method:"_getSaveToDiskWidgetParams",message:"Disk-widget-save-popup: could not generate source id",mid:i,hid:o}),null)},_getMailAttachmentSrc:function(e,t){return e&&t?"/mail/file:"+e+":"+t:null}}})}()},function(e,t){ns.View.define("fake-head-background",{yateModule:"mail"})},function(e,t){ns.View.define("technical-problems-alert",{models:{"system-status":{"ns-model-changed":"forceUpdate"}},yateModule:"mail",events:{"click .js-technical-problems-alert-toggler":"toggleDescription"},methods:{ERRORS:{internal:{title:i18n("%TechProblem_INTERNAL_title"),description:i18n("%TechProblem_INTERNAL_desc")},db_ro:{title:i18n("%TechProblem_DB_RO_title"),description:i18n("%TechProblem_DB_RO_desc")},no_send:{title:i18n("%TechProblem_NO_SEND_title")},no_settings:{title:i18n("%TechProblem_NO_SETTINGS_title")},no_search:{title:i18n("%TechProblem_NO_SEARCH_title")},no_abook:{title:i18n("%TechProblem_NO_ABOOK_title")},no_attachment:{title:i18n("%TechProblem_NO_ATTACHMENT_title")},slow_output:{title:i18n("%TechProblem_SLOW_OUTPUT_title")},slow_input:{title:i18n("%TechProblem_SLOW_INPUT_title")},broken_mails:{title:i18n("%TechProblem_BROKEN_MAILS_title")},broken_folders_labels:{title:i18n("%TechProblem_BROKEN_FOLDERS_LABELS_title")}},getErrorMessage:function(){var e=this.getModel("system-status").getData()||{};if(!e.problem)return{};if("%"===e.problem[0]){var t=e.problem.slice(1);return this.ERRORS[t]||this.ERRORS.internal}return{title:e.problem}},toggleDescription:function(e){e.preventDefault(),this.$node.toggleClass("mail-Page-Intruder__full_info"),ns.events.trigger("daria:layout-changed"),$(window).trigger("resize"),Daria.Dialog.position()}}})},function(e,t){ns.View.define("async-view-loading-fix-mixin",{methods:{_getTree:function(){var e=ns.View.prototype._getTree.apply(this);return this.isLoading()&&this._fixTreeStateByModels(e),e},_fixTreeStateByModels:function(e){var t=!1,n=this._getModelsForTree();for(var r in n)if("error"===n[r].status&&!n[r][r]){t=!0;break}t&&(e.state="loading")}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(373),i=(n.n(r),n(379)),o=n(349);n.n(o);ns.View.define("compose-manager-container",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},yateModule:"mail",methods:{onShow:function(){Daria.composesRestore(this.node),Object(o.hasFeature)(o.Features.WEB_DARK_COMPOSE)||Object(i.configureRootTheme)({theme:r.PS_LIGHT,root:this.node})},onHide:function(){Daria.composesDestroy()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(486),i=(n.n(r),n(4330));n.n(i);ns.View.define("midgets",Object(r.NsReactView)({component:i.Midgets,yateModule:"mail"}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Midgets=void 0;var i=r(n(135)),o=n(342),a=n(440),s=n(403),l=n(347),c=n(449),u=n(441),d=a.withPsTheme({source:s.DarkSource.Content})(l.getMidgets());t.Midgets=o.observer(function(){var e=c.ThemeMaster.instance(),t=u.ThemesStore.instance(),n=(e.isActive,t.isContentDark);return i.default.createElement(d,{isDark:n})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4332),i=(n.n(r),n(347));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ns.View.define("react-draggable-mixin",{events:{mousedown:"reactDraggableMouseDown"},ctor:function(){this.reactDraggableMouseMove=this.reactDraggableMouseMove.bind(this),this.reactDraggableMouseUp=this.reactDraggableMouseUp.bind(this)},methods:{reactDraggableOnDragStart:function(){return{dragSource:null,dragSourceLabel:function(){return""}}},reactDraggableOnDragEnd:function(){},reactDraggableCanDrag:function(e){return!0},_reactDraggableIsDragging:!1,_reactDraggableIsDragActive:!1,_reactDraggableStartCoords:null,reactDraggableWithDndBridge:function(e){var t=Object(i.getDndBridge)();return t?e(t):null},reactDraggableMouseDown:function(e){if(this.reactDraggableCanDrag(e)){var t=e.clientX,n=e.clientY;this._reactDraggableIsDragging=!0,this._reactDraggableStartCoords={clientX:t,clientY:n},this._reactDraggableSetupDragEvents(),e.preventDefault()}},_reactDraggableSetupDragEvents:function(){document.addEventListener("mousemove",this.reactDraggableMouseMove),document.addEventListener("mouseup",this.reactDraggableMouseUp)},reactDraggableMouseMove:function(e){var t=e.clientX,n=e.clientY;if(this._reactDraggableIsDragActive)this.reactDraggableWithDndBridge(function(e){return e.dragMove({clientX:t,clientY:n})});else if(Object(r.isDragStarted)(this._reactDraggableStartCoords,e)){this._reactDraggableIsDragActive=!0;var i=this.reactDraggableOnDragStart();this.reactDraggableWithDndBridge(function(e){return e.dragStart(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i,{clientX:t,clientY:n}))})}},reactDraggableMouseUp:function(e){this._reactDraggableIsDragging&&(this.reactDraggableWithDndBridge(function(e){return e.dragEnd()}),document.removeEventListener("mousemove",this.reactDraggableMouseMove),document.removeEventListener("mouseup",this.reactDraggableMouseUp),e.preventDefault(),this._reactDraggableIsDragging=!1,this._reactDraggableIsDragActive=!1,this.reactDraggableOnDragEnd())},reactDraggableGetPreventDeselect:function(){return this.reactDroppableWithDndBridge(function(e){return e.currentDrag.preventDeselect})}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDragStarted=t.DRAG_DELTA=void 0,t.DRAG_DELTA=20;t.isDragStarted=function(e,n){var r=Math.pow(n.clientX-e.clientX,2),i=Math.pow(n.clientY-e.clientY,2);return Math.sqrt(r+i)>=t.DRAG_DELTA}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(347);ns.View.define("react-droppable-mixin",{events:{mouseenter:"reactDroppableMouseEnter",mouseleave:"reactDroppableMouseLeave",mouseup:"reactDroppableMouseUp"},methods:{REACT_DROPPABLE_ACCEPTS:[],reactDroppableDragLabel:function(e){return""},reactDroppableOnDrop:function(e){return""},reactDroppableOnDropEnter:function(e){},reactDroppableOnDropLeave:function(e){},reactDroppableTarget:function(){return null},_reactDroppableIsHovering:!1,reactDroppableWithDndBridge:function(e){var t=Object(r.getDndBridge)();return t?e(t):null},reactDroppableMouseEnter:function(){var e=this.reactDroppableGetCurrentDragSource();e&&this.REACT_DROPPABLE_ACCEPTS.includes(e.type)&&(this._reactDroppableIsHovering=!0,this.reactDroppableDragOver(this.reactDroppableDragLabel(e)),this.reactDroppableOnDropEnter(e))},reactDroppableMouseLeave:function(){if(this._reactDroppableIsHovering)return this._reactDroppableIsHovering=!1,this.reactDroppableOnDropLeave(),this.reactDroppableWithDndBridge(function(e){return e.dragOut()})},reactDroppableMouseUp:function(){var e=this.reactDroppableGetCurrentDragSource();this._reactDroppableIsHovering&&e&&this.reactDroppableOnDrop(e)},reactDroppableGetCurrentDragSource:function(){return this.reactDroppableWithDndBridge(function(e){return e.currentDrag.dragSource})},reactDroppableDragOver:function(e){var t=this;return this.reactDroppableWithDndBridge(function(n){return n.dragOver(e,t.reactDroppableTarget())})}}})},function(e,t){ns.View.define("ps-header",{events:{"ns-view-init":"onViewInit","ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy"},yateModule:"mail",methods:{onViewInit:function(){this._headerStaticMarkup=document.querySelector(".js-mail-header-static div")},onHtmlInit:function(){this.node.appendChild(this._headerStaticMarkup),Daria.React.renderPsHeader(this.node)},onHtmlDestroy:function(){Daria.React.unmountReactBox(this.node)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(486),i=(n.n(r),n(347));ns.View.define("compact-header",Object(r.NsReactView)({component:Object(i.getCompactHeader)(),yateModule:"mail"}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(1452)),o=n(350),a=n(346);n(4337),yr.externals["is-my-email"]=function(e){return ns.Model.get("account-information").isMyEmail(e)},yr.externals["has-experiment"]=Daria.hasExperiment,yr.externals["has-feature"]=r.hasFeature,yr.externals["get-feature-params"]=r.getFeatureParams,yr.externals["show-doublesized-contacts"]=Daria.showDoubleSizedContacts,function(){var e,t;function r(t){return i(),e.getFolderById(t)||e.getFolderBySymbol(t)}function i(){e||(e=ns.Model.get("folders"),t=ns.Model.get("labels"))}n(4338),yr.externals["daria-url-attachment"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.attachment.apply(Daria.url,e)},yr.externals["daria-url-attachment-archive"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.archive.apply(Daria.url,e)},yr.externals["get-attach-preview-data"]=function(e,t,n,r){return Daria.getAttachPreviewData(yr.nodeset2data(e),t,n,r)},yr.externals["get-folder-by-fid-or-symbol"]=function(e){return yr.object2nodeset(r(e)||{})},yr.externals["get-folders-by-fids-or-symbols"]=function(e){for(var t=[],n=0;n<e.length;++n){var i=r(e[n].data);i&&t.push(i)}return yr.object2nodeset({folders:t})},yr.externals["get-tab-by-id"]=function(e){var t=ns.Model.get("tabs").getTab(e);return yr.object2nodeset(t?t.getData():{})},yr.externals["get-tabs"]=function(){var e=ns.Model.get("tabs").getFoldersTabsList();return yr.object2nodeset({tabs:e||[]})},yr.externals["get-human-size"]=Jane.getHumanSize,yr.externals["get-label-by-name"]=function(e){return i(),yr.object2nodeset(t.getLabelByName(e)||{})},yr.externals["get-label-by-lid"]=function(e){return i(),yr.object2nodeset(t.getLabelById(e)||{})},yr.externals["get-waiting-for-reply-label"]=function(){return i(),yr.object2nodeset(t.getWaitingForReplyLabel())},yr.externals["get-label-important"]=function(){return i(),yr.object2nodeset(t.getLabelBySymbolicName("important_label")||{})},yr.externals["is-message-imap-deleted"]=function(e){var t=ns.Model.get("message",{ids:e});return t.hasLabelWithSymbolicName("deleted_label")||t.get(".flags.imap-deleted")},yr.externals["get-shortcut-label-for"]=function(e,t,n){return Daria.Shortcuts.getShortcutLabelFor(e,t,n)},yr.externals["get-current-page"]=function(){return ns.page.current.page},yr.externals["get-current-page-params"]=function(){return yr.object2nodeset(ns.page.current.params)},yr.externals["get-current-page-param"]=function(e){return ns.page.current.params[e]},yr.externals["is-2pane"]=Daria.is2pane,yr.externals["is-3pane"]=Daria.is3pane,yr.externals["is-message-page"]=Daria.isMessagePage,yr.externals["is-folders-tab-page"]=Daria.isFoldersTabPage,yr.externals["is-folder"]=function(t,n){return!(!t||!n)&&(i(),e.isFolder(t,n))},yr.externals.avatar=function(e){return Daria.Recipients.add(e)},yr.externals["head-avatar"]=function(e){return Daria.Recipients.addHeadAvatar(e)},yr.externals["should-show-checkbox-inside-userpic"]=Daria.UISettings.shouldShowCheckboxInsideUserpic,yr.externals["get-labels-by-lid"]=function(e){i();var n=yr.nodeset2data(e);"string"==typeof n&&(n=[n]);for(var r=[],o=0,a=n.length;o<a;o++){var s=t.getLabelById(n[o]);if(s){var l=yr.object2nodeset(s)[0];l.name="label",r.push(l)}}return r},yr.externals["can-use-pins-by-params"]=function(e){return Daria.messages.checkUsePinsByParams(yr.nodeset2data(e))},yr.externals["can-show-pin-controls-by-params"]=Daria.messages.canShowPinControlsByParams,yr.externals["has-attachment-preview"]=function(e){return function(e){var t=e.url,n=e["preview-supported"]||e["preview-src"],r="image"===e.class,i=_.includes([],e.class);return(!t||n)&&(r&&n||i)}(yr.nodeset2data(e))},yr.externals["get-count-attachments-to-show"]=function(e){var t=yr.nodeset2data(e);return(t=_.isArray(t)?t:[t]).length>3?3:t.length},yr.externals["get-message-presentation-by-fid"]=function(e,t){var n=yr.nodeset2data(e)||{},r={ids:n.mid,fid:t||ns.page.current.params.current_folder||n.fid},i=ns.Model.get("message-presentation",r);return i&&i.isValid()&&i.getData()?yr.object2nodeset(i.getData()):null},yr.externals["get-browser-notifications-permission"]=function(){return Daria.PushManager.permission()},yr.externals["has-browser-notifications-support"]=function(){return Daria.PushManager.compatible}}(),yr.externals["show-priority-label"]=function(){return Daria.showPriorityLabel()},yr.externals["select-messages-direct-view"]=function(e){var t=yr.nodeset2data(e),n=Daria.getDirectBlockLayoutInfo("messages-direct").id,r=yr.object2nodeset(t[n]);return r[0].name=n,r[0].parent=e[0],r},yr.externals["repeat-str"]=_.repeat,yr.externals["are-folders-tabs-enabled"]=function(){return Daria.areFoldersTabsEnabled()},yr.externals["are-compact-folder-tabs-enabled"]=function(){return Daria.areCompactFolderTabsEnabled()},yr.externals["is-priority-tab-available"]=function(){return Daria.isPriorityTabAvailable()},yr.externals["is-priority-tab"]=function(){return Daria.isPriorityTab()},yr.externals["is-attachments-line-design"]=function(){return Daria.isAttachmentsLineDesign()},yr.externals["is-attachments-tab-enabled"]=function(){return Daria.isAttachmentsTabEnabled()},yr.externals["is-compact-messages-list"]=function(){return Daria.CompactMode.isCompactMessagesList()},yr.externals["get-compact-messages-list-value"]=function(){return Daria.CompactMode.getCompactMessagesListValue()},yr.externals["is-compact-header"]=function(){return Daria.CompactMode.isCompactHeader()},yr.externals["get-compact-header-value"]=function(){return Daria.CompactMode.getCompactHeaderValue()},yr.externals["current-theme"]=function(){return ns.Model.get("themes").getCurrentThemeName()},yr.externals["has-midgets"]=o.hasMidgets,yr.externals["is-priority-on"]=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_priority_stuff")),n=yr.nodeset2data(e),r=ns.Model.get("labels").getPriorityLID();return Boolean(t&&r&&n.lid.includes(r))},yr.externals["is-compact-left-column"]=function(){return Daria.resize.isWithCompactLeftColumn},yr.externals["get-label-colors"]=function(e){return yr.object2nodeset(Object(i.a)(yr.nodeset2data(e)))},yr.externals["get-new-label-color"]=function(e){return yr.object2nodeset(Object(i.a)({color:yr.nodeset2data(e)}))},yr.externals["is-foreign-mailbox"]=function(){return Boolean(Object(a.getMailboxUid)())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(804);yr.externals["get-attach-link"]=r.a,yr.externals["has-attach-image"]=r.c},function(e,t){!function(){yr.externals["url-params"]=function(e,t,n){e||(e=ns.page.current.params),t=$.makeArray(t),n=$.makeArray(n),t.push("threaded");var r=[];for(var i in e)!e.hasOwnProperty(i)||t.length&&-1!==t.indexOf(i)||n.length&&-1===n.indexOf(i)||r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?r.join("&")+"&":""},yr.externals["url-content-folder"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"",e.symbol?"#"+e.symbol+t:"#folder/"+e.fid+t},yr.externals["url-content-tab"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"","#tabs/"+e.id+t},yr.externals["url-content-label"]=function(e,t){return e=yr.nodeset2data(e),t=t?e.lid?"?":"&":"",e.lid?"#label/"+e.lid+t:"#messages?goto=all&extra_cond="+e.symbol+t},yr.externals["url-content-message"]=function(e,t){return e=yr.nodeset2data(e),Daria.Page.generateUrl.contentMessage(e,t)},yr.externals["url-content-sort"]=function(e,t){return Array.isArray(e)&&(e=yr.nodeset2scalar(e)),Array.isArray(t)&&(t=yr.nodeset2scalar(t)),function(){var e=ns.page.current.params,t=[];if("only_atta"===e.extra_cond)t.push("#attachments?");else if("only_new"===e.extra_cond)t.push("#unread?");else{var n=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](n,!0))}return t.push(yr.externals["url-params"](e,["current_folder","sort_type","page_number","extra_cond","goto","currentDateId","nextDateId","prevDateId"])),t.join("")}()+"sort_type="+e+("asc"===t?"1":"")+"&"},yr.externals["page-url-prefix"]=function(){return function(){var e=ns.page.current.params,t=[];if(e.tabId){var n=yr.externals["get-tab-by-id"](e.tabId);t.push(yr.externals["url-content-tab"](n,!0))}else if(e.current_folder){var r=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](r,!0))}else if(e.current_label){var i=yr.externals["get-label-by-lid"](e.current_label);t.push(yr.externals["url-content-label"](i,!0))}else e.thread_id?t.push("#thread/"+e.thread_id+"?"):"search"===e.search?t.push("#search?request="+encodeURIComponent(e.request)+"&"):"only_new"===e.extra_cond?t.push("#unread?"):"only_atta"===e.extra_cond?t.push("#attachments?"):"all"===e.goto?t.push("#all?"):t.push("#messages?");return t.join("")}()+function(){var e=ns.page.current.params,t=[];e.current_folder?(t=["ids","thread_id","page_number","current_folder","datePager","mrange","pager_top","currentDateId","prevDateId","nextDateId","tabId"],Daria.is2pane()&&t.push("extra_cond")):t=e.current_label?["ids","thread_id","page_number","current_label"]:e.thread_id?["ids","thread_id","page_number"]:"search"===e.search?["ids","thread_id","page_number","search","request"]:"only_new"===e.extra_cond||"only_atta"===e.extra_cond||"all"===e.goto?["ids","thread_id","page_number","extra_cond","goto"]:["ids","thread_id","page_number","pager_top"];return yr.externals["url-params"](e,t)}()}}()},function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=function e(t,n){this.options=$.extend({},e.defaults,n),this.options.showDoubleSizedContacts&&(this.options.suggestClass+=" mail-Suggest_size_double"),this.cache={},this.currentContent=[],this.currentTerm="",this._janeEvents={},this.dontClose=!1,this.isInputFieldBlur=!1,this.$document=$(document),this.changeInputField(t,!0)};no.extend(e.prototype,ns.Events),e.defaults={suggestClass:"nb-island _nb-fly-island _nb-suggest-container _nb-s-suggest mail-Suggest",handlers:{},cacheSize:50,multiple:!1,multipleSeparator:",",valuePrefix:"",minLength:0,delay:0,autoFocus:!0,getPositionNode:_.noop},e.extractLast=function(e,t){return e.split(t).pop()},e.mixPrivateMethodWithOption=function(e,t,n){return $.map(n,function(n){var r="_"+n,i=e[r],o=t[n];$.isFunction(e[r])&&($.isFunction(o)?o.isMixed||(t[n]=function(){o.apply(this,arguments),i.apply(e,arguments)}):t[n]=function(){i.apply(e,arguments)},t[n].isMixed=!0)}),t},e.prototype.changeInputField=function(e,t){return t||this.destroy(),this.$inputField=$(e),this.inputField=this.$inputField[0],this.inputField&&"object"===n(this.inputField)&&1===this.inputField.nodeType&&this.init(),this},e.prototype.init=function(){return this.$inputField.addClass("_init"),this.$inputField.attr({"data-nb":"suggest","data-class-suggest":this.options.suggestClass}),this.nbSuggest=nb.block(this.inputField),this.setOptions(this.options).bindEvents(),this.nbSuggest.$jUI.suggest({open:function(){this._opened||(this._opened=!0,this.trigger("open"))}.bind(this),close:function(){this._opened&&(this._opened=!1,this.trigger("close"))}.bind(this)}),this},e.prototype.isOpen=function(){return Boolean(this._opened)},e.prototype.setOptions=function(t){if(t=t||{},$.extend(this.options,t),e.mixPrivateMethodWithOption(this,this.options,["source","search","select","focus","response","open","close"]),this.nbSuggest){var n=this.options.getPositionNode();n&&$.extend(!0,this.options,{position:{of:n}}),this.nbSuggest.setOption(this.options)}return this.options.multiple&&(this.options.multipleSeparatorRegExp=new RegExp(this.options.multipleSeparator+"\\s*")),this},e.prototype.show=function(e){return this.nbSuggest&&(e||(e=this.nbSuggest.getValue()),this.nbSuggest.search(e)),this},e.prototype.hide=function(){return this.dontClose=!1,this.abort(),this.nbSuggest&&this.nbSuggest.close(),$.isFunction(this.options.hide)&&this.options.hide.apply(this.inputField,arguments),this},e.prototype.bindJaneEvent=function(e,t){var n=this[t].bind(this);return this._janeEvents[e]=n,ns.events.on(e,n),this},e.prototype.unbindJaneEvent=function(e){return ns.events.off(e,this._janeEvents[e]),delete this._janeEvents[e],this},e.prototype.bindEvents=function(){if(Modernizr.msie){var e=this,t=this.$inputField.data("uiSuggest"),n=t.close;t.close=function(){e.dontClose||n.apply(this,arguments)},this.$document.on("mousedown.daria-suggest",this._ieDocumentMousedown.bind(this)),this.$inputField.on("blur.daria-suggest",this._ieInputBlur.bind(this))}return this},e.prototype.focusedSelect=function(){var e=$.Event("keydown",{which:Jane.Common.keyCode.ENTER,keyCode:Jane.Common.keyCode.ENTER});this.currentContent.length?this.$inputField.trigger(e):this.options.select(e,{item:{email:this.currentTerm,value:this.currentTerm}})},e.prototype._isSuggestDropDown=function(e){var t=this.nbSuggest.$suggest;return t[0]===e.target||$.contains(t[0],e.target)},e.prototype._ieDocumentMousedown=function(e){var t=this._isSuggestDropDown(e);this.dontClose=t,this.isInputFieldBlur&&!t&&this.hide()},e.prototype._ieInputBlur=function(){this.isInputFieldBlur=!0},e.prototype.getValueWithPrevious=function(){var e="";if(this.nbSuggest&&(e=this.nbSuggest.getValue(),this.options.multiple)){var t=[].concat(this.options.previousValues);t.push(e),e=t.join(this.options.multipleSeparator+" ")}return e},e.prototype._convertHandlers=function(e){var t=this.options.extraParams;return $.map(this.options.handlers,function(n,r){return{name:r,params:$.extend({},t,n,e)}})},e.prototype._parseHandlersData=function(e,t){var n=this,r=[],i=e.length;return $.each(t,function(t,o){if(t>=i)return!1;var a;(a=i>1?o[0].models:o.models)||(a=[{}]),a[0].data||(a[0].data={});var s=n.parse(e[t].name,a[0].data);r=r.concat(s)}),r},e.prototype._getTerm=function(t){return this.options.multiple&&(t=e.extractLast(t,this.options.multipleSeparatorRegExp)),t},e.prototype._source=function(e,t){var n=this,r=this._getTerm(e.term);if(n.currentTerm=r,!(r.length<this.options.minLength)){var i={q:r},o=this._convertHandlers(i);if(this.abort(),o.length){this.requests=[];var a=[];$.map(o,function(e){var t={};$.each(e.params,function(e,n){t[e+".0"]=n}),e.params=t,a.push(e.params)});var s=JSON.stringify(a);a=[];var l=this.getCache(s);l&&l.length>0?t(l):($.map(o,function(e){var t=$.url(Daria.api.models),r={"_model.0":e.name};ns.request.addRequestParams(r),t.addParams(r);var i=$.ajax({type:"get",dataType:"json",jsonp:"jsonp",scriptCharset:"utf-8",cache:!1,url:t.toString(),data:e.params});n.requests.push(i)}),$.when.apply($,this.requests).then(function(){var e=n._parseHandlersData(o,arguments);n.setCache(s,e),t(e)}))}else t([])}},e.prototype._select=function(e,t){this.trigger("select",e,t);for(var n,r=e;r&&"click"!==r.type;)r=r.originalEvent;if(r&&(n=$(r.target).hasClass("nb-button")?$(r.target):$(r.target).parents(".nb-button")).length>0&&(t.button=n,this.trigger("button-click",r,t)),this.dontClose=!1,!e.isDefaultPrevented()){var i=this.nbSuggest.getValue(),o=t.item.value;this.options.multiple&&((o=i.split(this.options.multipleSeparatorRegExp)).pop(),o.push(t.item.value),o.push(""),o=o.join(this.options.multipleSeparator+" ")),this.nbSuggest.setValue(o),e.preventDefault(),this.trigger("value-set",e,t,o)}},e.prototype._focus=function(e){e.preventDefault()},e.prototype._response=function(e,t){t.content.length?this.currentContent=t.content:this.currentContent=[];var n=this.getValueWithPrevious();if(this.options.multiple&&n.split(this.options.multipleSeparator).length>1){var r=$.grep(t.content,function(e){return-1===n.indexOf(e.value)});t.content.length=0,t.content.push.apply(t.content,r)}},e.prototype._search=_.noop,e.prototype._open=_.noop,e.prototype._close=function(){this.dontClose=!1,this.isInputFieldBlur=!1,this.currentContent=[],this.currentTerm=""},e.prototype.abort=function(){return $.isArray(this.requests)&&$.map(this.requests,function(e){$.isFunction(e.abort)&&e.abort()}),delete this.requests,this},e.prototype.destroy=function(){var e=this;return this.abort(),this._close(),this.nbSuggest&&(this.nbSuggest.destroy(),this.nbSuggest=null),this.$inputField&&this.$inputField.off(".daria-suggest"),this.$document.off(".daria-suggest"),$.each(this._janeEvents,function(t){e.unbindJaneEvent(t)}),this.off(),this},e.prototype.parse=function(e,t){return t},e.prototype.setCache=function(e,t){return Object.keys(this.cache).length>=this.options.cacheSize&&this.clearCache(),this.cache[e]=t,this},e.prototype.getCache=function(e){return this.cache[e]},e.prototype.clearCache=function(){return this.cache={},this},Daria.Suggest=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(583),i=n.n(r),o=n(588),a=n(137),s=(n.n(a),n(349));n.n(s);function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var e=Daria.Constants.CONTACTS.DELIMITER,t=function(e,t){t&&_.isFunction(t.exclude)&&(this._getContactsToExclude=t.exclude,delete t.exclude),t=$.extend({countMax:11,timeoutOfCopyToSms:!1,noSmsButton:!0,renderItem:this._renderItem.bind(this),showDoubleSizedContacts:Daria.showDoubleSizedContacts()},t),this.countOfClick=0,this.showAbookPopupButton=t.showAbookPopupButton,this.prevTerm="",this.hasBeenShown=!1,this.preventLog=!1,Daria.Suggest.call(this,e,t)};Daria.extend(t,Daria.Suggest);var n=t.superClass;t.prototype.init=function(){return this.$inputField.closest(".js-compose-mail-input").hasClass("js-compose-mail-message-input")&&(this.options.noSmsButton=!0),n.init.apply(this,arguments)},t.prototype.bindEvents=function(){return this.$inputField.on("keydown.daria-suggest keypress.daria-suggest",this._keydownEvent.bind(this)).on("click.daria-suggest",this._clickEvent.bind(this)),n.bindEvents.apply(this,arguments)},t.prototype._keydownEvent=function(e){var t=Jane.Common.keyCode;if(e.which!==t.ENTER){var n=!1;if(","===$.trim(this.options.multipleSeparator))switch(e.which){case t.COMMA_CHAR:case t.SEMI_CHAR:n=!0;break;case t.SPACE_CHAR:n=this.currentContent.length<=1}n&&this.currentFocused&&(e.preventDefault(),this.focusedSelect(),this.currentFocused=null)}},t.prototype._clickEvent=function(){this.show(),this.countOfClick++},t.prototype._renderItem=function(e){this.hasBeenShown=!0;var t=this,n=e.item,r=$.extend({noSmsButton:!1},this.options);if("label"!==n.type){var i=!0;$.each(["name","email","phone"],function(e,r){var o="highlighted-"+r;i?(n[o]=t._highlight(n[r],t.currentTerm),-1!==n[o].indexOf("js-suggest-highlight")&&(i=!1)):n[o]=_.escape(n[r]),n[r]=_.escape(n[r])})}if(n.email){var o=ns.Model.get("account-information").getAllUserEmails();$.inArray(n.email,o)>-1&&(r.noSmsButton=!0)}return Daria.showDoubleSizedContacts()&&(r.doubleHeight=!0),n.options=r,yr.run("mail",e,"compose-email-suggest-item")},t.prototype._isTemplate=function(){var e=ns.page.current.params,t=jpath(Daria,".composeParams.save_symbol")[0]===a.WellKnownFolderSymbol.TEMPLATE,n=e.save_symbol===a.WellKnownFolderSymbol.TEMPLATE,r=!1;if(e.ids){var i=ns.Model.get("message",{ids:e.ids}),o=ns.Model.get("folders").getFidBySymbol(a.WellKnownFolderSymbol.TEMPLATE);r=i.inFolder(o)}return t||n||r},t.prototype._isInnerEvent=function(e){return!e.originalEvent},t.prototype._isKeydown=function(e){return Boolean(e.originalEvent&&"keydown"===e.originalEvent.type)},t.prototype._isDownOrUpKey=function(e){var t=Jane.Common.keyCode;return this._isKeydown(e)&&(e.originalEvent.which===t.DOWN||e.originalEvent.which===t.UP)},t.prototype._search=function(e){return this.searchEvent=e,n._search.apply(this,arguments)},t.prototype._source=function(e){this.preventLog?this.preventLog=!1:this.prevTerm=this.currentTerm;var t,r=this.searchEvent,i=this._getTerm(e.term);this._getContactsToExclude&&(t=this._getContactsToExclude());var o={"abook-suggest":_.extend({},t,{climit:35,glimit:5,useAbook:"on",alternateOrder:Object(s.hasFeature)(s.Features.WEB_SMART_DISPLAY_NAME)?"1":""})};return i||this._isTemplate()||(this._isInnerEvent(r)||this._isDownOrUpKey(r)?(o["abook-suggest"].popular=!0,this.showAbookPopupButton&&!this._getTerm(e.term)?Daria.showDoubleSizedContacts()?o["abook-suggest"].climit=4:o["abook-suggest"].climit=5:o["abook-suggest"].climit=10):o={}),this.options.handlers=o,n._source.apply(this,arguments)},t.prototype._select=function(e,t){var r=t.item,i="abook-popup-button"===r.type;if(this.log({pos:_.findIndex(this.currentContent,t.item),count:this.currentContent.length,search_text:i?"all-contacts":t.item.email,suggest_used:"yes",suggest_show:"yes"}),i)return n._select.apply(this,arguments);var o=this.options.handlers["abook-suggest"];o&&o.popular&&(Daria.composeParams=Daria.composeParams||{},Daria.composeParams["popular-suggest-general"]||(Daria.composeParams["popular-suggest-general"]=[]),Daria.composeParams["popular-suggest-general"].push(r.email),Jane.c(["popular_suggest","    "]));var a={q:this.currentTerm,section:"group"===r.type?"group":"email",id:r.id||r.mcid||r.cid,title:r.title||r.email};return ns.forcedRequest("abook-suggest-report",a),n._select.apply(this,arguments)},t.prototype._focus=function(e,t){return this.currentFocused=t.item,n._focus.apply(this,arguments)},t.prototype._response=function(e,t){n._response.apply(this,arguments),1===t.content.length&&"label"===t.content[0].type&&(t.content.length=0)},t.prototype._open=function(){jpath(this,".options.handlers.abook-suggest.popular")[0]&&Jane.c(["popular_suggest","   "]),n._open.apply(this,arguments),this._updateGroupView()},t.prototype._close=function(){this.countOfClick=0,n._close.apply(this,arguments)},t.prototype._updateGroupView=function(){$(this.nbSuggest.$suggest).find(".js-group-data").each(function(){if(this.clientWidth<this.scrollWidth){var e=$(".js-group-more",this.parentNode)[0];e&&$(e).show().css("min-width",e.scrollWidth)}})},t.prototype._highlight=function(e,t){if(!e)return"";var n="/%strong-"+String($.now())+String(Math.round(1e3*Math.random())),r=i()(n);r=new RegExp(r+"(.*)"+r,"i"),t=i()(t);var o=new RegExp("("+t+")","i");return e=e.replace(o,n+"$1"+n),(e=_.escape(e)).replace(r,'<strong class="js-suggest-highlight">$1</strong>')},t.prototype.parse=function(e,t){switch(e){case"abook-suggest":return this.parseAbookSuggest(t)}return[]},t.prototype.parseAbookSuggest=function(t){var n=this;if("object"!==l(t)||!t)return[];$.isArray(t.contacts)||(t.contacts=[]),$.isArray(t.groups)||(t.groups=[]);var r=!0,i=$.map(t.contacts,function(e){var t="contact";e.popdom?t="popdom":r=!1,!e.ya_directory||"group"!==e.ya_directory.type&&"department"!==e.ya_directory.type||(t="wsContainer");var i="";return Array.isArray(e.phones)?e.phones[0]&&"object"===l(e.phones[0])?e.phones[0].value&&(i=e.phones[0].value):e.phones[0]&&(i=e.phones[0]):"string"==typeof e.phones&&(i=e.phones),(e=$.extend({},e,{type:t,phone:i})).value=n.parseValue(e),e}),o=$.map(t.groups,function(t){return r=!1,(t=$.extend({},t,{type:"group",name:t.title?t.title:""})).email=$.map(t.contacts,function(e){return e.email}).join(e),t.value=n.parseValue(t),t}),a=[].concat(i,o);return this.showAbookPopupButton&&!this.currentTerm&&a.length&&a.push({type:"abook-popup-button"}),r&&a.length&&(a=[].concat({type:"label",name:i18n("%Suggest_notify")+":"},a)),a},t.prototype.parseValue=function(t){var n,r=this;"group"===t.type?n=$.map(t.contacts,function(e){return r.formatContact(e)}).join(e):n=this.formatContact(t);return n},t.prototype.formatContact=function(e){return Jane.FormValidation.obj2contact(e)},t.prototype.log=function(e){this.preventLog||("number"==typeof(e=Object.assign({project:"search_mail",action:"suggest-compose",product:o.b,uid:Daria.uid,filed:this.options.fieldType,field:this.options.fieldType,suggest_used:"",suggest_show:this.hasBeenShown?"yes":"no",pos:"",count:"",user_text:this.currentTerm||this.prevTerm,search_text:""},e)).pos&&(e.pos=-1===e.pos?"":e.pos+1),e.user_text=e.user_text?encodeURIComponent(e.user_text):"",e.search_text=e.search_text?encodeURIComponent(e.search_text):"",Daria.searchClickCounter(_.pairs(e).map(function(e){return e.join("=")})),this.hasBeenShown=!1,this.prevTerm="",this.preventLog=!0)},Daria.Suggest.Contacts=t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349);n.n(r);!function(){var e=function(e,t){t=$.extend({noSmsButton:!0},t),Daria.Suggest.Contacts.call(this,e,t)};Daria.extend(e,Daria.Suggest.Contacts),e.prototype._source=function(){return this.options.handlers={"abook-suggest":{climit:35,glimit:5,phone:"must",useAbook:"on",alternateOrder:Object(r.hasFeature)(r.Features.WEB_SMART_DISPLAY_NAME)?"1":""}},Daria.Suggest.prototype._source.apply(this,arguments)},e.prototype.parse=function(e,t){return t&&$.isArray(t.groups)&&(t.groups=[]),Daria.Suggest.Contacts.prototype.parse.apply(this,arguments)},e.prototype.formatContact=function(e){return e.phone},Daria.Suggest.Phones=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(137),i=(n.n(r),n(346)),o=n(358).showSuccessMessage,a=n(359).StatuslineName;Daria.Folder=function(e){var t="boolean"!=typeof(e=e||{}).hotkey||e.hotkey;return{validate:function(){if(!this.folderName)return ns.events.trigger("folder.error",i18n("%Setup_Filters_Create_Error_Empty")),!1;var t,n=this.parent_folder&&this.parent_folder.data("fid")||e.parent_id,i=ns.Model.get("folders");t=n&&n!==i.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)?i.getFolderByName(this.folderName,n):i.getFolderByName(this.folderName);var o=i.getFolderById(e.id);if(t&&t.fid!==n&&(!o||o.name!==this.folderName)){var a=t.symbol?i18n("%Folders_System_Msg",this.folderName):i18n("%Folders_Exists_Msg");return ns.events.trigger("folder.error",a),!1}return!0},setName:function(e){this.folderName=e},bindEvents:function(){var e=this,n=this.context.find(".b-teaser"),r=this.context.find(".b-form-layout_filters-simple");this.filter&&(this.filter.form=r.find("form"));var i={cls:"b-popup__field_error",active:!1,show:function(t){this.notification=e.context.find(".b-notification__text"),this.row=this.notification.closest(".b-table"),t&&(this.notification.text(t),this.row.addClass(this.cls),this.active=!0)},hide:function(){this.row.removeClass(this.cls),this.active=!1,ns.events.trigger("folder.error.hide")}};ns.events.on("folder.error",function(t,n){i.show(n),e.input.focus()}),this.context.on("click",".js-filter-open",function(){Jane.c(["-  ","   "]),n.fadeOut(150,function(){r.fadeIn(200,function(){var e=r.find("input:visible").eq(0).focus(),t=Daria.Autocompleter.getContact();t.setOptions({multiple:!1,formatResult:Daria.formatAutocompleteResult}),t.bindField({field:e,focus:1}),ns.events.trigger("folder.filter.toggle",!0)})})}),this.context.on("click",".js-filter-close",function(){Jane.c(["-  ","   "]),r.fadeOut(150,function(){n.fadeIn(200,function(){e.input.focus(),ns.events.trigger("folder.filter.toggle",!0)})})}),this.context.on("click",".js-filter-link",function(){return e.filter=!1,e.success=function(e){ns.page.go("#setup/filters-create/folder="+e)},e.onCreate(),!1}),this.context.on("keyup",".js-input-name",function(n){var r=$.trim(this.value);r!=e.folderName&&i.active&&i.hide(),e.setName(r),13===n.which&&t&&e.onCreate()}),this.context.on("click",".js-dropdown-folder-labels",function(){var e=$(window).height()-$(this).rect().top-40;$(".js-folders-list").css("max-height",e).scrollTop(0)})},filter:Daria.FilterSimpleCreatePopup(),onCreate:function(){var e=this;if(this.setName($.trim(this.input[0].value)),this.validate()){Daria.Dialog.close();var t=null;this.parent_folder&&this.parent_folder[0]&&(t=this.parent_folder[0].getAttribute("data-fid")||null),this.create(function(t){e.filter&&(e.filter.params.move_folder=t,e.filter.create())},null,t)}},init:function(){this.input=$("input[name=folder_name]",this.context),this.parent_folder=$(".js-selink__folder",this.context),e.name&&this.input.val(e.name),this.bindEvents(),this.open()}}},Daria.Folder.REMOVABLE_SYMBOLS={archive:!0},Daria.Folder.remove=function(e){var t,n=Object(i.getMailboxUid)(),s=ns.Model.get("folders",{mailboxUid:n}),l=s.getFolderById(e),c=_.escape(l.name),u=Number(l.count);s.getSubfolders(e).length&&(t=function e(t){for(var n=s.getSubfolders(t),r=0,i=0;i<n.length;i++){var o=n[i];r+=Number(o.count),s.getSubfolders([o.fid]).length&&(r+=e(o.fid))}return r}(e));var d=ns.Model.get("filters").getForFolder(e),f=[],p=[];$.each(d,function(e,t){jpath(t,'.condition[.div == "X-yandex-rpop-id"]').length?f.push(t):p.push(t)});var g,m=p.length,h=f.length,v=ns.page.current.params.current_folder,b=v===e||ns.Model.get("folders",{mailboxUid:n}).hasChildByFid(e,v),y=function(t){var i=[{id:"do-folder-remove",params:{fid:e,force:t?"yes":"",mailboxUid:n}},{id:"folders",params:{mailboxUid:n}}];Daria.Folder.REMOVABLE_SYMBOLS[l.symbol]&&i.unshift({id:"do-folder-set-symbol",params:{fid:e,symbol:"",mailboxUid:n}}),ns.forcedRequest(i).then(function(t){"async"===(t[0].data.taskType||"sync")&&o(a.FolderDelete,i18n("%Message_Delete_Folder_async")),ns.events.trigger("daria:folder-remove-done",e),b&&ns.page.go(ns.router.generateUrl("messages",{current_folder:s.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)}))},function(){ns.events.trigger("daria:folder-remove-fail",e)})},S=function(){for(var e=[],t=0;t<m;t++){var n=p[t];e.push(' <a href="#setup/filters-create/id='+n.filid+'">'+_.escape(n.name||i18n("%Setup_Filters_default_rule_name"))+"</a><br/>")}return e.join("")},w=[],O=i18n("%Folders_Remove_Button");u&&m?(w.push(i18n("%Folders_Remove_Messages_Filters_Body_1",u,m,c)),w.push(S()),w.push(i18n("%Folders_Remove_Messages_Filters_Body_2",u,m)),O=i18n("%Folders_Remove_Messages_Filters_Button",u,m)):u&&t?(w.push(i18n("%Folders_Remove_Messages_Submessages_Body",u+t,c)),g=u+t>1?2:1,O=i18n("%Folders_Remove_Messages_Button",g)):u?(w.push(i18n("%Folders_Remove_Messages_Body",u,c)),g=u>1?2:1,O=i18n("%Folders_Remove_Messages_Button",g)):t?(w.push(i18n("%Folders_Remove_SubMessages_Body",t,c)),g=t>1?2:1,O=i18n("%Folders_Remove_Messages_Button",g)):m&&(w.push(i18n("%Folders_Remove_Filters_Body_1",m)),w.push(S()),w.push(i18n("%Folders_Remove_Filters_Body_2",m)),O=i18n("%Folders_Remove_Filters_Button",m)),h&&w.push(i18n("%Folders_Remove_Collectors_Body",h,u||m)),u||m||h||t?Daria.Dialog.confirm({title:i18n("%Folders_Remove_Title"),width:450,body:w.join(""),additionalClass:"b-setup-popup",isMaxHeight:!0,okValue:O,okHandler:function(){(y(!0),m||h)&&ns.Model.get("filters").getForFolder(e).forEach(function(e){Daria.Filter.removeById(e.filid)})}}):y()},Daria.Folder.markRead=function(e,t){ns.Model.get("folders",{mailboxUid:t}).getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach(function(e){ns.Model.invalidate(e)}),ns.forcedRequest([{id:"do-folder-mark-read",params:{fid:e,mailboxUid:t}}]).fail(function(n){return Daria.MOPS.registerOperationFail("mark",{fid:e,mailboxUid:t},n,"do-folder-mark-read")}),Daria.MOPS.markByFid("mark",e))},Daria.Folder.createFilter=function(e){var t=$(Jane.tt("setup:js-setup-folders-dialog-folder-filter",{fid:e,single:null}));t.on("click",".js-filter-link",function(){Jane.c([" - ","","   "])});var n=Daria.FilterSimpleCreatePopupSingle({form:t.find("form")});Daria.Dialog.open({title:i18n("%Setup_Filters_Simple_title_folder"),body:t,buttons:[{name:"submit",value:i18n("%Setup_filters-create_title"),onclick:function(){return Jane.c([" - ","","  "]),n.create()}},{name:"cancel"}],oncancel:function(){Jane.c([" - ","","  "])},width:432,onopen:function(){Jane.c([" - ",""," -     "]),t.find("input[name=field3]:eq(0)").focus(),n.bindAutocompleter()}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(136),i=(n.n(r),n(625)),o=n(137);n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={messageByMid:function(e){return delete e.tid,s.messageById(e)},messageByTid:function(e){return delete e.mid,s.messageById(e)},messageById:function(e){var t=e.tid||e.mid;if(t){var n=ns.Model.get("message",{ids:t});if(n.isValid()){var r={dlid:n.get(".dlid"),dtype:n.get(".dtype"),socialLid:n.getSocialLID()};return e.mid&&(r.fid=n.get(".fid")),r}}},messageBySearchId:function(e){if(e.mid){var t=ns.Model.get("filter-search",{mids:e.mid});return t.isValid()?{fid:t.select(".envelopes.fid")[0],dlid:t.select(".envelopes.dlid")[0],dtype:t.select(".envelopes.dtype")[0],socialLid:t.getSocialLID()}:void 0}}},l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._request=Object(r.debounce)(function(){t._makeRequest()},100),this._extractData=function(e){var n=e[0],i=n.getRecipients();for(var o in i){var a=t._cache[o]||{},s=Object(r.extend)({},a,t._normalizeRecipientData(i[o],a.isGroup,a.isWsContainer));t._cache[o]=s,t._validityCache[t._extractEmail(s.email)]=s.valid}t._updateAvatarsViews(),n.destroy()},this._cache={},this._validityCache={},this._queue=[],this._requested={},this._recipients={},this._shouldUpdate=[],this._retryCount=0}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"_makeRequest",value:function(){var e=this,t=Object.keys(this._requested),n=this._queue.filter(function(e){return-1===t.indexOf(e)}).slice(0,256);if(!n.length)return vow.resolve();if(this._retryCount<=0)return this._queue=[],vow.reject("no-more-retries");var r=ns.forcedRequest("recipients",{recipientsIds:n}).then(this._extractData).fail(function(){e._retryCount--}).then(function(){if(n.forEach(function(t){delete e._requested[t];var n=e._queue.indexOf(t);-1!==n&&e._queue.splice(n,1)}),e._queue.length)return e._makeRequest()});return n.forEach(function(t){return e._requested[t]=r}),r}},{key:"_resetRetryCount",value:function(){this._retryCount=3}},{key:"_getCacheId",value:function(e,t){return e||t?t?'"'.concat(t,'" <').concat(e,">"):"<".concat(e,">"):""}},{key:"addHeadAvatar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.email,r=e.name,i=e.showUserAvatar,o=void 0===i||i,a=this._cache[this._getCacheId(n,r)],s=this._cache[this._getCacheId(n,n)];return!a&&s&&o&&s.url&&(e.name=n),this.add(e,t)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.name,i=void 0===n?"":n,o=e.email,a=void 0===o?"":o,s=e.size,l=e.id,c=e.className,u=e.target,d=e.title,f=e.isGroup,p=void 0!==f&&f,g=e.isWsContainer,m=void 0!==g&&g,h=e.showUserAvatar,v=void 0===h||h,b=e.href,_=e.mid,y=e.tid,S=e.participantType,w=e.single,O=e.fallbackAvatar;l=l||Object(r.uniqueId)("recipient-"),s=-1!==Daria.Constants.AVATARS.VALID_SIZES.indexOf(parseInt(s,10))?s:Daria.Constants.AVATARS.DEFAULT_SIZE,Array.isArray(a)&&(a=a[0]),Array.isArray(i)&&(i=i[0]),i=i.replace(/"/g,""),p&&(a="".concat(a,"@yamail-group"));var M=this._getCacheId(a,i);if(this._recipients[l])t&&(this._shouldUpdate.push(l),M&&-1===this._queue.indexOf(M)&&this._queue.push(M),this._cache[M]&&delete this._cache[M]);else{var x=this._getMessageInfo({mid:_,tid:y,participantType:S,single:w});if(this._shouldUpdate.push(l),this._recipients[l]=Object(r.extend)({email:a,name:i,size:s,id:l,className:c,cacheId:M,target:u,title:d,showUserAvatar:v,href:b},this._createHref({href:b,message:x,title:d,participantType:S,email:a})),M&&-1===this._queue.indexOf(M)&&!this._cache[M]&&this._queue.push(M),!this._cache[M]||!this._cache[M].normalized){var E=this._normalizeRecipientData(this._cache[M],p,m,O);this._cache[M]=E,this._validityCache[a]=E.valid}}return this._resetRetryCount(),this._request(),this._getAvatarView(l)}},{key:"requestContacts",value:function(e){var t=this,n=!1,r=[];return e.forEach(function(e){var i=t._getCacheId(e.email,e.name),o=-1!==t._queue.indexOf(i),a=t._cache[i],s=t._requested[i],l=a&&t._cache[i].normalized;o||s||l||(t._queue.push(i),n=!0),s&&r.push(t._requested[i])}),n&&(this._resetRetryCount(),r.push(this._makeRequest())),vow.all(r)}},{key:"_normalizeRecipientData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=e.type,a=e.url;return Object(r.extend)({},e,{fallbackAvatar:i||this._getSocialavatarsUrl(t||n?"group":"person"),shortMono:!!e.mono&&1===e.mono.length,isGroup:t,isWsContainer:n,normalized:!0,url:"icon"===o?this._getSocialavatarsUrl(a):a})}},{key:"_getSocialavatarsUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.Config.socialavatarsUrl,"/v4/").concat(e,".svg").replace(Daria.Constants.HTTP_REG_EX,"")}},{key:"getRecipient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._recipients[e]||{};return"url"in t&&!t.url&&delete t.url,Object(r.extend)({},this._cache[t.cacheId]||{},t)}},{key:"isEmailValid",value:function(e){return this._validityCache[e]}},{key:"getRecipientFromCache",value:function(e,t){return this._cache[this._getCacheId(t,e)]}},{key:"_getAvatarView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ns.renderString(Object(r.extend)({},this.getRecipient(e),{isIE:i.default.isIE()}),"js-avatars","mail")}},{key:"_updateAvatarsViews",value:function(){var e=this,t=this._shouldUpdate.map(function(e){return"#".concat(e)}).join(",");$(t).each(function(t,n){var r=$(n).closest(".js-bubble").get(0);if(r)Daria.BaseBubble.updateBubbleAtNode(r);else{var i=ns.html2node(e._getAvatarView(n.id));i&&n.parentElement.replaceChild(i.firstChild,n)}}),this._shouldUpdate=[],ns.events.trigger("daria:recipients:update")}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];[].concat(t).forEach(function(t){return e.add(e.getRecipient(t),!0)})}},{key:"cacheRecipient",value:function(e){var t=e.cacheId;delete e.cacheId,e.cacheKey=t,Daria.debug.enabled&&ns.assert(t,"Daria.Recipients.cacheRecipient","cacheId not specified for recipient"),this._cache[t]||(this._cache[t]=e,this._validityCache[this._extractEmail(e.email)]=e.normalized?e.valid:void 0)}},{key:"_getMessageInfo",value:function(e){var t=e.mid,n=e.tid,i=e.single,o=["messageByMid","messageBySearchId","messageByTid"],a={};return"from"===e.participantType&&n&&!i&&(o=o.reverse()),o.some(function(e){return a=s[e]({mid:t,tid:n})}),Object(r.isEmpty)(a)?{}:{fid:a.fid,dlid:a.dlid,dtype:a.dtype,isService:Boolean(a.dlid||a.dtype),serviceName:a.dlid||a.dtype&&a.dtype.name,socialLabel:a.socialLid&&ns.Model.get("labels").getLabelById(a.socialLid)}}},{key:"_createHref",value:function(e){var t,n,i=e.message,a=e.participantType,s=e.email,l=i.socialLabel,c=void 0===l?{}:l,u=i.fid,d=i.dtype,f=e.href,p=e.title;if(!1===f||!i)return{};if(Object(r.isEmpty)(c)){if(d&&d.sender&&24!==Number(d.id))t=ns.router.generateUrl("messages",{search:"search",type:d.id});else if(a&&u){var g={search:"search",scope:"to"===a?"hdr_to":"hdr_from",request:s};ns.Model.get("folders").isFolder(u,o.RecipientsSpecialFolders)&&(g.scope="hdr_to"),"hdr_to"===g.scope?(g.fid=u,n=i18n("%____")):n=i18n("%____"),t=ns.router.generateUrl("messages",g)}}else t=ns.router.generateUrl("messages",{current_label:c.lid}),n=c.title;return t&&(f=t),n&&!p&&!1!==p&&(p=n),{href:f,title:p}}},{key:"_extractEmail",value:function(e){var t=Jane.FormValidation.splitContacts(e);return t.length?t[0].email:e}}]),e}();Daria.Recipients=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),i=(n.n(r),n(4345));ns.View.define("loading-bar",{events:{"ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy","ns-page-before-load@show":"start","ns-page-after-load@show":"stop","ns-page-error-load@show":"stop","fake-loader@show":"refresh","beforeunload window@show":"onBeforePageUnload"},ctor:function(){var e=Object(r.hasFeature)(r.Features.WEB_REACT_MESSAGES_LIST)?300:200;this.start=_.debounce(this.start.bind(this),e)},yateModule:"mail",methods:{onHtmlInit:function(){this.progressBar=new i({node:this.node.querySelector(".js-loading-bar")}),this._refreshLock=!1},onHtmlDestroy:function(){this.progressBar.reset(),this.progressBar=null},start:function(){this._refreshLock?this._refreshLock=!1:this.progressBar.start()},stop:function(){this.progressBar.finish(),this.start.cancel()},refresh:function(){this.progressBar.start(),this._refreshLock=!0},onBeforePageUnload:function(){this.progressBar.reset()}}})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=0,o=100;e.exports=function(){function e(t){var n=t.node,r=t.steps,a=void 0===r?4:r,s=t.stepDuration,l=void 0===s?.5:s;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new Error("Progress bar must have element");this._steps=a,this._minStepDuration=l,this._maxStepDuration=2*l,this._go=!1,this._progress=i,this._progressLimit=o,this._progressTimeout=null,this._elem=n,this._makeStep()}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"_style",value:function(e){this._elem&&Object.assign(this._elem.style,e)}},{key:"_makeStep",value:function(){this._style({width:this._progress+"%"})}},{key:"_move",value:function(){var e=this;this._go&&(this._progress+=this._stepWidth,this._makeStep(),this._progressTimeout=setTimeout(function(){return e._move()},1e3*this._stepDuration))}},{key:"start",value:function(){var e=this;return this._go=!0,Promise.resolve().then(function(){return e.isInProgress()?e.reset():null}).then(function(){return e._move()})}},{key:"finish",value:function(){var e=this;if(this._go=!1,clearTimeout(this._progressTimeout),this.isInProgress())return this._progressLimit=o,this._progress=this._progressLimit,this._makeStep(),new Promise(function(t){setTimeout(function(){return e.reset().then(t)},1e3*e._minStepDuration)})}},{key:"reset",value:function(){var e=this;return clearTimeout(this._progressTimeout),this._progressLimit=o,this._progress=i,this._style({opacity:0,transitionDuration:0}),this._makeStep(),new Promise(function(t){setTimeout(function(){e._style({opacity:1,transitionDuration:"".concat(e._minStepDuration,"s")}),t()},1e3*e._minStepDuration)})}},{key:"isInProgress",value:function(){return this._progress!==i}},{key:"_stepWidth",get:function(){var e=this._progressLimit-this._progress,t=Math.floor(e/this._steps);return Math.floor(t/_.random(1,this._steps))}},{key:"_stepDuration",get:function(){return _.random(this._minStepDuration,this._maxStepDuration)}}]),e}()},function(e,t,n){var r={"./3pane-Attach.svg":4347,"./3pane-FolderOperations-Delete.svg":4348,"./3pane-FolderOperations-Read.svg":4349,"./3pane-FolderOperations-Selection.svg":4350,"./Abook-Birthday.svg":4351,"./Abook-Comment.svg":4352,"./Abook-Email.svg":4353,"./Abook-Filter.svg":4354,"./Abook-Group.svg":4355,"./Abook-Phone.svg":4356,"./Abook-at.svg":4357,"./Abook-calendar.svg":4358,"./Abook-staff.svg":4359,"./Abook-wiki.svg":4360,"./Add-Icon.svg":4361,"./AdvancedSearch_arrow.svg":4362,"./AdvancedSearch_attach.svg":4363,"./AdvancedSearch_calendar.svg":4364,"./AdvancedSearch_checkbox.svg":4365,"./AdvancedSearch_folder.svg":4366,"./AdvancedSearch_from.svg":4367,"./AdvancedSearch_important.svg":4368,"./AdvancedSearch_self.svg":4369,"./AdvancedSearch_service.svg":4370,"./AdvancedSearch_to.svg":4371,"./AdvancedSearch_unread.svg":4372,"./Arrow-Left.svg":4373,"./Attach-Download.svg":4374,"./Attach-DownloadBig.svg":4375,"./Attach-DownloadSmall.svg":4376,"./Attach-Download_Disk.svg":4377,"./Attach-Preview.svg":4378,"./Attach_Info.svg":4379,"./Attention.svg":4380,"./Avatar_avia.svg":4381,"./Avatar_hotels.svg":4382,"./Avatar_meeting.svg":4383,"./Avatar_pkpass.svg":4384,"./Avatar_recieved.svg":4385,"./Avatar_reminder.svg":4386,"./Avatar_warning.svg":4387,"./BeautifulEmail-Connected.svg":4388,"./BeautifulEmail-Disconnected.svg":4389,"./BeautifulEmail-Failed.svg":4390,"./BeautifulEmail-NoInfo.svg":4391,"./Clear-16.svg":4392,"./Close.svg":4393,"./Close16.svg":4394,"./CloseBold.svg":4395,"./Close_round.svg":4396,"./Collectors-Promo-Button_gmail.svg":4397,"./Collectors-Promo-Button_hotmail.svg":4398,"./Collectors-Promo-Button_mail.svg":4399,"./Collectors-Promo-Button_rambler.svg":4400,"./Collectors-Promo-Button_yahoo.svg":4401,"./Compose-ArrowDown.svg":4402,"./Compose-ArrowUp.svg":4403,"./Compose-AttachComputer.svg":4404,"./Compose-AttachDisk.svg":4405,"./Compose-AttachLocal.svg":4406,"./Compose-AttachMail.svg":4407,"./Compose-Attachments-Collapse.svg":4408,"./Compose-Attachments-Disk.svg":4409,"./Compose-Attachments-Mail.svg":4410,"./Compose-Beta-Off.svg":4411,"./Compose-Beta-On.svg":4412,"./Compose-Clip.svg":4413,"./Compose-Clip_new.svg":4414,"./Compose-Close-Mobile.svg":4415,"./Compose-ClosePopup.svg":4416,"./Compose-Collapse.svg":4417,"./Compose-Cross.svg":4418,"./Compose-Delay.svg":4419,"./Compose-DelayedSending.svg":4420,"./Compose-DelayedSending_new.svg":4421,"./Compose-Delete.svg":4422,"./Compose-Disk_more.svg":4423,"./Compose-Done-Settings.svg":4424,"./Compose-Expand.svg":4425,"./Compose-Mail_more.svg":4426,"./Compose-MaximizeSquare.svg":4427,"./Compose-Minimize.svg":4428,"./Compose-Minus.svg":4429,"./Compose-More.svg":4430,"./Compose-MoreContacts.svg":4431,"./Compose-More_expanded.svg":4432,"./Compose-Notification.svg":4433,"./Compose-Notification_new.svg":4434,"./Compose-Notify.svg":4435,"./Compose-Plus.svg":4436,"./Compose-Remind.svg":4437,"./Compose-RemoveYabble.svg":4438,"./Compose-Sidebar.svg":4439,"./Compose-SmallDropdown.svg":4440,"./Compose-Spellcheck-En.svg":4441,"./Compose-Spellcheck-Ru.svg":4442,"./Compose-SuccessMark.svg":4443,"./Compose-Templates.svg":4444,"./Compose-ToolbarLetter.svg":4445,"./Compose-ToolbarMoney.svg":4446,"./Compose-ToolbarPostcard.svg":4447,"./Compose-ToolbarZp.svg":4448,"./Compose-Translate.svg":4449,"./Compose-WysiwygAttach.svg":4450,"./Compose-WysiwygFormattingOff.svg":4451,"./Compose-WysiwygFormattingOn.svg":4452,"./Compose-WysiwygOrthographyEng.svg":4453,"./Compose-WysiwygOrthographyRus.svg":4454,"./Compose-WysiwygTranslator.svg":4455,"./ComposeButton-Refresh.svg":4456,"./ComposeButton.svg":4457,"./ComposeManager-Arrow.svg":4458,"./ComposeReact-ArrowUp.svg":4459,"./ComposeReact-Autocomplete.svg":4460,"./ComposeReact-Delete.svg":4461,"./ComposeReact-Effects.svg":4462,"./ComposeReact-Expand.svg":4463,"./ComposeReact-Feedback.svg":4464,"./ComposeReact-ImportantLabel.svg":4465,"./ComposeReact-InlineImage-Computer.svg":4466,"./ComposeReact-InlineImage-Link.svg":4467,"./ComposeReact-Label.svg":4468,"./ComposeReact-Label_more.svg":4469,"./ComposeReact-Signature.svg":4470,"./ComposeReact-SmartSubject.svg":4471,"./ComposeReact-Translate.svg":4472,"./ConnectService_admin.svg":4473,"./ConnectService_calendar.svg":4474,"./ConnectService_contacts.svg":4475,"./ConnectService_mail.svg":4476,"./ConnectService_main.svg":4477,"./ConnectService_people.svg":4478,"./ConnectService_wiki.svg":4479,"./ConnectService_yadisk.svg":4480,"./ConnectService_yamb.svg":4481,"./DiskResources-Back.svg":4482,"./DiskResources-Check.svg":4483,"./DiskResources-Folder.svg":4484,"./DiskResources-Information.svg":4485,"./DonePromo-QR-Signature.svg":4486,"./DragZones-Delete.svg":4487,"./DragZones-Read.svg":4488,"./DragZones-Unread.svg":4489,"./ExtendedSearch-Flag.svg":4490,"./ExtendedSearch-Unreads.svg":4491,"./File-Icon_ai.svg":4492,"./File-Icon_application.svg":4493,"./File-Icon_archive.svg":4494,"./File-Icon_audio.svg":4495,"./File-Icon_avi.svg":4496,"./File-Icon_bmp.svg":4497,"./File-Icon_book.svg":4498,"./File-Icon_cdr.svg":4499,"./File-Icon_csv.svg":4500,"./File-Icon_development.svg":4501,"./File-Icon_djvu.svg":4502,"./File-Icon_doc.svg":4503,"./File-Icon_eml.svg":4504,"./File-Icon_exe.svg":4505,"./File-Icon_executable.svg":4506,"./File-Icon_flash.svg":4507,"./File-Icon_fonts.svg":4508,"./File-Icon_general.svg":4509,"./File-Icon_gif.svg":4510,"./File-Icon_image.svg":4511,"./File-Icon_jpg.svg":4512,"./File-Icon_mail.svg":4513,"./File-Icon_mov.svg":4514,"./File-Icon_mp3.svg":4515,"./File-Icon_mp4.svg":4516,"./File-Icon_none.svg":4517,"./File-Icon_odp.svg":4518,"./File-Icon_ods.svg":4519,"./File-Icon_odt.svg":4520,"./File-Icon_pcx.svg":4521,"./File-Icon_pdf.svg":4522,"./File-Icon_pls.svg":4523,"./File-Icon_png.svg":4524,"./File-Icon_ppt.svg":4525,"./File-Icon_psd.svg":4526,"./File-Icon_rar.svg":4527,"./File-Icon_rtf.svg":4528,"./File-Icon_script.svg":4529,"./File-Icon_srt.svg":4530,"./File-Icon_text.svg":4531,"./File-Icon_tiff.svg":4532,"./File-Icon_txt.svg":4533,"./File-Icon_video.svg":4534,"./File-Icon_virus.svg":4535,"./File-Icon_wav.svg":4536,"./File-Icon_wma.svg":4537,"./File-Icon_wmv.svg":4538,"./File-Icon_xls.svg":4539,"./File-Icon_zip.svg":4540,"./Folder_archive.svg":4541,"./Folder_attach.svg":4542,"./Folder_draft.svg":4543,"./Folder_folder.svg":4544,"./Folder_important.svg":4545,"./Folder_important_new.svg":4546,"./Folder_inbox.svg":4547,"./Folder_notification.svg":4548,"./Folder_outbox.svg":4549,"./Folder_reply_later.svg":4550,"./Folder_restored.svg":4551,"./Folder_sent.svg":4552,"./Folder_spam.svg":4553,"./Folder_trash.svg":4554,"./Folder_unread.svg":4555,"./FoldersTabsPlaceholder-Picture_attachments-small.svg":4556,"./FoldersTabsPlaceholder-Picture_attachments.svg":4557,"./FoldersTabsPlaceholder-Picture_news-small.svg":4558,"./FoldersTabsPlaceholder-Picture_news.svg":4559,"./FoldersTabsPlaceholder-Picture_relevant-small.svg":4560,"./FoldersTabsPlaceholder-Picture_relevant.svg":4561,"./FoldersTabsPlaceholder-Picture_social-small.svg":4562,"./FoldersTabsPlaceholder-Picture_social.svg":4563,"./Footer-Android.svg":4564,"./Footer-Apple.svg":4565,"./GoToThread.svg":4566,"./Header-Bug.svg":4567,"./Header-Search.svg":4568,"./Header-Settings.svg":4569,"./Header-Themes.svg":4570,"./Help.svg":4571,"./ICS-Confirm.svg":4572,"./ICS-Decline.svg":4573,"./ICS-Owner.svg":4574,"./ICS-Question.svg":4575,"./ICS-Repeat.svg":4576,"./ICS-person.svg":4577,"./Icon-dkim-01.svg":4578,"./Icon-dkim-02.svg":4579,"./Icon-dkim-03.svg":4580,"./Inbox-BoldReadSwitch.svg":4581,"./Inbox-BoldReadSwitch_active.svg":4582,"./Inbox-CheckboxCheckMark-Small.svg":4583,"./Inbox-CheckboxCheckMark.svg":4584,"./Inbox-CleanFolder.svg":4585,"./Inbox-DelayMessage.svg":4586,"./Inbox-Deselect.svg":4587,"./Inbox-Flag.svg":4588,"./Inbox-LongLoad.svg":4589,"./Inbox-MuteThread.svg":4590,"./Inbox-ReadSwitch.svg":4591,"./Inbox-ReadSwitch_active.svg":4592,"./Inbox-Remind.svg":4593,"./Inbox-RepliedMessage.svg":4594,"./Inbox-RepliedMessageBoth.svg":4595,"./Inbox-RepliedMessageOther.svg":4596,"./Inbox-SelectAll.svg":4597,"./Inbox-SelectFolder.svg":4598,"./Inbox-Unread.svg":4599,"./InboxFilters-Attach.svg":4600,"./InboxFilters-Clock.svg":4601,"./InboxFilters-Clock_active.svg":4602,"./InboxFilters-Flag.svg":4603,"./InboxFilters-Inbox.svg":4604,"./InboxFilters-MailTypes-Hotels.svg":4605,"./InboxFilters-MailTypes-Inbox.svg":4606,"./InboxFilters-MailTypes-People.svg":4607,"./InboxFilters-MailTypes-Sale.svg":4608,"./InboxFilters-MailTypes-Social.svg":4609,"./InboxFilters-MailTypes-Ticket.svg":4610,"./InboxFilters-MailTypes-ZP.svg":4611,"./InboxFilters-Pin.svg":4612,"./InboxFilters-Pin_active.svg":4613,"./InboxFilters-Read.svg":4614,"./Info.svg":4615,"./Introduce-Folders-Tabs-Icon.svg":4616,"./Labels-AddButton.svg":4617,"./LeftColumn-Flag.svg":4618,"./Link-Earth.svg":4619,"./Locked.svg":4620,"./Mail-Question.svg":4621,"./MailProFloatButton.svg":4622,"./MainToolbar-AddBtn.svg":4623,"./MainToolbar-AddContact.svg":4624,"./MainToolbar-AddGroup.svg":4625,"./MainToolbar-AddTemplate.svg":4626,"./MainToolbar-Archive.svg":4627,"./MainToolbar-Attachment.svg":4628,"./MainToolbar-Compose.svg":4629,"./MainToolbar-Delete.svg":4630,"./MainToolbar-DeleteGroup.svg":4631,"./MainToolbar-Edit.svg":4632,"./MainToolbar-Folder.svg":4633,"./MainToolbar-Forward.svg":4634,"./MainToolbar-Important.svg":4635,"./MainToolbar-MagicFolder.svg":4636,"./MainToolbar-MagicTag.svg":4637,"./MainToolbar-MarkImportant.svg":4638,"./MainToolbar-MarkUnimportant.svg":4639,"./MainToolbar-Money.svg":4640,"./MainToolbar-More.svg":4641,"./MainToolbar-MoveUp.svg":4642,"./MainToolbar-MoveUpSmall.svg":4643,"./MainToolbar-Pin.svg":4644,"./MainToolbar-Pin_active.svg":4645,"./MainToolbar-Read.svg":4646,"./MainToolbar-Refresh.svg":4647,"./MainToolbar-Reply.svg":4648,"./MainToolbar-Reply_later.svg":4649,"./MainToolbar-Replyall.svg":4650,"./MainToolbar-Restored.svg":4651,"./MainToolbar-Search.svg":4652,"./MainToolbar-SmartForward.svg":4653,"./MainToolbar-Spam.svg":4654,"./MainToolbar-Tag.svg":4655,"./MainToolbar-Template.svg":4656,"./MainToolbar-Translate.svg":4657,"./MainToolbar-Unread.svg":4658,"./MainToolbar-Unspam.svg":4659,"./MainToolbar-Unsubscribe.svg":4660,"./MainToolbar-Unsubscribe_all.svg":4661,"./Message-CopyQuote.svg":4662,"./Message-Dkim_false.svg":4663,"./Message-Dkim_none.svg":4664,"./Message-Dkim_true.svg":4665,"./Message-DnD.svg":4666,"./Message-Expand.svg":4667,"./Message-Important.svg":4668,"./Message-Important_active.svg":4669,"./Message-InfoIcon.svg":4670,"./Message-InfoIconBig.svg":4671,"./Message-MarkImportant.svg":4672,"./Message-MarkUnimportant.svg":4673,"./Message-PrevNext.svg":4674,"./Message-Quotation.svg":4675,"./Message-RedAlert.svg":4676,"./Message-RightColumn-Letters.svg":4677,"./Message-RightColumn-Links.svg":4678,"./Message-RightColumn-Thread.svg":4679,"./Message-WidgetHoles.svg":4680,"./Message-YellowAlert.svg":4681,"./MessageToolbar-Clock.svg":4682,"./MessageToolbar-Compose.svg":4683,"./MessageToolbar-Delete.svg":4684,"./MessageToolbar-More.svg":4685,"./MessageToolbar-Pin.svg":4686,"./MessageToolbar-Pin_active.svg":4687,"./MessageToolbar-Reply.svg":4688,"./NewTabs-Default.svg":4689,"./NewTabs-News.svg":4690,"./NewTabs-Social.svg":4691,"./OAuthProviderLogo_gmail.svg":4692,"./OAuthProviderLogo_mailru.svg":4693,"./OAuthProviderLogo_outlook.svg":4694,"./OAuthProviderLogo_yamail.svg":4695,"./Pancakes.svg":4696,"./Priority-Star-Filled.svg":4697,"./Priority-Star-Outline.svg":4698,"./Priority-Star.svg":4699,"./Search-MailTypes-Hotel.svg":4700,"./Search-MailTypes-People.svg":4701,"./Search-MailTypes-Sale.svg":4702,"./Search-MailTypes-Social.svg":4703,"./Search-MailTypes-Ticket.svg":4704,"./Search-MailTypes-ZP.svg":4705,"./SearchSuggest-Attach.svg":4706,"./SearchSuggest-Close.svg":4707,"./SearchSuggest-Folder.svg":4708,"./SearchSuggest-History.svg":4709,"./SearchSuggest-History_2.svg":4710,"./SearchSuggest-Important.svg":4711,"./SearchSuggest-Label.svg":4712,"./SearchSuggest-Mail.svg":4713,"./SearchSuggest-Ql.svg":4714,"./SearchSuggest-Settings.svg":4715,"./SearchSuggest-Subject.svg":4716,"./SearchSuggest-Unread.svg":4717,"./SecurityLevel-low.svg":4718,"./SecurityLevel-middle.svg":4719,"./Service_admin.svg":4720,"./Service_afisha.svg":4721,"./Service_b2b_admin.svg":4722,"./Service_browser.svg":4723,"./Service_buy-pro.svg":4724,"./Service_calendar.svg":4725,"./Service_contacts.svg":4726,"./Service_direct.svg":4727,"./Service_dropdown-contacts.svg":4728,"./Service_images.svg":4729,"./Service_mail-corp.svg":4730,"./Service_mail-prod.svg":4731,"./Service_main.svg":4732,"./Service_maps.svg":4733,"./Service_market.svg":4734,"./Service_messenger.svg":4735,"./Service_metrika.svg":4736,"./Service_money.svg":4737,"./Service_music.svg":4738,"./Service_news.svg":4739,"./Service_notes.svg":4740,"./Service_people.svg":4741,"./Service_pogoda.svg":4742,"./Service_q.svg":4743,"./Service_search_en.svg":4744,"./Service_search_ru.svg":4745,"./Service_startrek.svg":4746,"./Service_stub_A.svg":4747,"./Service_stub_B.svg":4748,"./Service_stub_D.svg":4749,"./Service_stub_EE.svg":4750,"./Service_stub_G.svg":4751,"./Service_stub_J.svg":4752,"./Service_stub_L.svg":4753,"./Service_stub_O.svg":4754,"./Service_stub_P.svg":4755,"./Service_stub_S.svg":4756,"./Service_stub_T.svg":4757,"./Service_stub_Y.svg":4758,"./Service_stub_diary_en.svg":4759,"./Service_stub_diary_ru.svg":4760,"./Service_stub_doc_en.svg":4761,"./Service_stub_doc_ru.svg":4762,"./Service_stub_golem_en.svg":4763,"./Service_stub_golem_ru.svg":4764,"./Service_stub_idm_en.svg":4765,"./Service_stub_idm_ru.svg":4766,"./Service_stub_invite_en.svg":4767,"./Service_stub_invite_ru.svg":4768,"./Service_stub_jabber_en.svg":4769,"./Service_stub_jabber_ru.svg":4770,"./Service_stub_lego_en.svg":4771,"./Service_stub_lego_ru.svg":4772,"./Service_stub_lib_en.svg":4773,"./Service_stub_lib_ru.svg":4774,"./Service_stub_magazine_en.svg":4775,"./Service_stub_magazine_ru.svg":4776,"./Service_stub_ml_en.svg":4777,"./Service_stub_ml_ru.svg":4778,"./Service_stub_otrs_en.svg":4779,"./Service_stub_otrs_ru.svg":4780,"./Service_stub_planner_en.svg":4781,"./Service_stub_planner_ru.svg":4782,"./Service_stub_stat_en.svg":4783,"./Service_stub_stat_ru.svg":4784,"./Service_tv.svg":4785,"./Service_wiki.svg":4786,"./Service_yadisk.svg":4787,"./Service_yamb.svg":4788,"./Services-buy_pro.svg":4789,"./Settings-InterfaceSwitch.svg":4790,"./Settings.svg":4791,"./Settings_mail-pro.svg":4792,"./Settings_setup-abook.svg":4793,"./Settings_setup-backup.svg":4794,"./Settings_setup-beautiful-email.svg":4795,"./Settings_setup-collectors.svg":4796,"./Settings_setup-filters.svg":4797,"./Settings_setup-folders.svg":4798,"./Settings_setup-other.svg":4799,"./Settings_setup-security.svg":4800,"./Settings_setup-sender.svg":4801,"./Settings_setup-todo.svg":4802,"./Settings_setup-unsubscribe-filters.svg":4803,"./Settings_themes.svg":4804,"./Subscriptions-Cross.svg":4805,"./Subscriptions-Promo-Corner.svg":4806,"./Suggest-More.svg":4807,"./Telemost-Logo.svg":4808,"./Theme-Pin.svg":4809,"./Themes-AddImg.svg":4810,"./Themes-Edit.svg":4811,"./Themes-Seasons_autumn.svg":4812,"./Themes-Seasons_rotation.svg":4813,"./Themes-Seasons_spring.svg":4814,"./Themes-Seasons_summer.svg":4815,"./Themes-Seasons_winter.svg":4816,"./Timeline-Add-Event.svg":4817,"./Timeline-Attendees.svg":4818,"./Timeline-Calendar.svg":4819,"./Timeline-Location.svg":4820,"./Todo-Calendar.svg":4821,"./Todo-Circlemark.svg":4822,"./Todo-Edit.svg":4823,"./Todo-Letter.svg":4824,"./Todo-Mark.svg":4825,"./ToolbarOnSelection-Delete.svg":4826,"./ToolbarOnSelection-Reply.svg":4827,"./ToolbarOnSelection-SmallClock.svg":4828,"./Unlocked.svg":4829,"./UnsubscribeFilters-Done.svg":4830,"./UnsubscribeFilters-Error-sidebar.svg":4831,"./UnsubscribeFilters-Error.svg":4832,"./UnsubscribePopup-Done-big.svg":4833,"./ViewSettings-Icon.svg":4834,"./ViewSettings-InboxType_1.svg":4835,"./ViewSettings-InboxType_2.svg":4836,"./ViewSettings-InboxType_3.svg":4837,"./ViewSettings-LineHeight1.svg":4838,"./ViewSettings-LineHeight2.svg":4839,"./ViewSettings-LineHeight3.svg":4840,"./Widgets-Avatar-Calendar.svg":4841,"./Widgets-Avatar-Error.svg":4842,"./Widgets-Avatar-Reminder.svg":4843,"./Widgets-Done-big.svg":4844,"./Widgets-Done.svg":4845,"./Widgets-Person.svg":4846,"./Widgets-PlaneBothWays.svg":4847,"./Widgets-PlaneOneWay.svg":4848,"./Widgets-Print.svg":4849,"./Widgets_bounce-not-ok-dark.svg":4850,"./Widgets_bounce-not-ok-gray-dark.svg":4851,"./Widgets_bounce-not-ok-gray-light.svg":4852,"./Widgets_bounce-not-ok-light.svg":4853,"./Widgets_bounce-ok-dark.svg":4854,"./Widgets_bounce-ok-gray-dark.svg":4855,"./Widgets_bounce-ok-gray-light.svg":4856,"./Widgets_bounce-ok-light.svg":4857,"./Widgets_eshop-dark.svg":4858,"./Widgets_eshop-light.svg":4859,"./Widgets_hotels-dark.svg":4860,"./Widgets_hotels-light.svg":4861,"./Widgets_hotels-pink-dark.svg":4862,"./Widgets_hotels-pink-light.svg":4863,"./Widgets_tickets-dark.svg":4864,"./Widgets_tickets-light.svg":4865,"./Widgets_tracker.svg":4866,"./Widgets_trips-blue-dark.svg":4867,"./Widgets_trips-blue-light.svg":4868,"./Widgets_trips-dark.svg":4869,"./Widgets_trips-light.svg":4870,"./Wz-attachment.svg":4871,"./YaNotVerified.svg":4872,"./YaVerified.svg":4873,"./Yandex-header_settings.svg":4874,"./Yandex-header_themes.svg":4875};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=4346},function(e,t,n){e.exports={id:"svgicon-mail--3pane-Attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Delete-usage",viewBox:"37 -1.5 25 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Read-usage",viewBox:"25.5 -2.5 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Selection-usage",viewBox:"25.5 -2.5 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Selection",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Birthday-usage",viewBox:"53.5 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Birthday",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Comment-usage",viewBox:"261 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Comment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Email-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Email",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Filter-usage",viewBox:"0 0 15 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Filter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Group-usage",viewBox:"81.5 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Group",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Phone-usage",viewBox:"26.9 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Phone",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-at-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-at",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-calendar-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-staff-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-staff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-wiki-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Add-Icon-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Add-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_arrow-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_arrow",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_attach-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_calendar-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_checkbox-usage",viewBox:"0 0 10 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_checkbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_folder-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_from-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_from",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_important-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_self-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_self",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_service-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_service",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_to-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_to",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_unread-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Arrow-Left-usage",viewBox:"0 0 12 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Arrow-Left",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Download-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-DownloadBig-usage",viewBox:"0 0 12 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadBig",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-DownloadSmall-usage",viewBox:"0 0 10 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadSmall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Download_Disk-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download_Disk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Preview-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Preview",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach_Info-usage",viewBox:"-32 280.5 8 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach_Info",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attention-usage",viewBox:"0 0 27 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attention",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_avia-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_avia",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_hotels-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_hotels",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_meeting-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_meeting",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_pkpass-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_pkpass",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_recieved-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_recieved",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_reminder-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_reminder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_warning-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_warning",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Connected-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Connected",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Disconnected-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Disconnected",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Failed-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Failed",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-NoInfo-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-NoInfo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Clear-16-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Clear-16",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close16-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close16",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--CloseBold-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--CloseBold",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close_round-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close_round",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_gmail-usage",viewBox:"0 0 16 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_gmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_hotmail-usage",viewBox:"0 0 104 105",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_hotmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_mail-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_rambler-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_rambler",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_yahoo-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_yahoo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ArrowDown-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowDown",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ArrowUp-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachComputer-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachComputer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachDisk-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachDisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachLocal-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachLocal",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachMail-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachMail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Collapse-usage",viewBox:"0 0 22 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Collapse",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Disk-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Disk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Mail-usage",viewBox:"0 0 20 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Beta-Off-usage",viewBox:"0 0 23 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-Off",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Beta-On-usage",viewBox:"0 0 11 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-On",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Clip-usage",viewBox:"0 0 22 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Clip_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Close-Mobile-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Close-Mobile",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ClosePopup-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ClosePopup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Collapse-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Collapse",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Cross-usage",viewBox:"0 0 8 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Cross",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Delay-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delay",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-DelayedSending-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-DelayedSending_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Delete-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Disk_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Disk_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Done-Settings-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Done-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Expand-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Mail_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Mail_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-MaximizeSquare-usage",viewBox:"-3 -3 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MaximizeSquare",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Minimize-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minimize",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Minus-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-More-usage",viewBox:"0 0 4 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-MoreContacts-usage",viewBox:"0 0 26 26",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MoreContacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-More_expanded-usage",viewBox:"0 0 10 6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More_expanded",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notification-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notification_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notify-usage",viewBox:"0 0 18 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notify",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Plus-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Plus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Remind-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Remind",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-RemoveYabble-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-RemoveYabble",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Sidebar-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Sidebar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-SmallDropdown-usage",viewBox:"0 0 8 4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SmallDropdown",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Spellcheck-En-usage",viewBox:"0 0 31.3 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-En",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Spellcheck-Ru-usage",viewBox:"0 0 28 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-Ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-SuccessMark-usage",viewBox:"0 0 54 52",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SuccessMark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Templates-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Templates",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarLetter-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarLetter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarMoney-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarMoney",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarPostcard-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarPostcard",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarZp-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarZp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Translate-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Translate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygAttach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygAttach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOff-usage",viewBox:"18.5 2.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOn-usage",viewBox:"18.5 -3.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyEng-usage",viewBox:"0 0 31.3 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyEng",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyRus-usage",viewBox:"0 0 28 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyRus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygTranslator-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygTranslator",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeButton-Refresh-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton-Refresh",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeButton-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeManager-Arrow-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeManager-Arrow",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-ArrowUp-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ArrowUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Autocomplete-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Autocomplete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Delete-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Effects-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Effects",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Expand-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Feedback-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Feedback",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-ImportantLabel-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ImportantLabel",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Computer-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Computer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Link-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Link",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Label-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Label_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Signature-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Signature",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-SmartSubject-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-SmartSubject",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Translate-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Translate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_admin-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_calendar-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_contacts-usage",viewBox:"0 0 36 45",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_mail-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_main-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_main",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_people-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_people",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_wiki-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_yadisk-usage",viewBox:"0 0 48 31",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yadisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_yamb-usage",viewBox:"0 0 45.4 45.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yamb",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Back-usage",viewBox:"0 0 17 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Back",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Check-usage",viewBox:"0 0 12 9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Check",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Folder-usage",viewBox:"0 0 40 33",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Information-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Information",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DonePromo-QR-Signature-usage",viewBox:"0 0 63.9 66",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DonePromo-QR-Signature",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Delete-usage",viewBox:"3 0.5 50 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Read-usage",viewBox:"0 0 57 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Unread-usage",viewBox:"0 0 57 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ExtendedSearch-Flag-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ExtendedSearch-Unreads-usage",viewBox:"0 0 14 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Unreads",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ai-usage",viewBox:"0 0 14 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ai",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_application-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_application",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_archive-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_audio-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_audio",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_avi-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_avi",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_bmp-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_bmp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_book-usage",viewBox:"0 0 14.8 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_book",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_cdr-usage",viewBox:"0 0 13.6 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_cdr",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_csv-usage",viewBox:"0 0 12.3 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_csv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_development-usage",viewBox:"0 0 16.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_development",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_djvu-usage",viewBox:"0 0 12.3 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_djvu",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_doc-usage",viewBox:"0 0 15.3 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_doc",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_eml-usage",viewBox:"0 0 14.8 13.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_eml",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_exe-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_exe",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_executable-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_executable",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_flash-usage",viewBox:"0 0 13.6 16.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_flash",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_fonts-usage",viewBox:"0 0 17.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_fonts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_general-usage",viewBox:"0 0 12.7 17.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_general",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_gif-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_gif",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_image-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_image",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_jpg-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_jpg",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mail-usage",viewBox:"0 0 14.8 13.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mov-usage",viewBox:"0 0 13.6 13.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mov",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mp3-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mp4-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp4",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_none-usage",viewBox:"0 0 22.3 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_none",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_odp-usage",viewBox:"0 0 17.3 12.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ods-usage",viewBox:"0 0 17.3 12.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ods",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_odt-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pcx-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pcx",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pdf-usage",viewBox:"0 0 17.1 17.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pdf",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pls-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pls",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_png-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_png",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ppt-usage",viewBox:"0 0 15.5 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ppt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_psd-usage",viewBox:"0 0 14.8 12.5",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_psd",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_rar-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_rtf-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rtf",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_script-usage",viewBox:"0 0 16.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_script",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_srt-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_srt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_text-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_text",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_tiff-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_tiff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_txt-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_txt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_video-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_video",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_virus-usage",viewBox:"0 0 3.2 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_virus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wav-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wav",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wma-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wma",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wmv-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wmv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_xls-usage",viewBox:"0 0 15 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_xls",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_zip-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_zip",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_archive-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_draft-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_draft",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_folder-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_important-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_important_new-usage",viewBox:"0 0 13 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_inbox-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_notification-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_notification",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_outbox-usage",viewBox:"0 0 16 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_outbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_reply_later-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_reply_later",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_restored-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_restored",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_sent-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_sent",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_spam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_spam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_trash-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_trash",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_unread-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small-usage",viewBox:"0 0 152 151",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-usage",viewBox:"0 0 318 316",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-small-usage",viewBox:"0 0 140 141",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-usage",viewBox:"0 0 292 293",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small-usage",viewBox:"0 0 145 140",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-usage",viewBox:"0 0 303 291",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-small-usage",viewBox:"0 0 146 139",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-usage",viewBox:"0 0 306 291",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Footer-Android-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Android",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Footer-Apple-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Apple",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--GoToThread-usage",viewBox:"0 0 13 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--GoToThread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Bug-usage",viewBox:"-583 408.9 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Bug",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Search-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Search",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Settings-usage",viewBox:"1.5 2 20 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Themes-usage",viewBox:"4.5 1.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Themes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Help-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Help",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Confirm-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Confirm",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Decline-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Decline",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Owner-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Owner",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Question-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Question",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Repeat-usage",viewBox:"-2.5 -5.5 16 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Repeat",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-person-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-person",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-01-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-01",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-02-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-02",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-03-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-03",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch_active-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-Small-usage",viewBox:"0 0 12 9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark-Small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CleanFolder-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CleanFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-DelayMessage-usage",viewBox:"-266 415.9 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-DelayMessage",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Deselect-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Deselect",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Flag-usage",viewBox:"-93 97 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-LongLoad-usage",viewBox:"-87.5 -27.5 71 71",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-LongLoad",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-MuteThread-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-MuteThread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-ReadSwitch-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-ReadSwitch_active-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Remind-usage",viewBox:"-2 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Remind",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessage-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessage",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessageBoth-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageBoth",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessageOther-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageOther",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-SelectAll-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectAll",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-SelectFolder-usage",viewBox:"-512 99 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Unread-usage",viewBox:"-95 97 9 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Clock-usage",viewBox:"41.479 0.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Clock_active-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Flag-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Inbox-usage",viewBox:"3.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Hotels-usage",viewBox:"-1830.5 1003.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Hotels",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Inbox-usage",viewBox:"3.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-People-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-People",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Sale-usage",viewBox:"-1831.5 1003.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Social-usage",viewBox:"-1830.5 1003.5 18 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Ticket-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-ZP-usage",viewBox:"-1831.5 1003.5 18 17.9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Pin-usage",viewBox:"0 0 15 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Pin_active-usage",viewBox:"0 0 15 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Read-usage",viewBox:"0 0 18 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Info-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Info",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Introduce-Folders-Tabs-Icon-usage",viewBox:"0 0 67 49",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Introduce-Folders-Tabs-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Labels-AddButton-usage",viewBox:"0 0 23 23",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Labels-AddButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--LeftColumn-Flag-usage",viewBox:"-95 96 9 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--LeftColumn-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Link-Earth-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Link-Earth",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Locked-usage",viewBox:"0 0 15 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Locked",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Mail-Question-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Mail-Question",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MailProFloatButton-usage",viewBox:"0 0 18 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MailProFloatButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddBtn-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddBtn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddContact-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddContact",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddGroup-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddGroup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddTemplate-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddTemplate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Archive-usage",viewBox:"0 -2 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Attachment-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Attachment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Compose-usage",viewBox:"0 0 17 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Compose",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Delete-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-DeleteGroup-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-DeleteGroup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Edit-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Folder-usage",viewBox:"0 0 16 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Forward-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Forward",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Important-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MagicFolder-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MagicTag-usage",viewBox:"0 0 15 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicTag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MarkImportant-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkImportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MarkUnimportant-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkUnimportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Money-usage",viewBox:"1 17 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Money",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-More-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MoveUp-usage",viewBox:"0 0 16 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MoveUpSmall-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUpSmall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Pin-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Pin_active-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Read-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Refresh-usage",viewBox:"0 0 16 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Refresh",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Reply-usage",viewBox:"0 0 17 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Reply_later-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply_later",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Replyall-usage",viewBox:"0 0 23 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Replyall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Restored-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Restored",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Search-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Search",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-SmartForward-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-SmartForward",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Spam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Spam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Tag-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Tag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Template-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Template",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Translate-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Translate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unread-usage",viewBox:"0 0 16 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unspam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unspam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe_all-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe_all",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-CopyQuote-usage",viewBox:"-15 14 21 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-CopyQuote",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_false-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_false",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_none-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_none",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_true-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_true",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-DnD-usage",viewBox:"0 0 6 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-DnD",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Expand-usage",viewBox:"0 0 12 7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Important-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Important_active-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-InfoIcon-usage",viewBox:"-30.5 291.52 20.958 20.958",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIcon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-InfoIconBig-usage",viewBox:"-58.5 273.5 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIconBig",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-MarkImportant-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkImportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-MarkUnimportant-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkUnimportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-PrevNext-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-PrevNext",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Quotation-usage",viewBox:"0 0 11 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Quotation",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RedAlert-usage",viewBox:"60.5 9 30 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RedAlert",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Letters-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Letters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Links-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Links",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Thread-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Thread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-WidgetHoles-usage",viewBox:"0 0 6 65",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-WidgetHoles",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-YellowAlert-usage",viewBox:"60.5 9 30 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-YellowAlert",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Clock-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Clock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Compose-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Compose",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Delete-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-More-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Pin-usage",viewBox:"1.5 1.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Pin_active-usage",viewBox:"10.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Reply-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-Default-usage",viewBox:"0 0 14 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Default",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-News-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-News",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-Social-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_gmail-usage",viewBox:"0 0 21 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_gmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_mailru-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_mailru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_outlook-usage",viewBox:"0 0 19 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_outlook",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_yamail-usage",viewBox:"0 0 21 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_yamail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Pancakes-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Pancakes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-Filled-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Filled",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-Outline-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Outline",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Hotel-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Hotel",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-People-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-People",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Sale-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Social-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Ticket-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-ZP-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Close-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Close",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Folder-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-History-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-History_2-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History_2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Important-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Label-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Label",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Mail-usage",viewBox:"0 0 18 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Ql-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Ql",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Settings-usage",viewBox:"0 0 17 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Subject-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Subject",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Unread-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SecurityLevel-low-usage",viewBox:"0 0 28 29",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-low",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SecurityLevel-middle-usage",viewBox:"0 0 28 29",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-middle",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_admin-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_afisha-usage",viewBox:"0 0 36 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_afisha",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_b2b_admin-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_b2b_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_browser-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_browser",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_buy-pro-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_buy-pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_calendar-usage",viewBox:"0 0 44 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_contacts-usage",viewBox:"0 0 42 33",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_direct-usage",viewBox:"0 0 40 39",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_direct",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_dropdown-contacts-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_dropdown-contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_images-usage",viewBox:"0 0 52 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_images",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_mail-corp-usage",viewBox:"0 0 42 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-corp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_mail-prod-usage",viewBox:"0 0 42 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-prod",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_main-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_main",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_maps-usage",viewBox:"0 0 30 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_maps",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_market-usage",viewBox:"0 0 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_market",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_messenger-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_messenger",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_metrika-usage",viewBox:"0 0 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_metrika",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_money-usage",viewBox:"0 0 36 46",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_money",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_music-usage",viewBox:"0 0 32 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_music",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_news-usage",viewBox:"0 0 48 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_news",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_notes-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_notes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_people-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_people",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_pogoda-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_pogoda",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_q-usage",viewBox:"0 0 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_q",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_search_en-usage",viewBox:"0 0 22 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_search_ru-usage",viewBox:"0 0 19 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_startrek-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_startrek",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_A-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_A",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_B-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_B",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_D-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_D",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_EE-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_EE",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_G-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_G",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_J-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_J",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_L-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_L",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_O-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_O",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_P-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_P",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_S-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_S",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_T-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_T",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_Y-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_Y",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_diary_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_diary_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_doc_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_doc_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_golem_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_golem_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_idm_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_idm_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_invite_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_invite_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_jabber_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_jabber_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lego_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lego_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lib_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lib_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_magazine_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_magazine_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_ml_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_ml_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_otrs_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_otrs_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_planner_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_planner_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_stat_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_stat_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_tv-usage",viewBox:"0 0 44 31",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_tv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_wiki-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_yadisk-usage",viewBox:"0 0 48 32",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yadisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_yamb-usage",viewBox:"0 0 45.4 45.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yamb",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Services-buy_pro-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Services-buy_pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings-InterfaceSwitch-usage",viewBox:"-25.5 30.5 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings-InterfaceSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_mail-pro-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_mail-pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-abook-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-abook",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-backup-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-backup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-beautiful-email-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-beautiful-email",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-collectors-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-collectors",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-filters-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-filters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-folders-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-folders",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-other-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-other",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-security-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-security",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-sender-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-sender",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-todo-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-todo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-unsubscribe-filters-usage",viewBox:"0 0 20 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-unsubscribe-filters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_themes-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_themes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Subscriptions-Cross-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Cross",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Subscriptions-Promo-Corner-usage",viewBox:"0 0 67 49",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Promo-Corner",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Suggest-More-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Suggest-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Telemost-Logo-usage",viewBox:"0 0 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Telemost-Logo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Theme-Pin-usage",viewBox:"0 0 13 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Theme-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-AddImg-usage",viewBox:"25.5 16.5 63 44",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-AddImg",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Edit-usage",viewBox:"0 0 33.324 33.238",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_autumn-usage",viewBox:"0 0 19 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_autumn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_rotation-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_rotation",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_spring-usage",viewBox:"0 0 16 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_spring",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_summer-usage",viewBox:"0 0 24 25",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_summer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_winter-usage",viewBox:"0 0 22 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_winter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Add-Event-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Add-Event",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Attendees-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Attendees",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Calendar-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Location-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Location",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Calendar-usage",viewBox:"-3 3 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Circlemark-usage",viewBox:"-2 4 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Circlemark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Edit-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Letter-usage",viewBox:"0 0 15 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Letter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Mark-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Mark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-Delete-usage",viewBox:"-17.5 810.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-Reply-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-SmallClock-usage",viewBox:"40.479 -0.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-SmallClock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Unlocked-usage",viewBox:"0 0 15 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Unlocked",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Done-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Done",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-sidebar-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error-sidebar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-usage",viewBox:"0 0 25 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribePopup-Done-big-usage",viewBox:"0 0 90 90",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribePopup-Done-big",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-Icon-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_1-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_1",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_2-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_3-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight1-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight1",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight2-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight3-usage",viewBox:"0 0 16 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Calendar-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Error-usage",viewBox:"4.5 4.5 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Error",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Reminder-usage",viewBox:"4.5 5.5 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Reminder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Done-big-usage",viewBox:"0 0 91 91",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done-big",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Done-usage",viewBox:"0 0 25 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Person-usage",viewBox:"0 0 9 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Person",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-PlaneBothWays-usage",viewBox:"0 0 17 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneBothWays",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-PlaneOneWay-usage",viewBox:"1.5 1 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneOneWay",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Print-usage",viewBox:"0 0 15 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Print",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_eshop-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_eshop-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-pink-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-pink-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tickets-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tickets-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tracker-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tracker",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-blue-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-blue-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Wz-attachment-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Wz-attachment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--YaNotVerified-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaNotVerified",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--YaVerified-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaVerified",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Yandex-header_settings-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Yandex-header_themes-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_themes",toString:function(){return this.url}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(401);n.n(i);function o(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function a(){return(a=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(i.isAvailable)()&&Object(i.hasSubscriptionWithDomain)()&&!Object(i.getConnectedBeautifulEmail)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(r.runModules)(["beautiful-email.js"]);case 4:if((t=e.sent)&&t[0]){e.next=7;break}return e.abrupt("return",t);case 7:(0,t[0].pollDomainStatus.default)(!0);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterPopup=void 0;var c=a(n(135)),u=l(n(339)),d=l(n(519)),f=n(379),p=n(373),g=n(143),m=n(521),h=n(4977),v=n(737),b=n(4990),_=n(391),y=n(16),S=n(400),w=l(n(4991));t.ReplyLaterPopup=function(e){var t=e.onClose,n=e.onSelectedDate,i=e.visible,o=e.className,a=e.remindDate,l=e.onRemoveReminder,O=s(e,["onClose","onSelectedDate","visible","className","remindDate","onRemoveReminder"]),M=c.useRef(!y.hasFeature(S.Features.REACT_LAYOUT)&&document.querySelector(".js-mail-App")?document.querySelector(".js-mail-App"):document.documentElement),x=c.useCallback(function(e){t(),n(e)},[t,n]),E=c.useCallback(function(){t(),l()},[t,l]),T=c.useContext(v.MetrikaContext);return c.useEffect(function(){i&&T.logShow()},[T,i]),c.useEffect(function(){return i?m.addEventListener({element:window,eventName:"popstate",listener:t}):d.default},[i,t]),c.default.createElement(g.Popup,r({theme:"normal",target:"anchor",hasTail:!0,boundary:M,onClose:t,visible:i,className:u.default(w.default.root,o,f.cnTheme(p.PS_LIGHT))},O),c.default.createElement(h.ReplyLaterMenu,{onSelectDate:x,presets:b.makePresets(new Date(_.passportPromoNow())),remindDate:a,onRemoveReminder:E,onClose:t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMenu=void 0;var r=n(4978);Object.defineProperty(t,"ReplyLaterMenu",{enumerable:!0,get:function(){return r.ReplyLaterMenu}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMenu=void 0;var o=i(n(135)),a=n(4979),s=n(4980),l=n(4981),c=n(821),u=i(n(1173));t.ReplyLaterMenu=function(e){var t=e.presets,n=e.onSelectDate,i=e.remindDate,d=e.onRemoveReminder,f=e.onClose;return o.default.createElement("ul",{className:u.default.root},t.map(function(e){return o.default.createElement(a.PresetMenuItem,r({key:e.id},e,{onSelectDate:n}))}),o.default.createElement(c.Separator,null),o.default.createElement(l.CustomDateMenuItem,{onClose:f,onSelectDate:n}),i&&o.default.createElement(o.default.Fragment,null,o.default.createElement(c.Separator,null),o.default.createElement(s.CancelMenuItem,{remindDate:i,onRemoveReminder:d})))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PresetMenuItem=void 0;var s=o(n(135)),l=n(737),c=a(n(344)),u=n(391),d=n(821);t.PresetMenuItem=function(e){var t=e.id,n=e.date,r=e.loc,i=e.onSelectDate,o=s.useContext(l.MetrikaContext),a=s.useCallback(function(){i(n),o.logPresetClick(t)},[n,t,o,i]);return r?s.default.createElement(d.MenuItem,{onClick:a,tabIndex:0,role:"button"},s.default.createElement(c.default,{loc:r,params:{time:u.getShortTime(n)||""}})):s.default.createElement(d.MenuItem,{onClick:a,tabIndex:0,role:"button"},u.getShortMonthDateTimeInHumanFormat(n))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelMenuItem=void 0;var s=o(n(135)),l=n(138),c=n(391),u=n(821),d=a(n(1173)),f=n(737),p=a(n(344));t.CancelMenuItem=function(e){var t=e.remindDate,n=e.onRemoveReminder,r=s.useContext(f.MetrikaContext),i=s.useCallback(function(){n(),r.logCancelClick()},[r,n]);return t?s.default.createElement(u.MenuItem,{className:d.default.unremind,onClick:i,tabIndex:-1,role:"button"},s.default.createElement(l.Text,{className:d.default.unremindLabel,color:"secondary"},s.default.createElement(p.default,{loc:"common-react/replyLaterRemoveReminder"})),s.default.createElement("div",null,c.getShortDateTimeInHumanFormat(t))):null}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDateMenuItem=void 0;var l=o(n(135)),c=n(821),u=s(n(344)),d=n(4982),f=n(1598),p=n(737),g=n(391),m=n(792),h=n(521),v=function(){var e=Math.floor(g.passportNow()/m.MINUTE)*m.MINUTE;return new Date(e+5*m.MINUTE)};t.CustomDateMenuItem=function(e){var t=e.onClose,n=e.onSelectDate,r=a(l.useState(!1),2),i=r[0],o=r[1],s=f.useElement(),b=s.elementRef,_=s.element,y=s.setElement,S=l.useMemo(function(){return v()},[]),w=l.useMemo(function(){return function(){var e=new Date(g.passportNow()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return t.setTime(t.getTime()+3*m.MONTH+m.DAY-1),t}()},[]),O=a(l.useState(function(){var e=Math.floor(g.passportNow()/m.MINUTE)*m.MINUTE;return new Date(e+30*m.MINUTE)}()),2),M=O[0],x=O[1],E=l.useContext(p.MetrikaContext),T=l.useCallback(function(e){o(function(e){return e?E.logCustomDateClose():E.logCustomDateClick(),!e}),e.stopPropagation()},[E]),D=l.useCallback(function(){o(!1),t(),E.logCustomDateClose()},[E,t]),C=l.useCallback(function(){var e=v();n(M<e?e:M),D(),E.logCustomDateSelect()},[D,E,n,M]),P=l.useCallback(function(e){o(!1),E.logCustomDateCancel(),e.stopPropagation()},[E]),k=l.useCallback(function(e){_&&e.target&&_.contains(e.target)&&T(e)},[_,T]);return l.useEffect(function(){return h.addEventListener({element:window,eventName:"mousedown",listener:k,isCapture:!0})},[k]),l.default.createElement(l.default.Fragment,null,l.default.createElement(c.MenuItem,{innerRef:y,tabIndex:-1,role:"button"},l.default.createElement(u.default,{loc:"common-react/anotherDateAndTime"})),l.default.createElement(d.DateTimePickerPopup,{visible:i,anchor:b,onClose:D,onAction:C,onCancel:P,value:M,minDate:S,maxDate:w,onChange:x,enableFocusTrap:!0}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimePickerPopup=void 0;var c=a(n(135)),u=l(n(339)),d=n(143),f=n(1595),p=n(1139),g=n(521),m=n(379),h=n(373);t.DateTimePickerPopup=function(e){var t=e.onAction,n=e.onCancel,i=e.className,o=e.value,a=e.minDate,l=e.maxDate,v=e.onChange,b=s(e,["onAction","onCancel","className","value","minDate","maxDate","onChange"]);c.useEffect(function(){b.visible?p.modalListPush("datetimepicker"):p.modalListPop("datetimepicker")},[b.visible]);var _=c.useRef(null),y=c.useCallback(function(e){e.target&&_.current&&_.current.contains(e.target)&&e.stopPropagation()},[_]);return c.useEffect(function(){return g.addEventListener({element:window,eventName:"mousedown",listener:y,isCapture:!0})},[y]),c.default.createElement(d.Popup,r({innerRef:_,hasTail:!0,className:u.default(i,"qa-ReplyLater-DateTimePickerPopup",m.cnTheme(h.PS_LIGHT)),target:"anchor",direction:["left","right"],theme:"normal"},b),c.default.createElement(f.DateTimePicker,{value:o,onChange:v,onAction:t,onCancel:n,minDate:a,maxDate:l}))}},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePresets=void 0;var r=n(599),i=5;t.makePresets=function(e){var t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),a=e.getDay(),s=(i-a+7)%7,l=[{id:"today",date:new Date(t,n,o,19),loc:"common-react/todayAtTime"},{id:"tomorrow",date:new Date(t,n,o+1,12),loc:"common-react/tomorrowAtTime"}];return s>1&&l.push({id:"friday",date:new Date(t,n,o+s,12),loc:"common-react/fridayAtTime"}),l.push({id:"next-week",date:new Date(t,n,o+7,12)}),l.filter(r.isDefined).filter(function(t){return t.date>e})}},function(e,t){e.exports={root:"components__root--2GzDz"}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMetrika=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.logMetric=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.logMetric.apply(this,o(["Reply Later"],t))},t.prototype.logShow=function(){this.logMetric("show")},t.prototype.logPresetClick=function(e){this.logMetric(e,"click")},t.prototype.logCancelClick=function(){this.logMetric("cancel click")},t.prototype.logCustomDateClick=function(){this.logMetric("custom date","click")},t.prototype.logCustomDate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["custom date"],e))},t.prototype.logCustomDateClose=function(){this.logCustomDate("close")},t.prototype.logCustomDateSelect=function(){this.logCustomDate("select")},t.prototype.logCustomDateCancel=function(){this.logCustomDate("cancel")},t}(n(820).BaseMetrika);t.ReplyLaterMetrika=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptInSubscriptionsWidget=void 0;var r=n(1600),i=n(5052),o=n(1537),a=n(382),s=n(440),l=n(5065),c=n(512),u=n(403);t.OptInSubscriptionsWidget=l.withIgnoreCorp(s.withPsTheme({source:u.DarkSource.Content})(r.withStores({subscriptionsStore:o.PendingSubscriptionsStore.instance,settingsStore:a.getSettingsStore,settingsService:c.getSettingsService})(i.OptInSubscriptionsWidget)))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.OptInSubscriptionsWidget=void 0;var l=o(n(135)),c=n(342),u=n(396),d=n(350),f=n(1036),p=n(5053),g=n(398),m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.logMetric(s([g.OPT_IN_SUBSCRIPTIONS_METRIKA,"messages_widget","notification"],e))},h=function(){d.emitUnsubscribePopupShow({page:"pending"}),m("click new subscriptions tab")},v=function(e){d.emitUnsubscribePopupShow({page:"pending",email:e.email}),m("click details subscription")};t.OptInSubscriptionsWidget=c.observer(function(e){var t,n=e.className,r=e.subscriptionsStore,i=e.settingsStore,o=i.isSet(u.Settings.MESSAGES_AVATARS),a=i.isSet(u.Settings.SHOW_CHECKBOX_INSIDE_AVATARS),s=r.optinEnabled&&Boolean(null===(t=r.subscriptions)||void 0===t?void 0:t.length);return l.useEffect(function(){e.subscriptionsStore.waitForData()},[]),l.useEffect(function(){s&&m("show")},[s]),s?l.default.createElement(p.OptInSubscriptions,{className:n,is2pane:d.is2Pane(),is3pv:f.is3pv(),is3ph:f.is3ph(),messagesHasAvatars:o,hasCheckboxInsideAvatars:a,subscriptions:r.subscriptions||[],onClick:h,onClickSubscription:v}):null})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptInSubscriptions=void 0;var l=o(n(135)),c=s(n(339)),u=s(n(5054)),d=n(5055),f=n(138),p=s(n(344)),g=n(5061);t.OptInSubscriptions=function(e){var t=e.className,n=e.is2pane,r=e.is3pv,i=e.is3ph,o=e.messagesHasAvatars,s=e.hasCheckboxInsideAvatars,m=e.subscriptions,h=e.onClickSubscription,v=e.onClick,b=a(l.useState(0),2),_=b[0],y=b[1],S=a(l.useState(0),2),w=S[0],O=S[1],M=i||r||o,x=0===_,E=c.default(t,u.default.root,i&&u.default.is3ph,r&&u.default.is3pv,x&&u.default.compact,n&&!o&&u.default.withoutAvatars);return l.default.createElement("div",{className:u.default.wrapper},l.default.createElement("div",{className:E,style:{paddingLeft:(n?o?s?19:41:47:r?19:16)+"px"},onClick:x?v:void 0},M&&l.default.createElement(g.SubscriptionsIcon,{className:u.default.icon,size:i?"m":"l"}),l.default.createElement(f.Text,{className:u.default.title,typography:"body-short-s"},l.default.createElement(p.default,{loc:"subscriptions-widget/unsortedSubscriptionsCount",params:{count:m.length}})),l.default.createElement(d.SubscriptionList,{subscriptions:m,onClickSubscription:h,onClick:v,bigCount:_,compactCount:w,onChangeBigCount:y,onChangeCompactCount:O})))}},function(e,t){e.exports={root:"OptInSubscriptions__root--1uwj1",wrapper:"OptInSubscriptions__wrapper--6lzLL",is3pv:"OptInSubscriptions__is3pv--cr7fq",withoutAvatars:"OptInSubscriptions__withoutAvatars--1wJo1",is3ph:"OptInSubscriptions__is3ph--3zCua",icon:"OptInSubscriptions__icon--3tlT-",compact:"OptInSubscriptions__compact--1R5K_",title:"OptInSubscriptions__title--3oKDD"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionList=void 0;var l=o(n(135)),c=s(n(339)),u=n(138),d=s(n(344)),f=n(140),p=s(n(5056)),g=n(5057),m=n(5060),h=n(1601);t.SubscriptionList=function(e){var t=e.className,n=e.subscriptions,r=e.onClickSubscription,i=e.onClick,o=e.bigCount,s=e.compactCount,v=e.onChangeBigCount,b=e.onChangeCompactCount,_=o<1,y=s>=n.length,S=a(l.useState(0),2),w=S[0],O=S[1],M=l.useCallback(function(e,t){v(e),O(t)},[v]),x=l.default.createElement("div",{className:c.default(p.default.list,_&&p.default.hiddenList)},l.default.createElement(m.CountChildrenContainer,{className:p.default.list,childWrapperClass:p.default.item,onChangeVisibleCount:M},n.map(function(e,t){return l.default.createElement(g.ListItem,{key:e.email,onClick:r,subscription:e,className:c.default(p.default.item,t>=o&&p.default.hiddenItem)})})),l.default.createElement("span",{className:c.default(p.default.item,p.default.more,n.length<=o&&p.default.hiddenItem),style:{transform:"translateX(-"+w+"px)"}},l.default.createElement(u.Text,{typography:"body-short-s",color:"secondary"},l.default.createElement(d.default,{loc:"subscriptions-widget/andMore",params:{count:n.length-o}}))),l.default.createElement(f.Button,{className:c.default(p.default.item,p.default.parse),onClick:i,view:"default"},l.default.createElement(u.Text,{typography:"body-short-m",weight:"medium"},l.default.createElement(d.default,{loc:"subscriptions-widget/parseSubscriptions"})))),E=l.default.createElement("div",{className:c.default(p.default.list,!_&&p.default.hiddenList)},l.default.createElement(m.CountChildrenContainer,{className:c.default(p.default.list,p.default.compact),childWrapperClass:p.default.item,onChangeVisibleCount:b},n.map(function(e,t){return l.default.createElement(h.Avatar,{key:e.email,monogram:e.monogram,avatar:e.avatar,className:c.default(p.default.avatar,p.default.item,t>=s&&p.default.hiddenItem),size:"l"})})),l.default.createElement(h.Avatar,{monogram:{color:"#83CC8A",letters:"+"+(n.length-s)},size:"l",className:c.default(p.default.avatar,p.default.item,(y||0===s)&&p.default.hiddenItem)}));return l.default.createElement("div",{className:c.default(t,p.default.root,_&&y&&p.default.compactFull)},x,E)}},function(e,t){e.exports={root:"components__root--1CdEs",compactFull:"components__compactFull--T2alk",list:"components__list--WJ5bW",compact:"components__compact--19tsD",hiddenItem:"components__hiddenItem--2x0lM",item:"components__item--3YAkh",avatar:"components__avatar--2zAFC",hiddenList:"components__hiddenList--LHJ5c",more:"components__more--Lyuq-",parse:"components__parse--JlOpZ"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=void 0;var i=r(n(135)),o=r(n(339)),a=n(138),s=r(n(5058)),l=n(1601);t.ListItem=function(e){var t=e.className,n=e.subscription,r=e.onClick,c=n.avatar,u=n.monogram,d=n.displayName;return i.default.createElement("div",{className:o.default(t,s.default.root)},i.default.createElement("div",{className:s.default.delimiter}),i.default.createElement("button",{className:s.default.button,onClick:function(){return r(n)}},i.default.createElement(l.Avatar,{className:s.default.avatar,avatar:c,monogram:u,size:"m"}),i.default.createElement(a.Text,{typography:"body-short-m",weight:"medium"},d)))}},function(e,t){e.exports={root:"components__root--3yxdl",delimiter:"components__delimiter--2AbHN",avatar:"components__avatar--Yshvs",button:"components__button--26QGV"}},function(e,t){e.exports={root:"components__root--3k_rm",m:"components__m--RDfQr",l:"components__l--3x2jb"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CountChildrenContainer=void 0;var a=o(n(135)),s=function(e){return e.offsetLeft+e.offsetWidth};t.CountChildrenContainer=function(e){var t=e.className,n=e.children,r=e.onChangeVisibleCount,i=a.useRef(null);return a.useLayoutEffect(function(){var e=new ResizeObserver(function(){if(i.current){for(var e=i.current.clientWidth,t=i.current.offsetLeft,n=0;n<i.current.children.length&&!(i.current.children[n]instanceof HTMLElement&&s(i.current.children[n])-t>e);n++);var o=n>0?e+t-s(i.current.children[n-1]):0;r(n,o)}});return i.current&&e.observe(i.current),function(){e.disconnect()}},[r]),a.default.createElement("div",{className:t,style:{overflow:"hidden"},ref:i},n)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsIcon=void 0;var i=r(n(135)),o=r(n(339)),a=r(n(5062)),s=r(n(5063)),l=r(n(5064)),c={m:s.default,l:a.default};t.SubscriptionsIcon=function(e){var t=e.className,n=e.size,r=c[n];return i.default.createElement("div",{className:o.default(t,l.default.root,l.default[n])},i.default.createElement(r,null))}},,,function(e,t){e.exports={root:"components__root--13LFi",l:"components__l--1Lzly",m:"components__m--18875"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5067);t.default=r.SpamBanner},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpamBanner=void 0;var o=i(n(135)),a=i(n(339)),s=n(138),l=n(140),c=n(440),u=n(152),d=i(n(344)),f=n(137),p=i(n(5068)),g=i(n(5069)),m=i(n(5070)),h=n(350),v=n(403),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.default.createElement("div",{className:a.default(m.default.root,this.props.className)},o.default.createElement("div",{className:m.default.content},o.default.createElement(s.Text,{className:m.default.title,as:"h2",typography:"subheader-l",weight:"bold"},o.default.createElement(d.default,{loc:"promo-react/clear_spam_title"})),o.default.createElement(s.Text,{className:m.default.description,as:"p",typography:"body-short-l"},o.default.createElement(d.default,{loc:"promo-react/clear_spam_description"})),o.default.createElement(l.Button,{view:"action",size:"m",onClick:function(){var e=h.getFolderBySymbol(f.WellKnownFolderSymbol.SPAM);h.runAction("folder.clear",{fid:e.fid}),h.logMetric([" ","    ",""])}},o.default.createElement(d.default,{loc:"promo-react/clear_spam_button"}))),o.default.createElement(u.Image,{className:m.default.image,src:p.default,src2x:g.default}))},t.prototype.componentDidMount=function(){h.logMetric([" ","    ",""])},t}(o.default.PureComponent);t.SpamBanner=c.withPsTheme({source:v.DarkSource.Content})(b)},function(e,t,n){e.exports=n.p+"_/cdca6d051f4d289b45782610eb449fde-2pane.png"},function(e,t,n){e.exports=n.p+"_/acd8346890af11ddaa32df1a3b9a6c08-2pane@2x.png"},function(e,t){e.exports={root:"SpamBanner__root--3rkYv",image:"SpamBanner__image--nujJi",content:"SpamBanner__content--q7_gf",title:"SpamBanner__title--36_TP",description:"SpamBanner__description--1QDod"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unmountReactServicesPopup=t.renderReactServicesPopup=void 0;var o=i(n(135)),a=i(n(139)),s=n(5548),l=n(1600),c=n(382),u=l.withStores({settingsStore:c.getSettingsStore,accountInformationStore:c.getAccountInformationStore,routerStore:c.getRouterStore})(s.ReactServicesPopup);t.renderReactServicesPopup=function(e){var t=document.createElement("div");return document.body.appendChild(t),a.default.render(o.default.createElement(u,r({},e)),t),t};t.unmountReactServicesPopup=function(e){a.default.unmountComponentAtNode(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactServicesPopup=void 0;var c=a(n(135)),u=l(n(519)),d=n(1088),f=n(350),p=n(5549),g=n(447);t.ReactServicesPopup=function(e){var t=e.settingsStore,n=e.accountInformationStore,i=e.routerStore,o=s(e,["settingsStore","accountInformationStore","routerStore"]),a=c.useMemo(function(){return f.getConfig()},[]),l=c.useCallback(function(e,t){return f.getTranslations()[e]["mail-liza"]["ps-header"][t]()},[]),m=c.useRef(document.documentElement),h=t.hideB2cTariffPromo,v=f.isCorp()?p.CorpServicesList:p.DefaultServicesList;return c.default.createElement(d.Popup,r({visible:!0,theme:"normal",target:"anchor",direction:"bottom",boundary:m,hasTail:!0,tailSize:36},o),c.default.createElement(v,{links:g.headerServicesLinks,corpLinks:g.headerServicesLinks,getI18nFn:l,theme:"light",yandex360Link:h?"/":a["yandex360-url"],timeZone:a.timeZone,tld:a.domain,lang:f.getLocale(),isB2bAdmin:n.isAdmin,countMetrikaFn:u.default,showDocuments:a.headerWithDocs,showFan:n.isB2BUser,isB2bUser:n.isB2BUser,isAbookPage:i.isAbookPage}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CorpServicesList=t.DefaultServicesList=void 0;var i=n(1572),o=r(n(1573)),a=n(5550);t.DefaultServicesList=i.withDefaultServices()(a.ServicesList),t.CorpServicesList=o.default(a.ServicesList)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServicesList=void 0;var u=a(n(135)),d=n(151),f=n(138),p=n(350),g=n(1571),m=c(n(5551)),h=function(e){var t=u.useCallback(function(){var t;g.sendCompactServicesMetrika(((t={})[e.id]="Click",t))},[e.id]);return u.default.createElement(f.Text,{as:"li"},u.default.createElement(d.Link,{view:"default",href:e.href,className:m.default.item,onClick:t},e.title))},v=function(){return u.default.createElement("li",{className:m.default.separator})};t.ServicesList=function(e){var t=e.services,n=e.isAbookPage,i=u.useMemo(function(){return p.getConfig()},[]),o=u.useMemo(function(){return t.filter(function(e){return n?"Contact"!==e.id:"Mail"!==e.id})},[n,t]);return u.useEffect(function(){var e=o.map(function(e){return e.id});g.sendShowOfCompactServices(p.isCorp()?e:l(e,["All services"]))},[]),u.default.createElement("ul",{className:m.default.root},o.map(function(e){return u.default.createElement(h,r({key:e.id},e))}),!p.isCorp()&&"com"!==i.domain&&u.default.createElement(u.default.Fragment,null,u.default.createElement(v,null),u.default.createElement(h,{id:"All Services",href:i["all-url"],title:" "})))}},function(e,t){e.exports={root:"ServicesList__root--2UZx-",item:"ServicesList__item--2QqIk",separator:"ServicesList__separator--1y8xg"}}]));