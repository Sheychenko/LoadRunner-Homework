!function(t){function e(t,e){this.agent=t,this.contrAgent=e||{},this._resultCallbacks={},this._resultCallbacksIndex=0,this._onMessage=this._onMessage.bind(this),this.agent.win.addEventListener("message",this._onMessage)}return e.prototype={invokeMethod:function(t,e,i){return e=[].concat(e),this._invokeMethod(t,e,i),this},clean:function(){this.agent.win.removeEventListener("message",this._onMessage),this.agent=void 0,this.contrAgent=void 0,this._resultCallbacks=void 0,this._resultCallbacksIndex=0},_checkOrigin:function(t){if(!t||"null"===t)return!1;var e,i;try{return e=document.createElement("a"),e.href=t,i=e.hostname,"string"==typeof i&&""!==i&&this._whiteList.some(function(t){var e=t.replace(/\./g,"\\.")+"$",n=i.replace(new RegExp(e),"");return 0===n.length||n!==i&&"."===n[n.length-1]})}catch(n){}},_onMessage:function(t){if(this._checkOrigin(t.origin)&&this.contrAgent&&this.contrAgent.win&&t.source===this.contrAgent.win){var e=t.data;try{e=JSON.parse(e)}catch(i){return}var n;if(e.methodCall){if(this.contrAgent.url||(this.contrAgent.url=t.origin),this.agent[e.methodCall]){var r,a=e.params;n=e.resultCallbackIndex?this._deInstrumentCallback(e.resultCallbackIndex):[],e.paramsCallbackIndex&&(a=[].concat(a,this._deInstrumentCallback(e.paramsCallbackIndex))),r=this.agent[e.methodCall].apply(this.agent,a),e.resultCallbackIndex&&n(r)}}else e.returnCall&&(n=this._idObjToCallback(e.resultCallbackIndex),n&&n.apply(this.agent,[].concat(e.params)))}},_invokeCallback:function(t,e){this._invokeMethod("",e,t)},_callbackToIdObj:function(t){var e=++this._resultCallbacksIndex;return this._resultCallbacks[e]=t,{__callbackId:e}},_idObjToCallback:function(t){var e=t,i=this._resultCallbacks[e];return delete this._resultCallbacks[e],i},_instrumentCallback:function(t){return this._callbackToIdObj(t)},_deInstrumentCallback:function(t){return function(){setTimeout(function(e){this.contrAgent&&this._invokeCallback(t.__callbackId,[].slice.call(e))}.bind(this,arguments),0)}.bind(this)},_invokeMethod:function(t,e,i){var n;if(t){var r,a=e&&e.pop();"function"==typeof a?r=this._instrumentCallback(a):e&&e.push(a),n={methodCall:t,params:e,paramsCallbackIndex:r,resultCallbackIndex:i&&this._instrumentCallback(i)}}else n={returnCall:!0,params:e,resultCallbackIndex:i};n=JSON.stringify(n),this.contrAgent.win&&this.contrAgent.win.postMessage(n,this.contrAgent.url)},_whiteList:["yandex.ru","yandex.net","yastatic.net","yandex.by","yandex.ua","yandex.com.tr","yandex.kz","yandex.com","yandex.az","yandex.co.il","yandex.com.am","yandex.com.ge","yandex.ee","yandex.fr","yandex.kg","yandex.lt","yandex.lv","yandex.md","yandex.tj","yandex.tm","yandex.uz","яндекс.рф","auto.ru","kinopoisk.ru"]},t.RPC=e}(window),function(t,e){function i(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}function n(t){return decodeURIComponent(t)}function r(t){var e=location.hostname.replace("www.","").split("."),i=e[0],n=e.reverse()[0];if("tr"===n&&(n="com.tr"),"yandex"===i){var r=location.pathname.split("/")[1];i="pogoda"===r?"weather":r}t||(t={}),t.iframeUrl||(t.iframeUrl="https://yastatic.net/daas/stripe.html"),t.hasOwnProperty("autoDestruct")||(t.autoDestruct=!0),t.ua||(t.ua=encodeURIComponent(navigator.userAgent)),t.referer||(t.referer=encodeURIComponent(location.href)),t.referer_origin=encodeURIComponent(document.referrer),t.tld||(t.tld=n),t.service||(t.service=i),t.counterUrl="https://yandex."+t.tld+"/clck/jclck",t.lang||(t.lang=n),t.zIndex||(t.zIndex=42e6),t.exp_confs=s("exp_confs"),t.enablePopup=Boolean(s("enable_popup")),t.ysSchema||(t.ysSchema={domain:".yandex."+n,path:"/"}),t.ypSchema||(t.ypSchema={expires:new Date("Tue Jan 1 00:00:00 2038"),domain:".yandex."+n,path:"/"}),t.yandex_gid||(t.yandex_gid=this.cookies.get("yandex_gid")),t.yandexuid||(t.yandexuid=this.cookies.get("yandexuid")),t.ys||(t.ys=this.ysRead()),t.yp||(t.yp=this.ypRead()),t.yc||(t.yc=this.ycRead()),t.login=this.cookies.get("yandex_login")?1:null,t.loginPopupPresent=o(),this.params=t}function a(){var t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!t&&parseInt(t[2],10)}function s(t){var e=null,i=[];return location.search.substr(1).split("&").forEach(function(n){i=n.split("="),i[0]===t&&(e=decodeURIComponent(i[1]))}),e}function o(){return Boolean(document.getElementsByClassName("serp-user__login-popup").length)||Boolean(document.getElementsByClassName("serp-user__promo-popup").length)}var c={get:function(t){var e=this.getAll();return e[t]||""},getAll:function(){for(var t=this.readCookie(),e=t?t.split("; "):[],i={},n=0;n<e.length;n++){var r=e[n].split("="),a=r[0],s=r.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1)),i[a]=s}return i},set:function(t,e,i){var n,r;i||(i={}),n=i.expires,"number"==typeof n&&(n=new Date(Date.now()+24*n*60*60*1e3)),r=[t,"=",e,n&&"; expires="+n.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join(""),this.writeCookie(r)},remove:function(t){this.set(t,"",{expires:-1})},readCookie:function(){return document.cookie},writeCookie:function(t){document.cookie=t}};r.SmartBanner=function(t){return t||(t={}),t.iframeUrl||(t.iframeUrl="https://yastatic.net/daas/smartbanner.html"),t.distributionType="smart_banner",new r(t)},r.StripePad=function(t){return t||(t={}),t.iframeUrl||(t.iframeUrl="https://yastatic.net/daas/stripe-pad.html"),t.distributionType="stripe",new r(t)},r.DistrPopup=function(t){return t||(t={}),t.iframeUrl||(t.iframeUrl="https://yastatic.net/daas/distr-popup.html"),t.distributionType="popup",new r(t)},r.whenInited=function(t){setTimeout(t,0)},r.prototype={win:t,getParams:function(){return this.params},cookies:c,defaultExpires:Math.round(Date.now()/1e3)+31536e3,ysRead:function(){var t=this.cookies.get("ys"),e=t?t.split("#"):[],i={};return e.forEach(function(t){var e=t.split("."),r=e[0],a=e.slice(1).join(".");i[r]=n(a)}),i},ypRead:function(){for(var t=this.cookies.get("yp"),e=t?t.split("#"):[],i=new Date/1e3,r={},a=0,s=e.length;a<s;a++){var o=e[a].split("."),c=o[0],h=o[1],l=o.slice(2).join(".");c>i&&(r[h]={value:n(l),expires:c})}return r},ycRead:function(){return this.cookies.get("yc")},ysWrite:function(t){for(var e=[],n=0,r=Object.keys(t),a=r.length;n<a;n++)e.push([r[n],i(t[r[n]])].join("."));this.cookies.set("ys",e.join("#"),this.params.ysSchema)},ypWrite:function(t){for(var e=[],n=0,r=Object.keys(t),a=r.length;n<a;n++)e.push([t[r[n]].expires,r[n],i(t[r[n]].value)].join("."));this.cookies.set("yp",e.join("#"),this.params.ypSchema)},ys:function(t,e){var i=this.ysRead();return e?(i[t]=e,this.ysWrite(i)):i[t]},yp:function(t,e,i){var n=this.ypRead(),r=n[t];return 1===arguments.length?r&&r.value:(r||(r={}),r.value=e,r.expires=i||r.expires||this.defaultExpires,n[t]=r,this.ypWrite(n))},applyStyleToBody:function(t){Object.keys(t).forEach(function(e){document.body.style[e]=t[e]})},getStylesFromBody:function(t){return[].concat(t).reduce(function(t,e){return t[e]=document.body.style[e],t},{})},applyStyleToIframe:function(t){this.iframe&&Object.keys(t).forEach(function(e){this.iframe.style[e]=t[e],this.params.isInline&&(this.iframeOverlay.style[e]=t[e],"width"===e&&(this.iframeOverlay.style.width="calc("+t.width+" - 64px)"))},this)},initIframe:function(t){if(!this.params.data||!this.params.data["source-aux"])return this.destruct(!0),new Error("no-data");var e=this.params.data["source-aux"]&&this.params.data["source-aux"].product;if(this.params.login&&"login"===e)return this.destruct(!0),new Error("no-data");var i=document.createElement("iframe");i.frameBorder=0,i.src=this.params.iframeUrl,i.style.display="block",i.style.width=0,i.style.height=0,i.style.zIndex=this.params.zIndex,i.style.transform="translate3d(0px, 0px, 0px)",i.setAttribute("aria-hidden","true"),i.onload=function(){t.contrAgent.win=i.contentWindow,t.invokeMethod("init",this.getParams())}.bind(this),this.container.appendChild(i),this.iframe=i,this.params.isInline&&this.initIframeOverlay()},initIframeOverlay:function(){var t=document.createElement("div");t.setAttribute("id","iframe-overlay"),t.style.zIndex=this.params.zIndex+1,t.style.transform="translate3d(0px, 0px, 0px)",this.container.appendChild(t),this.iframeOverlay=t},subscribeToResize:function(){t.addEventListener("resize",this._bindOnResize),t.addEventListener("orientationchange",this._bindOnResize)},_onResize:function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){this._isResizing=!1,this.show()}.bind(this),600),this._isResizing||(this._isResizing=!0,this.hide(!1,!0))},removeIframe:function(){this.iframe&&this.container.removeChild(this.iframe),this.iframe=void 0},applyStyleToPlaceholder:function(t){this.placeholder&&Object.keys(t).forEach(function(e){this.placeholder.style[e]=t[e]},this)},initPlaceholder:function(t){if(!this.params.disablePlaceholder){var e=document.createElement("div");e.style.position="relative","top"===t?this.container.insertBefore(e,this.container.firstChild):this.container.appendChild(e),this.placeholder=e}},removePlaceholder:function(){this.placeholder&&this.container.removeChild(this.placeholder),this.placeholder=void 0},addLink:function(t){var e=document.createElement("link");return e.rel="chrome-webstore-item",e.href=t,document.head.appendChild(e),this._link=e,Boolean(e)},removeLink:function(){this._link&&document.head.removeChild(this._link),this._link=void 0},install:function(e,i){var n=t.chrome&&t.chrome.webstore;if(n)try{n.install(e,function(){i&&i(null)},function(t){i&&i(t)})}catch(r){i&&i(r)}else i&&i("No webstore")},counter:function(t){t&&(document.createElement("IMG").src=this.params.counterUrl+"/pid="+t.pid+"/cid="+t.cid+"/path="+t.path+"/vars="+t.vars+"/*data=url%3D"+this.params.referer)},triggerEvent:function(t,e){this._events&&(this._events[t]||[]).forEach(function(i){i({type:t,target:this},e)}.bind(this))},on:function(t,e){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),this._events[t].push(e),this},init:function(t){var i=navigator.userAgent;if(/msie|trident/i.test(i)&&parseInt(i.split(/msie|rv:/i)[1],10)<=8)return this;var n=i.split("YaApp_iOS/");return n.length>1?this:(t||(t={}),this.container=t.container||document.body,this.rpcBridge=new e(this,{url:this.params.iframeUrl}),this.params.host=this.params.atomUrl||"https://mobile.yandex.net/search/atomsearch/daas",t.data&&t.data["source-aux"]?(this.params.data=t.data,this.setStripeType(this.params.data),this.initIframe(this.rpcBridge),this.params.isInline&&this._iframeOverlayBindEvents()):this.getData(t,function(t){this.params.data=t,this.setStripeType(t),this.initIframe(this.rpcBridge),this.params.isInline&&this._iframeOverlayBindEvents()}.bind(this)),this._bindOnResize=this._onResize.bind(this),this.on("after-close",this.destruct.bind(this,this.params.autoDestruct)),this.on("no-data",this.destruct.bind(this,this.params.autoDestruct)),this.on("redirect",this.redirect.bind(this)),this)},setStripeType:function(t){var e="stripe"===this.params.distributionType,i=t["source-aux"],n=i&&"inline"===i.button_type,r=e&&n;this.params.isInline=r&&[67,68].indexOf(a())>-1},_iframeOverlayBindEvents:function(){document.getElementById("iframe-overlay").addEventListener("click",function(){this.rpcBridge.invokeMethod("_showParanja"),this.install(this.params.data["source-aux"].button_url,function(){this.rpcBridge.invokeMethod("_installCallback")}.bind(this))}.bind(this))},hide:function(t,e){return this.rpcBridge&&this.rpcBridge.invokeMethod("hide",[Boolean(e),t]),this},show:function(t,e){return this.rpcBridge&&this.rpcBridge.invokeMethod("show",[Boolean(e),t]),this},destruct:function(e){return e?(this.rpcBridge&&this.rpcBridge.clean(),this.rpcBridge=void 0,this.removeIframe(),this.removePlaceholder(),this.removeLink(),void(this._events=void 0)):(t.removeEventListener("resize",this._bindOnResize),void t.removeEventListener("orientationchange",this._bindOnResize))},redirect:function(e,i){t.location.href=i.href},getUrl:function(t){function e(e,i){var n=i?i:t[e];return n?"&"+e+"="+n:""}var i=t.host+"?"+e("lang")+e("tld")+e("service")+e("referer")+e("referer_origin")+e("user-agent",t.ua)+e("yandexuid")+e("ys",encodeURIComponent(JSON.stringify(t.ys)))+e("yp",encodeURIComponent(JSON.stringify(t.yp)))+e("yc",t.yc)+e("exp_confs")+e("relev")+e("lr",t.yandex_gid);return i},getData:function(t,e){function i(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw new Error("This browser does not support XMLHttpRequest.")}),new XMLHttpRequest}var n=this.getUrl(this.params);try{var r=i(),a=this;r.open("GET",n,!0),r.onload=function(){try{e(a._processData(JSON.parse(this.responseText)))}catch(t){a.rpcBridge.invokeMethod("triggerEvent","no-data")}},r.onerror=function(){a.initIframe(a.rpcBridge)},r.send()}catch(s){return this.rpcBridge.invokeMethod("triggerEvent","no-data")}},_processData:function(t){var e,i=t["client-results"]||[],n=i.filter(function(t){return t.docs}),r=n[0];return r?r.name===this.params.distributionType?r.docs[0]:(e={stripe:"stripe.html",popup:"distr-popup.html"}[r.name],this.params.distributionType=r.name,this.params.iframeUrl="https://yastatic.net/daas/"+e,r.docs[0]):new Error("no-data")}};var h=t.Atom&&t.Atom.initCallbacks;if(t.Atom=r,h)for(var l=0;l<h.length;l++){var d=h[l];"function"==typeof d&&d()}return r}(window,window.RPC);